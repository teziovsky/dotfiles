"use strict";var Wr=Object.create;var Q=Object.defineProperty;var Gr=Object.getOwnPropertyDescriptor;var Kr=Object.getOwnPropertyNames;var Jr=Object.getPrototypeOf,Vr=Object.prototype.hasOwnProperty;var y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Yr=(e,t)=>{for(var r in t)Q(e,r,{get:t[r],enumerable:!0})},Qe=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Kr(t))!Vr.call(e,o)&&o!==r&&Q(e,o,{get:()=>t[o],enumerable:!(n=Gr(t,o))||n.enumerable});return e};var Qr=(e,t,r)=>(r=e!=null?Wr(Jr(e)):{},Qe(t||!e||!e.__esModule?Q(r,"default",{value:e,enumerable:!0}):r,e)),Zr=e=>Qe(Q({},"__esModule",{value:!0}),e);var Ze=y((go,Xr)=>{Xr.exports={name:"got",version:"9.6.0",description:"Simplified HTTP requests",license:"MIT",repository:"sindresorhus/got",main:"source",engines:{node:">=8.6"},scripts:{test:"xo && nyc ava",release:"np"},files:["source"],keywords:["http","https","get","got","url","uri","request","util","utility","simple","curl","wget","fetch","net","network","electron"],dependencies:{"@sindresorhus/is":"^0.14.0","@szmarczak/http-timer":"^1.1.2","cacheable-request":"^6.0.0","decompress-response":"^3.3.0",duplexer3:"^0.1.4","get-stream":"^4.1.0","lowercase-keys":"^1.0.1","mimic-response":"^1.0.1","p-cancelable":"^1.0.0","to-readable-stream":"^1.0.0","url-parse-lax":"^3.0.0"},devDependencies:{ava:"^1.1.0",coveralls:"^3.0.0",delay:"^4.1.0","form-data":"^2.3.3","get-port":"^4.0.0",np:"^3.1.0",nyc:"^13.1.0","p-event":"^2.1.0",pem:"^1.13.2",proxyquire:"^2.0.1",sinon:"^7.2.2","slow-stream":"0.0.4",tempfile:"^2.0.0",tempy:"^0.2.1","tough-cookie":"^3.0.0",xo:"^0.24.0"},ava:{concurrency:4},browser:{"decompress-response":!1,electron:!1}}});var ye=y((po,X)=>{"use strict";var Z=class extends Error{constructor(t){super(t||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},U=class{static fn(t){return(...r)=>new U((n,o,s)=>{r.push(s),t(...r).then(n,o)})}constructor(t){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,n)=>{this._reject=n;let o=i=>{this._isPending=!1,r(i)},s=i=>{this._isPending=!1,n(i)},c=i=>{this._cancelHandlers.push(i)};return Object.defineProperties(c,{shouldReject:{get:()=>this._rejectOnCancel,set:i=>{this._rejectOnCancel=i}}}),t(o,s,c)})}then(t,r){return this._promise.then(t,r)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(t){if(!(!this._isPending||this._isCanceled)){if(this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r)}this._isCanceled=!0,this._rejectOnCancel&&this._reject(new Z(t))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(U.prototype,Promise.prototype);X.exports=U;X.exports.default=U;X.exports.CancelError=Z});var k=y((be,we)=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});var en=typeof URL>"u"?require("url").URL:URL,tn=Object.prototype.toString,$=e=>t=>typeof t===e,Xe=e=>!v.nullOrUndefined(e)&&!v.nullOrUndefined(e.constructor)&&v.function_(e.constructor.isBuffer)&&e.constructor.isBuffer(e),ee=e=>{let t=tn.call(e).slice(8,-1);return t||null},_=e=>t=>ee(t)===e;function v(e){switch(e){case null:return"null";case!0:case!1:return"boolean";default:}switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"symbol":return"symbol";default:}if(v.function_(e))return"Function";if(v.observable(e))return"Observable";if(Array.isArray(e))return"Array";if(Xe(e))return"Buffer";let t=ee(e);if(t)return t;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}(function(e){let t=a=>typeof a=="object";e.undefined=$("undefined"),e.string=$("string"),e.number=$("number"),e.function_=$("function"),e.null_=a=>a===null,e.class_=a=>e.function_(a)&&a.toString().startsWith("class "),e.boolean=a=>a===!0||a===!1,e.symbol=$("symbol"),e.numericString=a=>e.string(a)&&a.length>0&&!Number.isNaN(Number(a)),e.array=Array.isArray,e.buffer=Xe,e.nullOrUndefined=a=>e.null_(a)||e.undefined(a),e.object=a=>!e.nullOrUndefined(a)&&(e.function_(a)||t(a)),e.iterable=a=>!e.nullOrUndefined(a)&&e.function_(a[Symbol.iterator]),e.asyncIterable=a=>!e.nullOrUndefined(a)&&e.function_(a[Symbol.asyncIterator]),e.generator=a=>e.iterable(a)&&e.function_(a.next)&&e.function_(a.throw),e.nativePromise=a=>_("Promise")(a);let r=a=>!e.null_(a)&&t(a)&&e.function_(a.then)&&e.function_(a.catch);e.promise=a=>e.nativePromise(a)||r(a),e.generatorFunction=_("GeneratorFunction"),e.asyncFunction=_("AsyncFunction"),e.boundFunction=a=>e.function_(a)&&!a.hasOwnProperty("prototype"),e.regExp=_("RegExp"),e.date=_("Date"),e.error=_("Error"),e.map=a=>_("Map")(a),e.set=a=>_("Set")(a),e.weakMap=a=>_("WeakMap")(a),e.weakSet=a=>_("WeakSet")(a),e.int8Array=_("Int8Array"),e.uint8Array=_("Uint8Array"),e.uint8ClampedArray=_("Uint8ClampedArray"),e.int16Array=_("Int16Array"),e.uint16Array=_("Uint16Array"),e.int32Array=_("Int32Array"),e.uint32Array=_("Uint32Array"),e.float32Array=_("Float32Array"),e.float64Array=_("Float64Array"),e.arrayBuffer=_("ArrayBuffer"),e.sharedArrayBuffer=_("SharedArrayBuffer"),e.dataView=_("DataView"),e.directInstanceOf=(a,l)=>Object.getPrototypeOf(a)===l.prototype,e.urlInstance=a=>_("URL")(a),e.urlString=a=>{if(!e.string(a))return!1;try{return new en(a),!0}catch{return!1}},e.truthy=a=>Boolean(a),e.falsy=a=>!a,e.nan=a=>Number.isNaN(a);let n=new Set(["undefined","string","number","boolean","symbol"]);e.primitive=a=>e.null_(a)||n.has(typeof a),e.integer=a=>Number.isInteger(a),e.safeInteger=a=>Number.isSafeInteger(a),e.plainObject=a=>{let l;return ee(a)==="Object"&&(l=Object.getPrototypeOf(a),l===null||l===Object.getPrototypeOf({}))};let o=new Set(["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"]);e.typedArray=a=>{let l=ee(a);return l===null?!1:o.has(l)};let s=a=>e.safeInteger(a)&&a>-1;e.arrayLike=a=>!e.nullOrUndefined(a)&&!e.function_(a)&&s(a.length),e.inRange=(a,l)=>{if(e.number(l))return a>=Math.min(0,l)&&a<=Math.max(l,0);if(e.array(l)&&l.length===2)return a>=Math.min(...l)&&a<=Math.max(...l);throw new TypeError(`Invalid range: ${JSON.stringify(l)}`)};let c=1,i=["innerHTML","ownerDocument","style","attributes","nodeValue"];e.domElement=a=>e.object(a)&&a.nodeType===c&&e.string(a.nodeName)&&!e.plainObject(a)&&i.every(l=>l in a),e.observable=a=>a?!!(a[Symbol.observable]&&a===a[Symbol.observable]()||a["@@observable"]&&a===a["@@observable"]()):!1,e.nodeStream=a=>!e.nullOrUndefined(a)&&t(a)&&e.function_(a.pipe)&&!e.observable(a),e.infinite=a=>a===1/0||a===-1/0;let d=a=>l=>e.integer(l)&&Math.abs(l%2)===a;e.even=d(0),e.odd=d(1);let u=a=>e.string(a)&&/\S/.test(a)===!1;e.emptyArray=a=>e.array(a)&&a.length===0,e.nonEmptyArray=a=>e.array(a)&&a.length>0,e.emptyString=a=>e.string(a)&&a.length===0,e.nonEmptyString=a=>e.string(a)&&a.length>0,e.emptyStringOrWhitespace=a=>e.emptyString(a)||u(a),e.emptyObject=a=>e.object(a)&&!e.map(a)&&!e.set(a)&&Object.keys(a).length===0,e.nonEmptyObject=a=>e.object(a)&&!e.map(a)&&!e.set(a)&&Object.keys(a).length>0,e.emptySet=a=>e.set(a)&&a.size===0,e.nonEmptySet=a=>e.set(a)&&a.size>0,e.emptyMap=a=>e.map(a)&&a.size===0,e.nonEmptyMap=a=>e.map(a)&&a.size>0;let h=(a,l,m)=>{if(e.function_(l)===!1)throw new TypeError(`Invalid predicate: ${JSON.stringify(l)}`);if(m.length===0)throw new TypeError("Invalid number of values");return a.call(m,l)};e.any=(a,...l)=>h(Array.prototype.some,a,l),e.all=(a,...l)=>h(Array.prototype.every,a,l)})(v||(v={}));Object.defineProperties(v,{class:{value:v.class_},function:{value:v.function_},null:{value:v.null_}});be.default=v;we.exports=v;we.exports.default=v});var W=y((yo,O)=>{"use strict";var rn=require("url"),_e=require("http"),nn=ye(),an=k(),P=class extends Error{constructor(t,r,n){super(t),Error.captureStackTrace(this,this.constructor),this.name="GotError",an.undefined(r.code)||(this.code=r.code),Object.assign(this,{host:n.host,hostname:n.hostname,method:n.method,path:n.path,socketPath:n.socketPath,protocol:n.protocol,url:n.href,gotOptions:n})}};O.exports.GotError=P;O.exports.CacheError=class extends P{constructor(e,t){super(e.message,e,t),this.name="CacheError"}};O.exports.RequestError=class extends P{constructor(e,t){super(e.message,e,t),this.name="RequestError"}};O.exports.ReadError=class extends P{constructor(e,t){super(e.message,e,t),this.name="ReadError"}};O.exports.ParseError=class extends P{constructor(e,t,r,n){super(`${e.message} in "${rn.format(r)}": 
${n.slice(0,77)}...`,e,r),this.name="ParseError",this.statusCode=t,this.statusMessage=_e.STATUS_CODES[this.statusCode]}};O.exports.HTTPError=class extends P{constructor(e,t){let{statusCode:r}=e,{statusMessage:n}=e;n?n=n.replace(/\r?\n/g," ").trim():n=_e.STATUS_CODES[r],super(`Response code ${r} (${n})`,{},t),this.name="HTTPError",this.statusCode=r,this.statusMessage=n,this.headers=e.headers,this.body=e.body}};O.exports.MaxRedirectsError=class extends P{constructor(e,t,r){super("Redirected 10 times. Aborting.",{},r),this.name="MaxRedirectsError",this.statusCode=e,this.statusMessage=_e.STATUS_CODES[this.statusCode],this.redirectUrls=t}};O.exports.UnsupportedProtocolError=class extends P{constructor(e){super(`Unsupported protocol "${e.protocol}"`,{},e),this.name="UnsupportedProtocolError"}};O.exports.TimeoutError=class extends P{constructor(e,t){super(e.message,{code:"ETIMEDOUT"},t),this.name="TimeoutError",this.event=e.event}};O.exports.CancelError=nn.CancelError});var et=y((vo,xe)=>{"use strict";var Ee=require("stream");function N(e,t,r){typeof r>"u"&&(r=t,t=e,e=null),Ee.Duplex.call(this,e),typeof r.read!="function"&&(r=new Ee.Readable(e).wrap(r)),this._writable=t,this._readable=r,this._waiting=!1;var n=this;t.once("finish",function(){n.end()}),this.once("finish",function(){t.end()}),r.on("readable",function(){n._waiting&&(n._waiting=!1,n._read())}),r.once("end",function(){n.push(null)}),(!e||typeof e.bubbleErrors>"u"||e.bubbleErrors)&&(t.on("error",function(o){n.emit("error",o)}),r.on("error",function(o){n.emit("error",o)}))}N.prototype=Object.create(Ee.Duplex.prototype,{constructor:{value:N}});N.prototype._write=function(t,r,n){this._writable.write(t,r,n)};N.prototype._read=function(){for(var t,r=0;(t=this._readable.read())!==null;)this.push(t),r++;r===0&&(this._waiting=!0)};xe.exports=function(t,r,n){return new N(t,r,n)};xe.exports.DuplexWrapper=N});var nt=y((ko,Te)=>{"use strict";var on=typeof URL>"u"?require("url").URL:URL,sn="text/plain",cn="us-ascii",tt=(e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),un=(e,{stripHash:t})=>{let r=e.match(/^data:([^,]*?),([^#]*?)(?:#(.*))?$/);if(!r)throw new Error(`Invalid URL: ${e}`);let n=r[1].split(";"),o=r[2],s=t?"":r[3],c=!1;n[n.length-1]==="base64"&&(n.pop(),c=!0);let i=(n.shift()||"").toLowerCase(),u=[...n.map(h=>{let[a,l=""]=h.split("=").map(m=>m.trim());return a==="charset"&&(l=l.toLowerCase(),l===cn)?"":`${a}${l?`=${l}`:""}`}).filter(Boolean)];return c&&u.push("base64"),(u.length!==0||i&&i!==sn)&&u.unshift(i),`data:${u.join(";")},${c?o.trim():o}${s?`#${s}`:""}`},rt=(e,t)=>{if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},Reflect.has(t,"normalizeHttps"))throw new Error("options.normalizeHttps is renamed to options.forceHttp");if(Reflect.has(t,"normalizeHttp"))throw new Error("options.normalizeHttp is renamed to options.forceHttps");if(Reflect.has(t,"stripFragment"))throw new Error("options.stripFragment is renamed to options.stripHash");if(e=e.trim(),/^data:/i.test(e))return un(e,t);let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let o=new on(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&o.protocol==="https:"&&(o.protocol="http:"),t.forceHttps&&o.protocol==="http:"&&(o.protocol="https:"),t.stripAuthentication&&(o.username="",o.password=""),t.stripHash&&(o.hash=""),o.pathname&&(o.pathname=o.pathname.replace(/((?!:).|^)\/{2,}/g,(s,c)=>/^(?!\/)/g.test(c)?`${c}/`:"/")),o.pathname&&(o.pathname=decodeURI(o.pathname)),t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let s=o.pathname.split("/"),c=s[s.length-1];tt(c,t.removeDirectoryIndex)&&(s=s.slice(0,s.length-1),o.pathname=s.slice(1).join("/")+"/")}if(o.hostname&&(o.hostname=o.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.([a-z\-\d]{2,63})\.([a-z.]{2,5})$/.test(o.hostname)&&(o.hostname=o.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let s of[...o.searchParams.keys()])tt(s,t.removeQueryParameters)&&o.searchParams.delete(s);return t.sortQueryParameters&&o.searchParams.sort(),t.removeTrailingSlash&&(o.pathname=o.pathname.replace(/\/$/,"")),e=o.toString(),(t.removeTrailingSlash||o.pathname==="/")&&o.hash===""&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e};Te.exports=rt;Te.exports.default=rt});var st=y((Po,ot)=>{ot.exports=at;function at(e,t){if(e&&t)return at(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];var s=e.apply(this,n),c=n[n.length-1];return typeof s=="function"&&s!==c&&Object.keys(c).forEach(function(i){s[i]=c[i]}),s}}});var Se=y((Oo,Ce)=>{var it=st();Ce.exports=it(te);Ce.exports.strict=it(ct);te.proto=te(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return te(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return ct(this)},configurable:!0})});function te(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function ct(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var ft=y((qo,lt)=>{var ln=Se(),fn=function(){},dn=function(e){return e.setHeader&&typeof e.abort=="function"},hn=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},ut=function(e,t,r){if(typeof t=="function")return ut(e,null,t);t||(t={}),r=ln(r||fn);var n=e._writableState,o=e._readableState,s=t.readable||t.readable!==!1&&e.readable,c=t.writable||t.writable!==!1&&e.writable,i=!1,d=function(){e.writable||u()},u=function(){c=!1,s||r.call(e)},h=function(){s=!1,c||r.call(e)},a=function(g){r.call(e,g?new Error("exited with error code: "+g):null)},l=function(g){r.call(e,g)},m=function(){process.nextTick(w)},w=function(){if(!i){if(s&&!(o&&o.ended&&!o.destroyed))return r.call(e,new Error("premature close"));if(c&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))}},f=function(){e.req.on("finish",u)};return dn(e)?(e.on("complete",u),e.on("abort",m),e.req?f():e.on("request",f)):c&&!n&&(e.on("end",d),e.on("close",d)),hn(e)&&e.on("exit",a),e.on("end",h),e.on("finish",u),t.error!==!1&&e.on("error",l),e.on("close",m),function(){i=!0,e.removeListener("complete",u),e.removeListener("abort",m),e.removeListener("request",f),e.req&&e.req.removeListener("finish",u),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",u),e.removeListener("exit",a),e.removeListener("end",h),e.removeListener("error",l),e.removeListener("close",m)}};lt.exports=ut});var ke=y((Ho,ht)=>{var mn=Se(),gn=ft(),ve=require("fs"),G=function(){},pn=/^v?\.0/.test(process.version),re=function(e){return typeof e=="function"},yn=function(e){return!pn||!ve?!1:(e instanceof(ve.ReadStream||G)||e instanceof(ve.WriteStream||G))&&re(e.close)},bn=function(e){return e.setHeader&&re(e.abort)},wn=function(e,t,r,n){n=mn(n);var o=!1;e.on("close",function(){o=!0}),gn(e,{readable:t,writable:r},function(c){if(c)return n(c);o=!0,n()});var s=!1;return function(c){if(!o&&!s){if(s=!0,yn(e))return e.close(G);if(bn(e))return e.abort();if(re(e.destroy))return e.destroy();n(c||new Error("stream was destroyed"))}}},dt=function(e){e()},_n=function(e,t){return e.pipe(t)},En=function(){var e=Array.prototype.slice.call(arguments),t=re(e[e.length-1]||G)&&e.pop()||G;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(o,s){var c=s<e.length-1,i=s>0;return wn(o,c,i,function(d){r||(r=d),d&&n.forEach(dt),!c&&(n.forEach(dt),t(r))})});return e.reduce(_n)};ht.exports=En});var gt=y((Ro,mt)=>{"use strict";var{PassThrough:xn}=require("stream");mt.exports=e=>{e={...e};let{array:t}=e,{encoding:r}=e,n=r==="buffer",o=!1;t?o=!(r||n):r=r||"utf8",n&&(r=null);let s=new xn({objectMode:o});r&&s.setEncoding(r);let c=0,i=[];return s.on("data",d=>{i.push(d),o?c=i.length:c+=d.length}),s.getBufferedValue=()=>t?i:n?Buffer.concat(i,c):i.join(""),s.getBufferedLength=()=>c,s}});var pt=y((Ao,F)=>{"use strict";var{constants:Tn}=require("buffer"),Cn=ke(),Sn=gt(),ne=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function ae(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:1/0,...t};let{maxBuffer:r}=t,n;return await new Promise((o,s)=>{let c=i=>{i&&n.getBufferedLength()<=Tn.MAX_LENGTH&&(i.bufferedData=n.getBufferedValue()),s(i)};n=Cn(e,Sn(t),i=>{if(i){c(i);return}o()}),n.on("data",()=>{n.getBufferedLength()>r&&c(new ne)})}),n.getBufferedValue()}F.exports=ae;F.exports.default=ae;F.exports.buffer=(e,t)=>ae(e,{...t,encoding:"buffer"});F.exports.array=(e,t)=>ae(e,{...t,array:!0});F.exports.MaxBufferError=ne});var bt=y((Uo,yt)=>{"use strict";var vn=new Set([200,203,204,206,300,301,404,405,410,414,501]),kn=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),Pn=new Set([500,502,503,504]),On={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},qn={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function L(e){let t=parseInt(e,10);return isFinite(t)?t:0}function Hn(e){return e?Pn.has(e.status):!0}function Pe(e){let t={};if(!e)return t;let r=e.trim().split(/\s*,\s*/);for(let n of r){let[o,s]=n.split(/\s*=\s*/,2);t[o]=s===void 0?!0:s.replace(/^"|"$/g,"")}return t}function Rn(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(!!t.length)return t.join(", ")}yt.exports=class{constructor(t,r,{shared:n,cacheHeuristic:o,immutableMinTimeToLive:s,ignoreCargoCult:c,_fromObject:i}={}){if(i){this._fromObject(i);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=o!==void 0?o:.1,this._immutableMinTtl=s!==void 0?s:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=Pe(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=Pe(t.headers["cache-control"]),c&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":Rn(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&kn.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||vn.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=Pe(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)On[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let o of n)delete r[o]}if(r.warning){let n=r.warning.split(/,/).filter(o=>!/^\s*1[0-9][0-9]/.test(o));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return L(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return L(this._rescc["s-maxage"])}if(this._rescc["max-age"])return L(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+L(this._rescc["stale-if-error"]),n=t+L(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+L(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+L(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let o=r["if-none-match"].split(/,/).filter(s=>!/^\s*W\//.test(s));o.length?r["if-none-match"]=o.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&Hn(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let o={};for(let c in this._resHeaders)o[c]=c in r.headers&&!qn[c]?r.headers[c]:this._resHeaders[c];let s=Object.assign({},r,{status:this._status,method:this._method,headers:o});return{policy:new this.constructor(t,s,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var Oe=y((Lo,wt)=>{"use strict";wt.exports=function(e){for(var t={},r=Object.keys(Object(e)),n=0;n<r.length;n++)t[r[n].toLowerCase()]=e[r[n]];return t}});var Et=y((Mo,_t)=>{"use strict";var An=require("stream").Readable,jn=Oe(),qe=class extends An{constructor(t,r,n,o){if(typeof t!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(n instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof o!="string")throw new TypeError("Argument `url` should be a string");super(),this.statusCode=t,this.headers=jn(r),this.body=n,this.url=o}_read(){this.push(this.body),this.push(null)}};_t.exports=qe});var Tt=y((Io,xt)=>{"use strict";xt.exports=e=>{let t={};for(let[r,n]of Object.entries(e))t[r.toLowerCase()]=n;return t}});var oe=y((Bo,Ct)=>{"use strict";var Un=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];Ct.exports=(e,t)=>{let r=new Set(Object.keys(e).concat(Un));for(let n of r)n in t||(t[n]=typeof e[n]=="function"?e[n].bind(e):e[n])}});var vt=y((zo,St)=>{"use strict";var Ln=require("stream").PassThrough,Mn=oe(),In=e=>{if(!(e&&e.pipe))throw new TypeError("Parameter `response` must be a response stream.");let t=new Ln;return Mn(e,t),e.pipe(t)};St.exports=In});var kt=y(He=>{He.stringify=function e(t){if(typeof t>"u")return t;if(t&&Buffer.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON&&(t=t.toJSON()),t&&typeof t=="object"){var r="",n=Array.isArray(t);r=n?"[":"{";var o=!0;for(var s in t){var c=typeof t[s]=="function"||!n&&typeof t[s]>"u";Object.hasOwnProperty.call(t,s)&&!c&&(o||(r+=","),o=!1,n?t[s]==null?r+="null":r+=e(t[s]):t[s]!==void 0&&(r+=e(s)+":"+e(t[s])))}return r+=n?"]":"}",r}else return typeof t=="string"?JSON.stringify(/^:/.test(t)?":"+t:t):typeof t>"u"?"null":JSON.stringify(t)};He.parse=function(e){return JSON.parse(e,function(t,r){return typeof r=="string"?/^:base64:/.test(r)?new Buffer(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var qt=y((No,Ot)=>{"use strict";var Bn=require("events"),Pt=kt(),zn=e=>{let t={redis:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql"};if(e.adapter||e.uri){let r=e.adapter||/^[^:]*/.exec(e.uri)[0];return new(require(t[r]))(e)}return new Map},Re=class extends Bn{constructor(t,r){if(super(),this.opts=Object.assign({namespace:"keyv",serialize:Pt.stringify,deserialize:Pt.parse},typeof t=="string"?{uri:t}:t,r),!this.opts.store){let n=Object.assign({},this.opts);this.opts.store=zn(n)}typeof this.opts.store.on=="function"&&this.opts.store.on("error",n=>this.emit("error",n)),this.opts.store.namespace=this.opts.namespace}_getKeyPrefix(t){return`${this.opts.namespace}:${t}`}get(t){t=this._getKeyPrefix(t);let r=this.opts.store;return Promise.resolve().then(()=>r.get(t)).then(n=>{if(n=typeof n=="string"?this.opts.deserialize(n):n,n!==void 0){if(typeof n.expires=="number"&&Date.now()>n.expires){this.delete(t);return}return n.value}})}set(t,r,n){t=this._getKeyPrefix(t),typeof n>"u"&&(n=this.opts.ttl),n===0&&(n=void 0);let o=this.opts.store;return Promise.resolve().then(()=>{let s=typeof n=="number"?Date.now()+n:null;return r={value:r,expires:s},o.set(t,this.opts.serialize(r),n)}).then(()=>!0)}delete(t){t=this._getKeyPrefix(t);let r=this.opts.store;return Promise.resolve().then(()=>r.delete(t))}clear(){let t=this.opts.store;return Promise.resolve().then(()=>t.clear())}};Ot.exports=Re});var At=y((Fo,Rt)=>{"use strict";var Dn=require("events"),se=require("url"),Nn=nt(),Fn=pt(),Ae=bt(),Ht=Et(),$n=Tt(),Wn=vt(),Gn=qt(),q=class{constructor(t,r){if(typeof t!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new Gn({uri:typeof r=="string"&&r,store:typeof r!="string"&&r,namespace:"cacheable-request"}),this.createCacheableRequest(t)}createCacheableRequest(t){return(r,n)=>{let o;if(typeof r=="string")o=je(se.parse(r)),r={};else if(r instanceof se.URL)o=je(se.parse(r.toString())),r={};else{let[a,...l]=(r.path||"").split("?"),m=l.length>0?`?${l.join("?")}`:"";o=je({...r,pathname:a,search:m})}r={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...r,...Kn(o)},r.headers=$n(r.headers);let s=new Dn,c=Nn(se.format(o),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),i=`${r.method}:${c}`,d=!1,u=!1,h=a=>{u=!0;let l=!1,m,w=new Promise(g=>{m=()=>{l||(l=!0,g())}}),f=g=>{if(d&&!a.forceRefresh){g.status=g.statusCode;let C=Ae.fromObject(d.cachePolicy).revalidatedPolicy(a,g);if(!C.modified){let H=C.policy.responseHeaders();g=new Ht(d.statusCode,H,d.body,d.url),g.cachePolicy=C.policy,g.fromCache=!0}}g.fromCache||(g.cachePolicy=new Ae(a,g,a),g.fromCache=!1);let T;a.cache&&g.cachePolicy.storable()?(T=Wn(g),(async()=>{try{let C=Fn.buffer(g);if(await Promise.race([w,new Promise(x=>g.once("end",x))]),l)return;let H=await C,Y={cachePolicy:g.cachePolicy.toObject(),url:g.url,statusCode:g.fromCache?d.statusCode:g.statusCode,body:H},p=a.strictTtl?g.cachePolicy.timeToLive():void 0;a.maxTtl&&(p=p?Math.min(p,a.maxTtl):a.maxTtl),await this.cache.set(i,Y,p)}catch(C){s.emit("error",new q.CacheError(C))}})()):a.cache&&d&&(async()=>{try{await this.cache.delete(i)}catch(C){s.emit("error",new q.CacheError(C))}})(),s.emit("response",T||g),typeof n=="function"&&n(T||g)};try{let g=t(a,f);g.once("error",m),g.once("abort",m),s.emit("request",g)}catch(g){s.emit("error",new q.RequestError(g))}};return(async()=>{let a=async m=>{await Promise.resolve();let w=m.cache?await this.cache.get(i):void 0;if(typeof w>"u")return h(m);let f=Ae.fromObject(w.cachePolicy);if(f.satisfiesWithoutRevalidation(m)&&!m.forceRefresh){let g=f.responseHeaders(),T=new Ht(w.statusCode,g,w.body,w.url);T.cachePolicy=f,T.fromCache=!0,s.emit("response",T),typeof n=="function"&&n(T)}else d=w,m.headers=f.revalidationHeaders(m),h(m)},l=m=>s.emit("error",new q.CacheError(m));this.cache.once("error",l),s.on("response",()=>this.cache.removeListener("error",l));try{await a(r)}catch(m){r.automaticFailover&&!u&&h(r),s.emit("error",new q.CacheError(m))}})(),s}}};function Kn(e){let t={...e};return t.path=`${e.pathname||"/"}${e.search||""}`,delete t.pathname,delete t.search,t}function je(e){return{protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search}}q.RequestError=class extends Error{constructor(e){super(e.message),this.name="RequestError",Object.assign(this,e)}};q.CacheError=class extends Error{constructor(e){super(e.message),this.name="CacheError",Object.assign(this,e)}};Rt.exports=q});var Ut=y((Go,jt)=>{"use strict";var{Readable:Jn}=require("stream");jt.exports=e=>new Jn({read(){this.push(e),this.push(null)}})});var Lt=y((Le,Me)=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var Vn=require("tls"),Ue=(e,t)=>{let r;typeof t=="function"?r={connect:t}:r=t;let n=typeof r.connect=="function",o=typeof r.secureConnect=="function",s=typeof r.close=="function",c=()=>{n&&r.connect(),e instanceof Vn.TLSSocket&&o&&(e.authorized?r.secureConnect():e.authorizationError||e.once("secureConnect",r.secureConnect)),s&&e.once("close",r.close)};e.writable&&!e.connecting?c():e.connecting?e.once("connect",c):e.destroyed&&s&&r.close(e._hadError)};Le.default=Ue;Me.exports=Ue;Me.exports.default=Ue});var It=y((Ko,Mt)=>{"use strict";var Yn=Lt();Mt.exports=e=>{let t={start:Date.now(),socket:null,lookup:null,connect:null,upload:null,response:null,end:null,error:null,phases:{wait:null,dns:null,tcp:null,request:null,firstByte:null,download:null,total:null}},r=s=>{let c=s.emit.bind(s);s.emit=(i,...d)=>(i==="error"&&(t.error=Date.now(),t.phases.total=t.error-t.start,s.emit=c),c(i,...d))},n=!1,o=()=>{t.upload=Date.now(),t.phases.request=t.upload-t.connect};return r(e),e.once("socket",s=>{t.socket=Date.now(),t.phases.wait=t.socket-t.start;let c=()=>{t.lookup=Date.now(),t.phases.dns=t.lookup-t.socket};s.once("lookup",c),Yn(s,()=>{t.connect=Date.now(),t.lookup===null&&(s.removeListener("lookup",c),t.lookup=t.connect,t.phases.dns=t.lookup-t.socket),t.phases.tcp=t.connect-t.lookup,n&&!t.upload&&o()})}),e.once("finish",()=>{n=!0,t.connect&&o()}),e.once("response",s=>{t.response=Date.now(),t.phases.firstByte=t.response-t.upload,r(s),s.once("end",()=>{t.end=Date.now(),t.phases.download=t.end-t.response,t.phases.total=t.end-t.start})}),t}});var Dt=y((Jo,Ie)=>{"use strict";var Bt=require("net"),ie=class extends Error{constructor(t,r){super(`Timeout awaiting '${r}' for ${t}ms`),this.name="TimeoutError",this.code="ETIMEDOUT",this.event=r}},zt=Symbol("reentry"),Qn=()=>{};Ie.exports=(e,t,r)=>{if(e[zt])return;e[zt]=!0;let n=!1,o=(h,a,...l)=>{if(n)return Qn;let m,w=setTimeout(()=>{m=setImmediate(a,h,...l),m.unref&&m.unref()},h);w.unref&&w.unref();let f=()=>{clearTimeout(w),clearImmediate(m)};return d.push(f),f},{host:s,hostname:c}=r,i=(h,a)=>{e.emit("error",new ie(h,a)),e.once("error",()=>{}),e.abort()},d=[],u=()=>{n=!0,d.forEach(h=>h())};if(e.once("error",u),e.once("response",h=>{h.once("end",u)}),t.request!==void 0&&o(t.request,i,"request"),t.socket!==void 0){let h=()=>{i(t.socket,"socket")};e.setTimeout(t.socket,h),d.push(()=>e.removeListener("timeout",h))}t.lookup!==void 0&&!e.socketPath&&!Bt.isIP(c||s)&&e.once("socket",h=>{if(h.connecting){let a=o(t.lookup,i,"lookup");h.once("lookup",a)}}),t.connect!==void 0&&e.once("socket",h=>{if(h.connecting){let a=()=>o(t.connect,i,"connect");e.socketPath||Bt.isIP(c||s)?h.once("connect",a()):h.once("lookup",l=>{l===null&&h.once("connect",a())})}}),t.secureConnect!==void 0&&r.protocol==="https:"&&e.once("socket",h=>{h.connecting&&h.once("connect",()=>{let a=o(t.secureConnect,i,"secureConnect");h.once("secureConnect",a)})}),t.send!==void 0&&e.once("socket",h=>{let a=()=>o(t.send,i,"send");h.connecting?h.once("connect",()=>{e.once("upload-complete",a())}):e.once("upload-complete",a())}),t.response!==void 0&&e.once("upload-complete",()=>{let h=o(t.response,i,"response");e.once("response",h)})};Ie.exports.TimeoutError=ie});var Be=y((Vo,Ft)=>{"use strict";var Nt=k();Ft.exports=e=>Nt.nodeStream(e)&&Nt.function(e.getBoundary)});var Kt=y((Yo,Gt)=>{"use strict";var $t=require("fs"),Wt=require("util"),Zn=k(),Xn=Be();Gt.exports=async e=>{let{body:t}=e;if(e.headers["content-length"])return Number(e.headers["content-length"]);if(!t&&!e.stream)return 0;if(Zn.string(t))return Buffer.byteLength(t);if(Xn(t))return Wt.promisify(t.getLength.bind(t))();if(t instanceof $t.ReadStream){let{size:r}=await Wt.promisify($t.stat)(t.path);return r}return null}});var Vt=y((Qo,Jt)=>{"use strict";var ea=require("stream").PassThrough,ta=require("zlib"),ra=oe();Jt.exports=e=>{if(["gzip","deflate"].indexOf(e.headers["content-encoding"])===-1)return e;let t=ta.createUnzip(),r=new ea;return ra(e,r),t.on("error",n=>{if(n.code==="Z_BUF_ERROR"){r.end();return}r.emit("error",n)}),e.pipe(t).pipe(r),r}});var ze=y((Zo,Yt)=>{"use strict";var{Transform:na}=require("stream");Yt.exports={download(e,t,r){let n=0;return new na({transform(o,s,c){n+=o.length;let i=r?n/r:0;i<1&&t.emit("downloadProgress",{percent:i,transferred:n,total:r}),c(null,o)},flush(o){t.emit("downloadProgress",{percent:1,transferred:n,total:r}),o()}})},upload(e,t,r){let o=0,s;t.emit("uploadProgress",{percent:0,transferred:0,total:r}),e.once("error",()=>{clearInterval(s)}),e.once("response",()=>{clearInterval(s),t.emit("uploadProgress",{percent:1,transferred:o,total:r})}),e.once("socket",c=>{let i=()=>{s=setInterval(()=>{let d=o,u=e._header?Buffer.byteLength(e._header):0;o=c.bytesWritten-u,!(o===d||o===r)&&t.emit("uploadProgress",{percent:r?o/r:0,transferred:o,total:r})},150)};c.connecting?c.once("connect",i):c.writable&&i()})}}});var Xt=y((Xo,Zt)=>{"use strict";var Qt=Vt(),aa=k(),oa=oe(),sa=ze();Zt.exports=(e,t,r)=>{let n=Number(e.headers["content-length"])||null,o=sa.download(e,r,n);oa(e,o);let s=t.decompress===!0&&aa.function(Qt)&&t.method!=="HEAD"?Qt(o):o;!t.decompress&&["gzip","deflate"].includes(e.headers["content-encoding"])&&(t.encoding=null),r.emit("response",s),r.emit("downloadProgress",{percent:0,transferred:0,total:n}),e.pipe(o)}});var De=y((es,tr)=>{"use strict";var er=k();tr.exports=e=>{let t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href};return er.string(e.port)&&e.port.length>0&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username}:${e.password}`),t.path=er.null(e.search)?e.pathname:`${e.pathname}${e.search}`,t}});var Ne=y((ts,sr)=>{"use strict";var{URL:rr}=require("url"),nr=require("util"),ia=require("events"),ca=require("http"),ua=require("https"),la=require("url"),ar=At(),fa=Ut(),R=k(),da=It(),or=Dt(),ha=Kt(),ma=Xt(),ga=ze(),{CacheError:pa,UnsupportedProtocolError:ya,MaxRedirectsError:ba,RequestError:ce,TimeoutError:wa}=W(),_a=De(),Ea=new Set([300,301,302,303,304,305,307,308]),xa=new Set([300,303,307,308]);sr.exports=(e,t)=>{let r=new ia,n=[],o,s,c,i,d=0,u=!1,h=e.cookieJar?nr.promisify(e.cookieJar.setCookie.bind(e.cookieJar)):null,a=e.cookieJar?nr.promisify(e.cookieJar.getCookieString.bind(e.cookieJar)):null,l=R.object(e.agent)?e.agent:null,m=async f=>{try{for(let g of e.hooks.beforeError)f=await g(f);r.emit("error",f)}catch(g){r.emit("error",g)}},w=async f=>{let g=c||s;if(f.protocol!=="http:"&&f.protocol!=="https:")throw new ya(f);decodeURI(g);let T;if(R.function(f.request)?T={request:f.request}:T=f.protocol==="https:"?ua:ca,l){let p=f.protocol==="https:"?"https":"http";f.agent=l[p]||f.agent}if(f.useElectronNet&&process.versions.electron){let p={x:require}["yx".slice(1)],x=p("electron");T=x.net||x.remote.net}if(f.cookieJar){let p=await a(g,{});R.nonEmptyString(p)&&(f.headers.cookie=p)}let C,H=async p=>{try{f.useElectronNet&&(p=new Proxy(p,{get:(z,D)=>{if(D==="trailers"||D==="rawTrailers")return[];let j=z[D];return R.function(j)?j.bind(z):j}}));let{statusCode:x}=p;p.url=g,p.requestUrl=s,p.retryCount=d,p.timings=C,p.redirectUrls=n,p.request={gotOptions:f};let S=p.headers["set-cookie"];if(f.cookieJar&&S&&await Promise.all(S.map(z=>h(z,p.url))),f.followRedirect&&"location"in p.headers&&(xa.has(x)||Ea.has(x)&&(f.method==="GET"||f.method==="HEAD"))){if(p.resume(),x===303&&(f.method="GET"),n.length>=10)throw new ba(x,n,f);let z=Buffer.from(p.headers.location,"binary").toString(),D=new rr(z,g);c=D.toString(),n.push(c);let j={...f,..._a(D)};for(let $r of f.hooks.beforeRedirect)await $r(j);r.emit("redirect",p,j),await w(j);return}ma(p,f,r)}catch(x){m(x)}},Y=p=>{if(u){p.once("error",()=>{}),p.abort();return}o=p,p.once("error",S=>{p.aborted||(S instanceof or.TimeoutError?S=new wa(S,f):S=new ce(S,f),r.retry(S)===!1&&m(S))}),C=da(p),ga.upload(p,r,i),f.gotTimeout&&or(p,f.gotTimeout,f),r.emit("request",p);let x=()=>{p.emit("upload-complete")};try{R.nodeStream(f.body)?(f.body.once("end",x),f.body.pipe(p),f.body=void 0):f.body?p.end(f.body,x):t&&(f.method==="POST"||f.method==="PUT"||f.method==="PATCH")?(t.once("end",x),t.pipe(p)):p.end(x)}catch(S){m(new ce(S,f))}};if(f.cache){let x=new ar(T.request,f.cache)(f,H);x.once("error",S=>{S instanceof ar.RequestError?m(new ce(S,f)):m(new pa(S,f))}),x.once("request",Y)}else try{Y(T.request(f,H))}catch(p){m(new ce(p,f))}};return r.retry=f=>{let g;try{g=e.retry.retries(++d,f)}catch(T){m(T);return}return g?(setTimeout(async C=>{try{for(let H of C.hooks.beforeRetry)await H(C,f,d);await w(C)}catch(H){m(H)}},g,{...e,forceRefresh:!0}),!0):!1},r.abort=()=>{o?(o.once("error",()=>{}),o.abort()):u=!0},setImmediate(async()=>{try{let{body:f}=e;R.buffer(f)?(e.body=fa(f),i=f.length):i=await ha(e),R.undefined(e.headers["content-length"])&&R.undefined(e.headers["transfer-encoding"])&&(i>0||e.method==="PUT")&&!R.null(i)&&(e.headers["content-length"]=i);for(let g of e.hooks.beforeRequest)await g(e);s=e.href||new rr(e.path,la.format(e)).toString(),await w(e)}catch(f){m(f)}}),r}});var ur=y((rs,cr)=>{"use strict";var{PassThrough:ir}=require("stream"),Ta=et(),Ca=Ne(),{HTTPError:Sa,ReadError:va}=W();cr.exports=e=>{let t=new ir,r=new ir,n=Ta(t,r),o=new Set,s=!1;e.retry.retries=()=>0,e.body&&(n.write=()=>{throw new Error("Got's stream is not writable when the `body` option is used")});let c=Ca(e,t);n._destroy=c.abort,c.on("response",u=>{let{statusCode:h}=u;if(u.on("error",a=>{n.emit("error",new va(a,e))}),e.throwHttpErrors&&h!==304&&(h<200||h>299)){n.emit("error",new Sa(u,e),null,u);return}s=!0,u.pipe(r);for(let a of o)if(!a.headersSent){for(let[l,m]of Object.entries(u.headers))(e.decompress?l!=="content-encoding":!0)&&a.setHeader(l,m);a.statusCode=u.statusCode}n.emit("response",u)}),["error","request","redirect","uploadProgress","downloadProgress"].forEach(u=>c.on(u,(...h)=>n.emit(u,...h)));let i=n.pipe.bind(n),d=n.unpipe.bind(n);return n.pipe=(u,h)=>{if(s)throw new Error("Failed to pipe. The response has been emitted already.");let a=i(u,h);return Reflect.has(u,"setHeader")&&o.add(u),a},n.unpipe=u=>(o.delete(u),d(u)),n}});var fr=y((ns,lr)=>{"use strict";var{PassThrough:ka}=require("stream");lr.exports=e=>{e=Object.assign({},e);let{array:t}=e,{encoding:r}=e,n=r==="buffer",o=!1;t?o=!(r||n):r=r||"utf8",n&&(r=null);let s=0,c=[],i=new ka({objectMode:o});return r&&i.setEncoding(r),i.on("data",d=>{c.push(d),o?s=c.length:s+=d.length}),i.getBufferedValue=()=>t?c:n?Buffer.concat(c,s):c.join(""),i.getBufferedLength=()=>s,i}});var dr=y((as,K)=>{"use strict";var Pa=ke(),Oa=fr(),ue=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};function Fe(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t=Object.assign({maxBuffer:1/0},t);let{maxBuffer:r}=t,n;return new Promise((o,s)=>{let c=i=>{i&&(i.bufferedData=n.getBufferedValue()),s(i)};n=Pa(e,Oa(t),i=>{if(i){c(i);return}o()}),n.on("data",()=>{n.getBufferedLength()>r&&c(new ue)})}).then(()=>n.getBufferedValue())}K.exports=Fe;K.exports.buffer=(e,t)=>Fe(e,Object.assign({},t,{encoding:"buffer"}));K.exports.array=(e,t)=>Fe(e,Object.assign({},t,{array:!0}));K.exports.MaxBufferError=ue});var $e=y((os,hr)=>{"use strict";hr.exports=["beforeError","init","beforeRequest","beforeRedirect","beforeRetry","afterResponse"]});var fe=y((ss,le)=>{"use strict";var{URL:qa}=require("url"),M=k(),mr=$e(),J=(e,...t)=>{for(let r of t)for(let[n,o]of Object.entries(r)){if(M.undefined(o))continue;let s=e[n];M.urlInstance(s)&&(M.urlInstance(o)||M.string(o))?e[n]=new qa(o,s):M.plainObject(o)?M.plainObject(s)?e[n]=J({},s,o):e[n]=J({},o):M.array(o)?e[n]=J([],o):e[n]=o}return e},gr=(...e)=>{e=e.map(n=>n||{});let t=J({},...e),r={};for(let n of mr)r[n]=[];for(let n of e)if(n.hooks)for(let o of mr)r[o]=r[o].concat(n.hooks[o]);return t.hooks=r,t},Ha=(e,t)=>{let r=e.map(o=>o.defaults.handler),n=e.length-1;return{methods:t,options:gr(...e.map(o=>o.defaults.options)),handler:(o,s)=>{let c=-1,i=d=>r[++c](d,c===n?s:i);return i(o)}}};le.exports=J;le.exports.options=gr;le.exports.instances=Ha});var yr=y((is,pr)=>{"use strict";pr.exports=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected \`url\` to be of type \`string\`, got \`${typeof e}\``);return e=e.trim(),t=Object.assign({https:!1},t),/^\.*\/|^(?!localhost)\w+:/.test(e)?e:e.replace(/^(?!(?:\w+:)?\/\/)/,t.https?"https://":"http://")}});var wr=y((cs,br)=>{"use strict";var Ra=require("url"),Aa=yr();br.exports=(e,t)=>{if(typeof e!="string")throw new TypeError(`Expected \`url\` to be of type \`string\`, got \`${typeof e}\` instead.`);let r=Aa(e,Object.assign({https:!0},t));return Ra.parse(r)}});var Je=y((us,de)=>{"use strict";var{URL:ja,URLSearchParams:We}=require("url"),Ua=require("url"),b=k(),La=wr(),Ma=Oe(),_r=De(),Ia=Be(),Ge=fe(),Ba=$e(),za=new Set([413,429,503]),Ke=(e,t)=>{if(b.nullOrUndefined(e.headers)?e.headers={}:e.headers=Ma(e.headers),e.baseUrl&&!e.baseUrl.toString().endsWith("/")&&(e.baseUrl+="/"),e.stream&&(e.json=!1),b.nullOrUndefined(e.hooks))e.hooks={};else if(!b.object(e.hooks))throw new TypeError(`Parameter \`hooks\` must be an object, not ${b(e.hooks)}`);for(let n of Ba)b.nullOrUndefined(e.hooks[n])&&(t?e.hooks[n]=[...t.hooks[n]]:e.hooks[n]=[]);b.number(e.timeout)?e.gotTimeout={request:e.timeout}:b.object(e.timeout)&&(e.gotTimeout=e.timeout),delete e.timeout;let{retry:r}=e;return e.retry={retries:0,methods:[],statusCodes:[],errorCodes:[]},b.nonEmptyObject(t)&&r!==!1&&(e.retry={...t.retry}),r!==!1&&(b.number(r)?e.retry.retries=r:e.retry={...e.retry,...r}),e.gotTimeout&&(e.retry.maxRetryAfter=Math.min(...[e.gotTimeout.request,e.gotTimeout.connection].filter(n=>!b.nullOrUndefined(n)))),b.array(e.retry.methods)&&(e.retry.methods=new Set(e.retry.methods.map(n=>n.toUpperCase()))),b.array(e.retry.statusCodes)&&(e.retry.statusCodes=new Set(e.retry.statusCodes)),b.array(e.retry.errorCodes)&&(e.retry.errorCodes=new Set(e.retry.errorCodes)),e},Er=(e,t,r)=>{if(b.plainObject(e)&&(t={...e,...t},e=t.url||{},delete t.url),r?t=Ge({},r.options,t?Ke(t,r.options):{}):t=Ge({},Ke(t)),!b.string(e)&&!b.object(e))throw new TypeError(`Parameter \`url\` must be a string or object, not ${b(e)}`);b.string(e)?t.baseUrl?(e.toString().startsWith("/")&&(e=e.toString().slice(1)),e=_r(new ja(e,t.baseUrl))):(e=e.replace(/^unix:/,"http://$&"),e=La(e)):b(e)==="URL"&&(e=_r(e)),t=Ge({path:""},e,{protocol:e.protocol||"https:"},t);for(let i of t.hooks.init){let d=i(t);if(b.promise(d))throw new TypeError("The `init` hook must be a synchronous function")}let{baseUrl:n}=t;Object.defineProperty(t,"baseUrl",{set:()=>{throw new Error("Failed to set baseUrl. Options are normalized already.")},get:()=>n});let{query:o}=t;if((b.nonEmptyString(o)||b.nonEmptyObject(o)||o instanceof We)&&(b.string(o)||(t.query=new We(o).toString()),t.path=`${t.path.split("?")[0]}?${t.query}`,delete t.query),t.hostname==="unix"){let i=/(.+?):(.+)/.exec(t.path);if(i){let[,d,u]=i;t={...t,socketPath:d,path:u,host:null}}}let{headers:s}=t;for(let[i,d]of Object.entries(s))b.nullOrUndefined(d)&&delete s[i];t.json&&b.undefined(s.accept)&&(s.accept="application/json"),t.decompress&&b.undefined(s["accept-encoding"])&&(s["accept-encoding"]="gzip, deflate");let{body:c}=t;if(b.nullOrUndefined(c))t.method=t.method?t.method.toUpperCase():"GET";else{let i=b.object(c)&&!b.buffer(c)&&!b.nodeStream(c);if(!b.nodeStream(c)&&!b.string(c)&&!b.buffer(c)&&!(t.form||t.json))throw new TypeError("The `body` option must be a stream.Readable, string or Buffer");if(t.json&&!(i||b.array(c)))throw new TypeError("The `body` option must be an Object or Array when the `json` option is used");if(t.form&&!i)throw new TypeError("The `body` option must be an Object when the `form` option is used");Ia(c)?s["content-type"]=s["content-type"]||`multipart/form-data; boundary=${c.getBoundary()}`:t.form?(s["content-type"]=s["content-type"]||"application/x-www-form-urlencoded",t.body=new We(c).toString()):t.json&&(s["content-type"]=s["content-type"]||"application/json",t.body=JSON.stringify(c)),t.method=t.method?t.method.toUpperCase():"POST"}if(!b.function(t.retry.retries)){let{retries:i}=t.retry;t.retry.retries=(d,u)=>{if(d>i||(!u||!t.retry.errorCodes.has(u.code))&&(!t.retry.methods.has(u.method)||!t.retry.statusCodes.has(u.statusCode)))return 0;if(Reflect.has(u,"headers")&&Reflect.has(u.headers,"retry-after")&&za.has(u.statusCode)){let a=Number(u.headers["retry-after"]);return b.nan(a)?a=Date.parse(u.headers["retry-after"])-Date.now():a*=1e3,a>t.retry.maxRetryAfter?0:a}if(u.statusCode===413)return 0;let h=Math.random()*100;return 2**(d-1)*1e3+h}}return t},Da=e=>Er(Ua.format(e),e);de.exports=Er;de.exports.preNormalize=Ke;de.exports.reNormalize=Da});var Sr=y((ls,Cr)=>{"use strict";var Na=require("events"),xr=dr(),Fa=k(),$a=ye(),Wa=Ne(),{HTTPError:Ga,ParseError:Ka,ReadError:Ja}=W(),{options:Va}=fe(),{reNormalize:Ya}=Je(),Tr=e=>{let t=new Na,r=new $a((n,o,s)=>{let c=Wa(e);s(c.abort),c.on("response",async i=>{t.emit("response",i);let d=Fa.null(e.encoding)?xr.buffer(i):xr(i,e),u;try{u=await d}catch(l){o(new Ja(l,e));return}let h=e.followRedirect?299:399;i.body=u;try{for(let[l,m]of Object.entries(e.hooks.afterResponse))i=await m(i,w=>(w=Ya(Va(e,{...w,retry:0,throwHttpErrors:!1})),w.hooks.afterResponse=e.hooks.afterResponse.slice(0,l),Tr(w)))}catch(l){o(l);return}let{statusCode:a}=i;if(e.json&&i.body)try{i.body=JSON.parse(i.body)}catch(l){if(a>=200&&a<300){let m=new Ka(l,a,e,u);Object.defineProperty(m,"response",{value:i}),o(m);return}}if(a!==304&&(a<200||a>h)){let l=new Ga(i,e);if(Object.defineProperty(l,"response",{value:i}),c.retry(l)===!1){if(e.throwHttpErrors){o(l);return}n(i)}return}n(i)}),c.once("error",o),["request","redirect","uploadProgress","downloadProgress"].forEach(i=>c.on(i,(...d)=>t.emit(i,...d)))});return r.on=(n,o)=>(t.on(n,o),r),r};Cr.exports=Tr});var Pr=y((fs,kr)=>{"use strict";var vr=k();kr.exports=function e(t){for(let[r,n]of Object.entries(t))(vr.plainObject(n)||vr.array(n))&&e(t[r]);return Object.freeze(t)}});var Hr=y((ds,qr)=>{"use strict";var Qa=W(),Za=ur(),Xa=Sr(),Or=Je(),he=fe(),eo=Pr(),to=e=>e.stream?Za(e):Xa(e),ro=["get","post","put","patch","head","delete"],me=e=>{e=he({},e),Or.preNormalize(e.options),e.handler||(e.handler=(r,n)=>n(r));function t(r,n){try{return e.handler(Or(r,n,e),to)}catch(o){if(n&&n.stream)throw o;return Promise.reject(o)}}t.create=me,t.extend=r=>{let n;return r&&Reflect.has(r,"mutableDefaults")?(n=r.mutableDefaults,delete r.mutableDefaults):n=e.mutableDefaults,me({options:he.options(e.options,r),handler:e.handler,mutableDefaults:n})},t.mergeInstances=(...r)=>me(he.instances(r)),t.stream=(r,n)=>t(r,{...n,stream:!0});for(let r of ro)t[r]=(n,o)=>t(n,{...o,method:r}),t.stream[r]=(n,o)=>t.stream(n,{...o,method:r});return Object.assign(t,{...Qa,mergeOptions:he.options}),Object.defineProperty(t,"defaults",{value:e.mutableDefaults?e:eo(e),writable:e.mutableDefaults,configurable:e.mutableDefaults,enumerable:!0}),t};qr.exports=me});var jr=y((hs,Ar)=>{"use strict";var Rr=Ze(),no=Hr(),ao={options:{retry:{retries:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]},headers:{"user-agent":`${Rr.name}/${Rr.version} (https://github.com/sindresorhus/got)`},hooks:{beforeRequest:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},decompress:!0,throwHttpErrors:!0,followRedirect:!0,stream:!1,form:!1,json:!1,cache:!1,useElectronNet:!1},mutableDefaults:!1},oo=no(ao);Ar.exports=oo});var Lr=y((ms,ge)=>{var V={auto:"Automatic",af:"Afrikaans",sq:"Albanian",am:"Amharic",ar:"Arabic",hy:"Armenian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",bg:"Bulgarian",ca:"Catalan",ceb:"Cebuano",ny:"Chichewa","zh-CN":"Chinese (Simplified)","zh-TW":"Chinese (Traditional)",co:"Corsican",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",eo:"Esperanto",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",fy:"Frisian",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",haw:"Hawaiian",he:"Hebrew",iw:"Hebrew",hi:"Hindi",hmn:"Hmong",hu:"Hungarian",is:"Icelandic",ig:"Igbo",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",jw:"Javanese",kn:"Kannada",kk:"Kazakh",km:"Khmer",ko:"Korean",ku:"Kurdish (Kurmanji)",ky:"Kyrgyz",lo:"Lao",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mn:"Mongolian",my:"Myanmar (Burmese)",ne:"Nepali",no:"Norwegian",ps:"Pashto",fa:"Persian",pl:"Polish",pt:"Portuguese",pa:"Punjabi",ro:"Romanian",ru:"Russian",sm:"Samoan",gd:"Scots Gaelic",sr:"Serbian",st:"Sesotho",sn:"Shona",sd:"Sindhi",si:"Sinhala",sk:"Slovak",sl:"Slovenian",so:"Somali",es:"Spanish",su:"Sundanese",sw:"Swahili",sv:"Swedish",tg:"Tajik",ta:"Tamil",te:"Telugu",th:"Thai",tr:"Turkish",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",vi:"Vietnamese",cy:"Welsh",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",zu:"Zulu"};function Ur(e){if(!e)return!1;if(V[e])return e;var t=Object.keys(V).filter(function(r){return typeof V[r]!="string"?!1:V[r].toLowerCase()===e.toLowerCase()});return t[0]||!1}function so(e){return Boolean(Ur(e))}ge.exports=V;ge.exports.isSupported=so;ge.exports.getCode=Ur});var Br=y((gs,Ve)=>{var io=require("querystring"),Mr=jr(),pe=Lr();function Ir(e,t){var r=new RegExp(`"${e}":".*?"`),n=r.exec(t.body);return n!==null?n[0].replace(`"${e}":"`,"").slice(0,-1):""}function co(e,t,r){t=t||{},r=r||{};var n;if([t.from,t.to].forEach(function(s){s&&!pe.isSupported(s)&&(n=new Error,n.code=400,n.message="The language '"+s+"' is not supported")}),n)return new Promise(function(s,c){c(n)});t.from=t.from||"auto",t.to=t.to||"en",t.tld=t.tld||"com",t.from=pe.getCode(t.from),t.to=pe.getCode(t.to);var o="https://translate.google."+t.tld;return Mr(o,r).then(function(s){var c={rpcids:"MkEWBc","f.sid":Ir("FdrFJe",s),bl:Ir("cfb2h",s),hl:"en-US","soc-app":1,"soc-platform":1,"soc-device":1,_reqid:Math.floor(1e3+Math.random()*9e3),rt:"c"};return c}).then(function(s){return o=o+"/_/TranslateWebserverUi/data/batchexecute?"+io.stringify(s),r.body="f.req="+encodeURIComponent(JSON.stringify([[["MkEWBc",JSON.stringify([[e,t.from,t.to,!0],[null]]),null,"generic"]]]))+"&",r.headers["content-type"]="application/x-www-form-urlencoded;charset=UTF-8",Mr.post(o,r).then(function(c){var i=c.body.slice(6),d="",u={text:"",pronunciation:"",from:{language:{didYouMean:!1,iso:""},text:{autoCorrected:!1,value:"",didYouMean:!1}},raw:""};try{d=/^\d+/.exec(i)[0],i=JSON.parse(i.slice(d.length,parseInt(d,10)+d.length)),i=JSON.parse(i[0][2]),u.raw=i}catch{return u}if(i[1][0][0][5]===void 0||i[1][0][0][5]===null?u.text=i[1][0][0][0]:u.text=i[1][0][0][5].map(function(a){return a[0]}).filter(Boolean).join(" "),u.pronunciation=i[1][0][0][1],i[0]&&i[0][1]&&i[0][1][1]?(u.from.language.didYouMean=!0,u.from.language.iso=i[0][1][1][0]):i[1][3]==="auto"?u.from.language.iso=i[2]:u.from.language.iso=i[1][3],i[0]&&i[0][1]&&i[0][1][0]){var h=i[0][1][0][0][1];h=h.replace(/<b>(<i>)?/g,"["),h=h.replace(/(<\/i>)?<\/b>/g,"]"),u.from.text.value=h,i[0][1][0][2]===1?u.from.text.autoCorrected=!0:u.from.text.didYouMean=!0}return u}).catch(function(c){throw c.message+=`
Url: ${o}`,c.statusCode!==void 0&&c.statusCode!==200?c.code="BAD_REQUEST":c.code="BAD_NETWORK",c})})}Ve.exports=co;Ve.exports.languages=pe});var ho={};Yr(ho,{default:()=>Fr});module.exports=Zr(ho);var E=require("@raycast/api"),B=require("react"),Nr=Qr(Br());var zr={auto:{code:"auto",name:"Auto-detect",flag:"\u{1F310}"},af:{code:"af",name:"Afrikaans",flag:"\u{1F1FF}\u{1F1E6}"},sq:{code:"sq",name:"Albanian",flag:"\u{1F1E6}\u{1F1F1}"},am:{code:"am",name:"Amharic"},ar:{code:"ar",name:"Arabic"},hy:{code:"hy",name:"Armenian",flag:"\u{1F1E6}\u{1F1F2}"},az:{code:"az",name:"Azerbaijani",flag:"\u{1F1E6}\u{1F1FF}"},eu:{code:"eu",name:"Basque"},be:{code:"be",name:"Belarusian",flag:"\u{1F1E7}\u{1F1FE}"},bn:{code:"bn",name:"Bengali"},bs:{code:"bs",name:"Bosnian",flag:"\u{1F1E7}\u{1F1E6}"},bg:{code:"bg",name:"Bulgarian",flag:"\u{1F1E7}\u{1F1EC}"},ca:{code:"ca",name:"Catalan"},ceb:{code:"ceb",name:"Cebuano"},"zh-CN":{code:"zh-CN",name:"Chinese Simplified",flag:"\u{1F1E8}\u{1F1F3}"},"zh-TW":{code:"zh-TW",name:"Taiwanese Mandarin",flag:"\u{1F1F9}\u{1F1FC}"},co:{code:"co",name:"Corsican"},hr:{code:"hr",name:"Croatian",flag:"\u{1F1ED}\u{1F1F7}"},cs:{code:"cs",name:"Czech",flag:"\u{1F1E8}\u{1F1FF}"},da:{code:"da",name:"Danish",flag:"\u{1F1E9}\u{1F1F0}"},nl:{code:"nl",name:"Dutch",flag:"\u{1F1F3}\u{1F1F1}"},en:{code:"en",name:"English",flag:"\u{1F1EC}\u{1F1E7}"},eo:{code:"eo",name:"Esperanto"},et:{code:"et",name:"Estonian",flag:"\u{1F1EA}\u{1F1EA}"},fi:{code:"fi",name:"Finnish",flag:"\u{1F1EB}\u{1F1EE}"},fr:{code:"fr",name:"French",flag:"\u{1F1EB}\u{1F1F7}"},fy:{code:"fy",name:"Frisian"},gl:{code:"gl",name:"Galician"},ka:{code:"ka",name:"Georgian",flag:"\u{1F1EC}\u{1F1EA}"},de:{code:"de",name:"German",flag:"\u{1F1E9}\u{1F1EA}"},el:{code:"el",name:"Greek",flag:"\u{1F1EC}\u{1F1F7}"},gu:{code:"gu",name:"Gujarati"},ht:{code:"ht",name:"Haitian Creole",flag:"\u{1F1ED}\u{1F1F9}"},ha:{code:"ha",name:"Hausa"},haw:{code:"haw",name:"Hawaiian",flag:"\u{1F33A}"},he:{code:"he",name:"Hebrew",flag:"\u{1F1EE}\u{1F1F1}"},hi:{code:"hi",name:"Hindi",flag:"\u{1F1EE}\u{1F1F3}"},hmn:{code:"hmn",name:"Hmong"},hu:{code:"hu",name:"Hungarian",flag:"\u{1F1ED}\u{1F1FA}"},is:{code:"is",name:"Icelandic",flag:"\u{1F1EE}\u{1F1F8}"},ig:{code:"ig",name:"Igbo"},id:{code:"id",name:"Indonesian",flag:"\u{1F1EE}\u{1F1E9}"},ga:{code:"ga",name:"Irish",flag:"\u{1F1EE}\u{1F1EA}"},it:{code:"it",name:"Italian",flag:"\u{1F1EE}\u{1F1F9}"},ja:{code:"ja",name:"Japanese",flag:"\u{1F1EF}\u{1F1F5}"},jv:{code:"jv",name:"Javanese"},kn:{code:"kn",name:"Kannada"},kk:{code:"kk",name:"Kazakh",flag:"\u{1F1F0}\u{1F1FF}"},km:{code:"km",name:"Khmer"},rw:{code:"rw",name:"Kinyarwanda"},ko:{code:"ko",name:"Korean",flag:"\u{1F1F0}\u{1F1F7}"},ku:{code:"ku",name:"Kurdish"},ky:{code:"ky",name:"Kyrgyz"},lo:{code:"lo",name:"Lao"},lv:{code:"lv",name:"Latvian",flag:"\u{1F1F1}\u{1F1FB}"},lt:{code:"lt",name:"Lithuanian",flag:"\u{1F1F1}\u{1F1F9}"},lb:{code:"lb",name:"Luxembourgish",flag:"\u{1F1F1}\u{1F1FA}"},mk:{code:"mk",name:"Macedonian",flag:"\u{1F1F2}\u{1F1F0}"},mg:{code:"mg",name:"Malagasy"},ms:{code:"ms",name:"Malay",flag:"\u{1F1F2}\u{1F1FE}"},ml:{code:"ml",name:"Malayalam"},mt:{code:"mt",name:"Maltese",flag:"\u{1F1F2}\u{1F1F9}"},mi:{code:"mi",name:"Maori",flag:"\u{1F1F3}\u{1F1FF}"},mr:{code:"mr",name:"Marathi"},mn:{code:"mn",name:"Mongolian",flag:"\u{1F1F2}\u{1F1F3}"},my:{code:"my",name:"Myanmar (Burmese)",flag:"\u{1F1F2}\u{1F1F2}"},ne:{code:"ne",name:"Nepali",flag:"\u{1F1F3}\u{1F1F5}"},no:{code:"no",name:"Norwegian",flag:"\u{1F1F3}\u{1F1F4}"},ny:{code:"ny",name:"Nyanja (Chichewa)"},or:{code:"or",name:"Odia (Oriya)"},ps:{code:"ps",name:"Pashto"},fa:{code:"fa",name:"Persian",flag:"\u{1F1EE}\u{1F1F7}"},pl:{code:"pl",name:"Polish",flag:"\u{1F1F5}\u{1F1F1}"},pt:{code:"pt",name:"Portuguese",flag:"\u{1F1F5}\u{1F1F9}"},pa:{code:"pa",name:"Punjabi",flag:"\u{1F1EE}\u{1F1F3}"},ro:{code:"ro",name:"Romanian",flag:"\u{1F1F7}\u{1F1F4}"},ru:{code:"ru",name:"Russian",flag:"\u{1F1F7}\u{1F1FA}"},sm:{code:"sm",name:"Samoan"},gd:{code:"gd",name:"Scots Gaelic",flag:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}"},sr:{code:"sr",name:"Serbian",flag:"\u{1F1F7}\u{1F1F8}"},st:{code:"st",name:"Sesotho"},sn:{code:"sn",name:"Shona"},sd:{code:"sd",name:"Sindhi"},si:{code:"si",name:"Sinhala (Sinhalese)"},sk:{code:"sk",name:"Slovak",flag:"\u{1F1F8}\u{1F1F0}"},sl:{code:"sl",name:"Slovenian",flag:"\u{1F1F8}\u{1F1EE}"},so:{code:"so",name:"Somali",flag:"\u{1F1F8}\u{1F1F4}"},es:{code:"es",name:"Spanish",flag:"\u{1F1EA}\u{1F1F8}"},su:{code:"su",name:"Sundanese",flag:"\u{1F1F8}\u{1F1E9}"},sw:{code:"sw",name:"Swahili"},sv:{code:"sv",name:"Swedish",flag:"\u{1F1F8}\u{1F1EA}"},tl:{code:"tl",name:"Tagalog (Filipino)",flag:"\u{1F1F5}\u{1F1ED}"},tg:{code:"tg",name:"Tajik"},ta:{code:"ta",name:"Tamil"},tt:{code:"tt",name:"Tatar"},te:{code:"te",name:"Telugu"},th:{code:"th",name:"Thai"},tr:{code:"tr",name:"Turkish",flag:"\u{1F1F9}\u{1F1F7}"},tk:{code:"tk",name:"Turkmen",flag:"\u{1F1F9}\u{1F1F2}"},uk:{code:"uk",name:"Ukrainian",flag:"\u{1F1FA}\u{1F1E6}"},ur:{code:"ur",name:"Urdu"},ug:{code:"ug",name:"Uyghur"},uz:{code:"uz",name:"Uzbek"},vi:{code:"vi",name:"Vietnamese",flag:"\u{1F1FB}\u{1F1F3}"},cy:{code:"cy",name:"Welsh",flag:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0077}\u{E006C}\u{E0073}\u{E007F}"},xh:{code:"xh",name:"Xhosa"},yi:{code:"yi",name:"Yiddish",flag:"\u{1F1EE}\u{1F1F1}"},yo:{code:"yo",name:"Yoruba"},zu:{code:"zu",name:"Zulu"}};var Dr={"Auto-detect":{code:"auto",name:"Auto-detect",flag:"\u{1F310}"},Afrikaans:{code:"af",name:"Afrikaans",flag:"\u{1F1FF}\u{1F1E6}"},Albanian:{code:"sq",name:"Albanian",flag:"\u{1F1E6}\u{1F1F1}"},Amharic:{code:"am",name:"Amharic"},Arabic:{code:"ar",name:"Arabic"},Armenian:{code:"hy",name:"Armenian",flag:"\u{1F1E6}\u{1F1F2}"},Azerbaijani:{code:"az",name:"Azerbaijani",flag:"\u{1F1E6}\u{1F1FF}"},Basque:{code:"eu",name:"Basque"},Belarusian:{code:"be",name:"Belarusian",flag:"\u{1F1E7}\u{1F1FE}"},Bengali:{code:"bn",name:"Bengali"},Bosnian:{code:"bs",name:"Bosnian",flag:"\u{1F1E7}\u{1F1E6}"},Bulgarian:{code:"bg",name:"Bulgarian",flag:"\u{1F1E7}\u{1F1EC}"},Catalan:{code:"ca",name:"Catalan"},Cebuano:{code:"ceb",name:"Cebuano"},"Chinese Simplified":{code:"zh-CN",name:"Chinese Simplified",flag:"\u{1F1E8}\u{1F1F3}"},Mandarin:{code:"zh-TW",name:"Taiwanese Mandarin",flag:"\u{1F1F9}\u{1F1FC}"},Corsican:{code:"co",name:"Corsican"},Croatian:{code:"hr",name:"Croatian",flag:"\u{1F1ED}\u{1F1F7}"},Czech:{code:"cs",name:"Czech",flag:"\u{1F1E8}\u{1F1FF}"},Danish:{code:"da",name:"Danish",flag:"\u{1F1E9}\u{1F1F0}"},Dutch:{code:"nl",name:"Dutch",flag:"\u{1F1F3}\u{1F1F1}"},English:{code:"en",name:"English",flag:"\u{1F1EC}\u{1F1E7}"},Esperanto:{code:"eo",name:"Esperanto"},Estonian:{code:"et",name:"Estonian",flag:"\u{1F1EA}\u{1F1EA}"},Finnish:{code:"fi",name:"Finnish",flag:"\u{1F1EB}\u{1F1EE}"},French:{code:"fr",name:"French",flag:"\u{1F1EB}\u{1F1F7}"},Frisian:{code:"fy",name:"Frisian"},Galician:{code:"gl",name:"Galician"},Georgian:{code:"ka",name:"Georgian",flag:"\u{1F1EC}\u{1F1EA}"},German:{code:"de",name:"German",flag:"\u{1F1E9}\u{1F1EA}"},Greek:{code:"el",name:"Greek",flag:"\u{1F1EC}\u{1F1F7}"},Gujarati:{code:"gu",name:"Gujarati"},"Haitian Creole":{code:"ht",name:"Haitian Creole",flag:"\u{1F1ED}\u{1F1F9}"},Hausa:{code:"ha",name:"Hausa"},Hawaiian:{code:"haw",name:"Hawaiian",flag:"\u{1F33A}"},Hebrew:{code:"he",name:"Hebrew",flag:"\u{1F1EE}\u{1F1F1}"},Hindi:{code:"hi",name:"Hindi",flag:"\u{1F1EE}\u{1F1F3}"},Hmong:{code:"hmn",name:"Hmong"},Hungarian:{code:"hu",name:"Hungarian",flag:"\u{1F1ED}\u{1F1FA}"},Icelandic:{code:"is",name:"Icelandic",flag:"\u{1F1EE}\u{1F1F8}"},Igbo:{code:"ig",name:"Igbo"},Indonesian:{code:"id",name:"Indonesian",flag:"\u{1F1EE}\u{1F1E9}"},Irish:{code:"ga",name:"Irish",flag:"\u{1F1EE}\u{1F1EA}"},Italian:{code:"it",name:"Italian",flag:"\u{1F1EE}\u{1F1F9}"},Japanese:{code:"ja",name:"Japanese",flag:"\u{1F1EF}\u{1F1F5}"},Javanese:{code:"jv",name:"Javanese"},Kannada:{code:"kn",name:"Kannada"},Kazakh:{code:"kk",name:"Kazakh",flag:"\u{1F1F0}\u{1F1FF}"},Khmer:{code:"km",name:"Khmer"},Kinyarwanda:{code:"rw",name:"Kinyarwanda"},Korean:{code:"ko",name:"Korean",flag:"\u{1F1F0}\u{1F1F7}"},Kurdish:{code:"ku",name:"Kurdish"},Kyrgyz:{code:"ky",name:"Kyrgyz"},Lao:{code:"lo",name:"Lao"},Latvian:{code:"lv",name:"Latvian",flag:"\u{1F1F1}\u{1F1FB}"},Lithuanian:{code:"lt",name:"Lithuanian",flag:"\u{1F1F1}\u{1F1F9}"},Luxembourgish:{code:"lb",name:"Luxembourgish",flag:"\u{1F1F1}\u{1F1FA}"},Macedonian:{code:"mk",name:"Macedonian",flag:"\u{1F1F2}\u{1F1F0}"},Malagasy:{code:"mg",name:"Malagasy"},Malay:{code:"ms",name:"Malay",flag:"\u{1F1F2}\u{1F1FE}"},Malayalam:{code:"ml",name:"Malayalam"},Maltese:{code:"mt",name:"Maltese",flag:"\u{1F1F2}\u{1F1F9}"},Maori:{code:"mi",name:"Maori",flag:"\u{1F1F3}\u{1F1FF}"},Marathi:{code:"mr",name:"Marathi"},Mongolian:{code:"mn",name:"Mongolian",flag:"\u{1F1F2}\u{1F1F3}"},"Myanmar (Burmese)":{code:"my",name:"Myanmar (Burmese)",flag:"\u{1F1F2}\u{1F1F2}"},Nepali:{code:"ne",name:"Nepali",flag:"\u{1F1F3}\u{1F1F5}"},Norwegian:{code:"no",name:"Norwegian",flag:"\u{1F1F3}\u{1F1F4}"},"Nyanja (Chichewa)":{code:"ny",name:"Nyanja (Chichewa)"},"Odia (Oriya)":{code:"or",name:"Odia (Oriya)"},Pashto:{code:"ps",name:"Pashto"},Persian:{code:"fa",name:"Persian",flag:"\u{1F1EE}\u{1F1F7}"},Polish:{code:"pl",name:"Polish",flag:"\u{1F1F5}\u{1F1F1}"},Portuguese:{code:"pt",name:"Portuguese",flag:"\u{1F1F5}\u{1F1F9}"},Punjabi:{code:"pa",name:"Punjabi",flag:"\u{1F1EE}\u{1F1F3}"},Romanian:{code:"ro",name:"Romanian",flag:"\u{1F1F7}\u{1F1F4}"},Russian:{code:"ru",name:"Russian",flag:"\u{1F1F7}\u{1F1FA}"},Samoan:{code:"sm",name:"Samoan"},"Scots Gaelic":{code:"gd",name:"Scots Gaelic",flag:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}"},Serbian:{code:"sr",name:"Serbian",flag:"\u{1F1F7}\u{1F1F8}"},Sesotho:{code:"st",name:"Sesotho"},Shona:{code:"sn",name:"Shona"},Sindhi:{code:"sd",name:"Sindhi"},"Sinhala (Sinhalese)":{code:"si",name:"Sinhala (Sinhalese)"},Slovak:{code:"sk",name:"Slovak",flag:"\u{1F1F8}\u{1F1F0}"},Slovenian:{code:"sl",name:"Slovenian",flag:"\u{1F1F8}\u{1F1EE}"},Somali:{code:"so",name:"Somali",flag:"\u{1F1F8}\u{1F1F4}"},Spanish:{code:"es",name:"Spanish",flag:"\u{1F1EA}\u{1F1F8}"},Sundanese:{code:"su",name:"Sundanese",flag:"\u{1F1F8}\u{1F1E9}"},Swahili:{code:"sw",name:"Swahili"},Swedish:{code:"sv",name:"Swedish",flag:"\u{1F1F8}\u{1F1EA}"},"Tagalog (Filipino)":{code:"tl",name:"Tagalog (Filipino)",flag:"\u{1F1F5}\u{1F1ED}"},Tajik:{code:"tg",name:"Tajik"},Tamil:{code:"ta",name:"Tamil"},Tatar:{code:"tt",name:"Tatar"},Telugu:{code:"te",name:"Telugu"},Thai:{code:"th",name:"Thai"},Turkish:{code:"tr",name:"Turkish",flag:"\u{1F1F9}\u{1F1F7}"},Turkmen:{code:"tk",name:"Turkmen",flag:"\u{1F1F9}\u{1F1F2}"},Ukrainian:{code:"uk",name:"Ukrainian",flag:"\u{1F1FA}\u{1F1E6}"},Urdu:{code:"ur",name:"Urdu"},Uyghur:{code:"ug",name:"Uyghur"},Uzbek:{code:"uz",name:"Uzbek"},Vietnamese:{code:"vi",name:"Vietnamese",flag:"\u{1F1FB}\u{1F1F3}"},Welsh:{code:"cy",name:"Welsh",flag:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0077}\u{E006C}\u{E0073}\u{E007F}"},Xhosa:{code:"xh",name:"Xhosa"},Yiddish:{code:"yi",name:"Yiddish",flag:"\u{1F1EE}\u{1F1F1}"},Yoruba:{code:"yo",name:"Yoruba"},Zulu:{code:"zu",name:"Zulu"}};var I=zr,fo=Dr,_s=Object.values(fo);var A=require("react/jsx-runtime"),Ye=0;function Fr(){let[e,t]=(0,B.useState)(!1),[r,n]=(0,B.useState)(""),[o,s]=(0,B.useState)([]),[c,i]=(0,B.useState)(!1);return(0,B.useEffect)(()=>{if(r==="")return;Ye++;let d=Ye;t(!0),s([]);let u=(0,E.getPreferenceValues)();Promise.all([(0,Nr.default)(r,{from:u.lang1==="auto"?void 0:u.lang1,to:u.lang2})]).then(a=>{if(d===Ye){let l=u.lang1;u.lang1==="auto"&&(a[0].from.language.iso!==void 0?l=a[0].from.language.iso:(0,E.showToast)(E.Toast.Style.Failure,"Could not translate","Could not detect language"));let m=I[l].flag??I[l].code,w=I[u.lang2].flag??I[u.lang2].code;s([{text:a[0].text,languages:`${m} -> ${w}`,source_language:I[l].code,target_language:I[u.lang2].code}])}}).catch(a=>{(0,E.showToast)(E.Toast.Style.Failure,"Could not translate",a)}).then(()=>{t(!1)})},[r]),(0,A.jsx)(E.List,{searchBarPlaceholder:"Enter text to translate",onSearchTextChange:n,isLoading:e,isShowingDetail:c,throttle:!0,children:o.map((d,u)=>(0,A.jsx)(E.List.Item,{title:d.text,accessoryTitle:d.languages,detail:(0,A.jsx)(E.List.Item.Detail,{markdown:d.text}),actions:(0,A.jsx)(E.ActionPanel,{children:(0,A.jsxs)(E.ActionPanel.Section,{children:[(0,A.jsx)(E.Action.CopyToClipboard,{title:"Copy",content:d.text}),(0,A.jsx)(E.Action,{title:"Toggle Full Text",icon:E.Icon.Text,onAction:()=>i(!c)}),(0,A.jsx)(E.Action.OpenInBrowser,{title:"Open in Google Translate",shortcut:{modifiers:["opt"],key:"enter"},url:"https://translate.google.com/?sl="+d.source_language+"&tl="+d.target_language+"&text="+encodeURIComponent(r)+"&op=translate"})]})})},u))})}0&&(module.exports={});
