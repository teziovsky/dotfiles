var us=Object.create;var Te=Object.defineProperty,as=Object.defineProperties,fs=Object.getOwnPropertyDescriptor,ls=Object.getOwnPropertyDescriptors,ds=Object.getOwnPropertyNames,tn=Object.getOwnPropertySymbols,ms=Object.getPrototypeOf,rn=Object.prototype.hasOwnProperty,ps=Object.prototype.propertyIsEnumerable;var nn=(e,t,n)=>t in e?Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||(t={}))rn.call(t,n)&&nn(e,n,t[n]);if(tn)for(var n of tn(t))ps.call(t,n)&&nn(e,n,t[n]);return e},K=(e,t)=>as(e,ls(t)),on=e=>Te(e,"__esModule",{value:!0});var f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ys=(e,t)=>{for(var n in t)Te(e,n,{get:t[n],enumerable:!0})},sn=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ds(t))!rn.call(e,i)&&(n||i!=="default")&&Te(e,i,{get:()=>t[i],enumerable:!(r=fs(t,i))||r.enumerable});return e},Be=(e,t)=>sn(on(Te(e!=null?us(ms(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),hs=(e=>(t,n)=>e&&e.get(t)||(n=sn(on({}),t,1),e&&e.set(t,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var ln=f((If,fn)=>{fn.exports=an;an.sync=gs;var cn=require("fs");function Ss(e,t){var n=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!n||(n=n.split(";"),n.indexOf("")!==-1))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function un(e,t,n){return!e.isSymbolicLink()&&!e.isFile()?!1:Ss(t,n)}function an(e,t,n){cn.stat(e,function(r,i){n(r,r?!1:un(i,e,t))})}function gs(e,t){return un(cn.statSync(e),e,t)}});var hn=f((kf,yn)=>{yn.exports=mn;mn.sync=ws;var dn=require("fs");function mn(e,t,n){dn.stat(e,function(r,i){n(r,r?!1:pn(i,t))})}function ws(e,t){return pn(dn.statSync(e),t)}function pn(e,t){return e.isFile()&&xs(e,t)}function xs(e,t){var n=e.mode,r=e.uid,i=e.gid,o=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),s=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),c=parseInt("100",8),a=parseInt("010",8),p=parseInt("001",8),u=c|a,l=n&p||n&a&&i===s||n&c&&r===o||n&u&&o===0;return l}});var gn=f((Cf,Sn)=>{var qf=require("fs"),Ue;process.platform==="win32"||global.TESTING_WINDOWS?Ue=ln():Ue=hn();Sn.exports=ht;ht.sync=Es;function ht(e,t,n){if(typeof t=="function"&&(n=t,t={}),!n){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(r,i){ht(e,t||{},function(o,s){o?i(o):r(s)})})}Ue(e,t||{},function(r,i){r&&(r.code==="EACCES"||t&&t.ignoreErrors)&&(r=null,i=!1),n(r,i)})}function Es(e,t){try{return Ue.sync(e,t||{})}catch(n){if(t&&t.ignoreErrors||n.code==="EACCES")return!1;throw n}}});var Tn=f((Of,Fn)=>{var le=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",wn=require("path"),vs=le?";":":",xn=gn(),En=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),vn=(e,t)=>{let n=t.colon||vs,r=e.match(/\//)||le&&e.match(/\\/)?[""]:[...le?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],i=le?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=le?i.split(n):[""];return le&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:r,pathExt:o,pathExtExe:i}},Pn=(e,t,n)=>{typeof t=="function"&&(n=t,t={}),t||(t={});let{pathEnv:r,pathExt:i,pathExtExe:o}=vn(e,t),s=[],c=p=>new Promise((u,l)=>{if(p===r.length)return t.all&&s.length?u(s):l(En(e));let m=r[p],d=/^".*"$/.test(m)?m.slice(1,-1):m,y=wn.join(d,e),S=!d&&/^\.[\\\/]/.test(e)?e.slice(0,2)+y:y;u(a(S,p,0))}),a=(p,u,l)=>new Promise((m,d)=>{if(l===i.length)return m(c(u+1));let y=i[l];xn(p+y,{pathExt:o},(S,g)=>{if(!S&&g)if(t.all)s.push(p+y);else return m(p+y);return m(a(p,u,l+1))})});return n?c(0).then(p=>n(null,p),n):c(0)},Ps=(e,t)=>{t=t||{};let{pathEnv:n,pathExt:r,pathExtExe:i}=vn(e,t),o=[];for(let s=0;s<n.length;s++){let c=n[s],a=/^".*"$/.test(c)?c.slice(1,-1):c,p=wn.join(a,e),u=!a&&/^\.[\\\/]/.test(e)?e.slice(0,2)+p:p;for(let l=0;l<r.length;l++){let m=u+r[l];try{if(xn.sync(m,{pathExt:i}))if(t.all)o.push(m);else return m}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw En(e)};Fn.exports=Pn;Pn.sync=Ps});var gt=f((bf,St)=>{"use strict";var In=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(r=>r.toUpperCase()==="PATH")||"Path"};St.exports=In;St.exports.default=In});var On=f((Nf,Cn)=>{"use strict";var kn=require("path"),Fs=Tn(),Ts=gt();function qn(e,t){let n=e.options.env||process.env,r=process.cwd(),i=e.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(e.options.cwd)}catch{}let s;try{s=Fs.sync(e.command,{path:n[Ts({env:n})],pathExt:t?kn.delimiter:void 0})}catch{}finally{o&&process.chdir(r)}return s&&(s=kn.resolve(i?e.options.cwd:"",s)),s}function Is(e){return qn(e)||qn(e,!0)}Cn.exports=Is});var bn=f((Df,xt)=>{"use strict";var wt=/([()\][%!^"`<>&|;, *?])/g;function ks(e){return e=e.replace(wt,"^$1"),e}function qs(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(wt,"^$1"),t&&(e=e.replace(wt,"^$1")),e}xt.exports.command=ks;xt.exports.argument=qs});var Dn=f((Rf,Nn)=>{"use strict";Nn.exports=/^#!(.*)/});var An=f((Af,Rn)=>{"use strict";var Cs=Dn();Rn.exports=(e="")=>{let t=e.match(Cs);if(!t)return null;let[n,r]=t[0].replace(/#! ?/,"").split(" "),i=n.split("/").pop();return i==="env"?r:r?`${i} ${r}`:i}});var Ln=f((_f,_n)=>{"use strict";var Et=require("fs"),Os=An();function bs(e){let n=Buffer.alloc(150),r;try{r=Et.openSync(e,"r"),Et.readSync(r,n,0,150,0),Et.closeSync(r)}catch{}return Os(n.toString())}_n.exports=bs});var Mn=f((Lf,$n)=>{"use strict";var Ns=require("path"),jn=On(),Gn=bn(),Ds=Ln(),Rs=process.platform==="win32",As=/\.(?:com|exe)$/i,_s=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Ls(e){e.file=jn(e);let t=e.file&&Ds(e.file);return t?(e.args.unshift(e.file),e.command=t,jn(e)):e.file}function js(e){if(!Rs)return e;let t=Ls(e),n=!As.test(t);if(e.options.forceShell||n){let r=_s.test(t);e.command=Ns.normalize(e.command),e.command=Gn.command(e.command),e.args=e.args.map(o=>Gn.argument(o,r));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function Gs(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null),t=t?t.slice(0):[],n=Object.assign({},n);let r={command:e,args:t,options:n,file:void 0,original:{command:e,args:t}};return n.shell?r:js(r)}$n.exports=Gs});var Wn=f((jf,Un)=>{"use strict";var vt=process.platform==="win32";function Pt(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function $s(e,t){if(!vt)return;let n=e.emit;e.emit=function(r,i){if(r==="exit"){let o=Bn(i,t,"spawn");if(o)return n.call(e,"error",o)}return n.apply(e,arguments)}}function Bn(e,t){return vt&&e===1&&!t.file?Pt(t.original,"spawn"):null}function Ms(e,t){return vt&&e===1&&!t.file?Pt(t.original,"spawnSync"):null}Un.exports={hookChildProcess:$s,verifyENOENT:Bn,verifyENOENTSync:Ms,notFoundError:Pt}});var Hn=f((Gf,de)=>{"use strict";var Jn=require("child_process"),Ft=Mn(),Tt=Wn();function Xn(e,t,n){let r=Ft(e,t,n),i=Jn.spawn(r.command,r.args,r.options);return Tt.hookChildProcess(i,r),i}function Bs(e,t,n){let r=Ft(e,t,n),i=Jn.spawnSync(r.command,r.args,r.options);return i.error=i.error||Tt.verifyENOENTSync(i.status,r),i}de.exports=Xn;de.exports.spawn=Xn;de.exports.sync=Bs;de.exports._parse=Ft;de.exports._enoent=Tt});var Yn=f(($f,Kn)=>{"use strict";Kn.exports=e=>{let t=typeof e=="string"?`
`:`
`.charCodeAt(),n=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===n&&(e=e.slice(0,e.length-1)),e}});var Qn=f((Mf,ke)=>{"use strict";var Ie=require("path"),Vn=gt(),zn=e=>{e=x({cwd:process.cwd(),path:process.env[Vn()],execPath:process.execPath},e);let t,n=Ie.resolve(e.cwd),r=[];for(;t!==n;)r.push(Ie.join(n,"node_modules/.bin")),t=n,n=Ie.resolve(n,"..");let i=Ie.resolve(e.cwd,e.execPath,"..");return r.push(i),r.concat(e.path).join(Ie.delimiter)};ke.exports=zn;ke.exports.default=zn;ke.exports.env=e=>{e=x({env:process.env},e);let t=x({},e.env),n=Vn({env:t});return e.path=t[n],t[n]=ke.exports(e),t}});var er=f((Bf,It)=>{"use strict";var Zn=(e,t)=>{for(let n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};It.exports=Zn;It.exports.default=Zn});var nr=f((Uf,Je)=>{"use strict";var Us=er(),We=new WeakMap,tr=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let n,r=0,i=e.displayName||e.name||"<anonymous>",o=function(...s){if(We.set(o,++r),r===1)n=e.apply(this,s),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return n};return Us(o,e),We.set(o,r),o};Je.exports=tr;Je.exports.default=tr;Je.exports.callCount=e=>{if(!We.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return We.get(e)}});var rr=f(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.SIGNALS=void 0;var Ws=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];Xe.SIGNALS=Ws});var kt=f(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.SIGRTMAX=me.getRealtimeSignals=void 0;var Js=function(){let e=or-ir+1;return Array.from({length:e},Xs)};me.getRealtimeSignals=Js;var Xs=function(e,t){return{name:`SIGRT${t+1}`,number:ir+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},ir=34,or=64;me.SIGRTMAX=or});var sr=f(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.getSignals=void 0;var Hs=require("os"),Ks=rr(),Ys=kt(),Vs=function(){let e=(0,Ys.getRealtimeSignals)();return[...Ks.SIGNALS,...e].map(zs)};He.getSignals=Vs;var zs=function({name:e,number:t,description:n,action:r,forced:i=!1,standard:o}){let{signals:{[e]:s}}=Hs.constants,c=s!==void 0;return{name:e,number:c?s:t,description:n,supported:c,action:r,forced:i,standard:o}}});var ur=f(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.signalsByNumber=pe.signalsByName=void 0;var Qs=require("os"),cr=sr(),Zs=kt(),ec=function(){return(0,cr.getSignals)().reduce(tc,{})},tc=function(e,{name:t,number:n,description:r,supported:i,action:o,forced:s,standard:c}){return K(x({},e),{[t]:{name:t,number:n,description:r,supported:i,action:o,forced:s,standard:c}})},nc=ec();pe.signalsByName=nc;var rc=function(){let e=(0,cr.getSignals)(),t=Zs.SIGRTMAX+1,n=Array.from({length:t},(r,i)=>ic(i,e));return Object.assign({},...n)},ic=function(e,t){let n=oc(e,t);if(n===void 0)return{};let{name:r,description:i,supported:o,action:s,forced:c,standard:a}=n;return{[e]:{name:r,number:e,description:i,supported:o,action:s,forced:c,standard:a}}},oc=function(e,t){let n=t.find(({name:r})=>Qs.constants.signals[r]===e);return n!==void 0?n:t.find(r=>r.number===e)},sc=rc();pe.signalsByNumber=sc});var fr=f((Kf,ar)=>{"use strict";var{signalsByName:cc}=ur(),uc=({timedOut:e,timeout:t,errorCode:n,signal:r,signalDescription:i,exitCode:o,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":n!==void 0?`failed with ${n}`:r!==void 0?`was killed with ${r} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",ac=({stdout:e,stderr:t,all:n,error:r,signal:i,exitCode:o,command:s,escapedCommand:c,timedOut:a,isCanceled:p,killed:u,parsed:{options:{timeout:l}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let m=i===void 0?void 0:cc[i].description,d=r&&r.code,S=`Command ${uc({timedOut:a,timeout:l,errorCode:d,signal:i,signalDescription:m,exitCode:o,isCanceled:p})}: ${s}`,g=Object.prototype.toString.call(r)==="[object Error]",T=g?`${S}
${r.message}`:S,k=[T,t,e].filter(Boolean).join(`
`);return g?(r.originalMessage=r.message,r.message=k):r=new Error(k),r.shortMessage=T,r.command=s,r.escapedCommand=c,r.exitCode=o,r.signal=i,r.signalDescription=m,r.stdout=e,r.stderr=t,n!==void 0&&(r.all=n),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=Boolean(a),r.isCanceled=p,r.killed=u&&!a,r};ar.exports=ac});var dr=f((Yf,qt)=>{"use strict";var Ke=["stdin","stdout","stderr"],fc=e=>Ke.some(t=>e[t]!==void 0),lr=e=>{if(!e)return;let{stdio:t}=e;if(t===void 0)return Ke.map(r=>e[r]);if(fc(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Ke.map(r=>`\`${r}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let n=Math.max(t.length,Ke.length);return Array.from({length:n},(r,i)=>t[i])};qt.exports=lr;qt.exports.node=e=>{let t=lr(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var mr=f((Vf,Ye)=>{Ye.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Ye.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Ye.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var gr=f((zf,Se)=>{var I=global.process,re=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};re(I)?(pr=require("assert"),ye=mr(),yr=/^win/i.test(I.platform),qe=require("events"),typeof qe!="function"&&(qe=qe.EventEmitter),I.__signal_exit_emitter__?b=I.__signal_exit_emitter__:(b=I.__signal_exit_emitter__=new qe,b.count=0,b.emitted={}),b.infinite||(b.setMaxListeners(1/0),b.infinite=!0),Se.exports=function(e,t){if(!re(global.process))return function(){};pr.equal(typeof e,"function","a callback must be provided for exit handler"),he===!1&&Ct();var n="exit";t&&t.alwaysLast&&(n="afterexit");var r=function(){b.removeListener(n,e),b.listeners("exit").length===0&&b.listeners("afterexit").length===0&&Ve()};return b.on(n,e),r},Ve=function(){!he||!re(global.process)||(he=!1,ye.forEach(function(t){try{I.removeListener(t,ze[t])}catch{}}),I.emit=Qe,I.reallyExit=Ot,b.count-=1)},Se.exports.unload=Ve,ie=function(t,n,r){b.emitted[t]||(b.emitted[t]=!0,b.emit(t,n,r))},ze={},ye.forEach(function(e){ze[e]=function(){if(!!re(global.process)){var n=I.listeners(e);n.length===b.count&&(Ve(),ie("exit",null,e),ie("afterexit",null,e),yr&&e==="SIGHUP"&&(e="SIGINT"),I.kill(I.pid,e))}}}),Se.exports.signals=function(){return ye},he=!1,Ct=function(){he||!re(global.process)||(he=!0,b.count+=1,ye=ye.filter(function(t){try{return I.on(t,ze[t]),!0}catch{return!1}}),I.emit=Sr,I.reallyExit=hr)},Se.exports.load=Ct,Ot=I.reallyExit,hr=function(t){!re(global.process)||(I.exitCode=t||0,ie("exit",I.exitCode,null),ie("afterexit",I.exitCode,null),Ot.call(I,I.exitCode))},Qe=I.emit,Sr=function(t,n){if(t==="exit"&&re(global.process)){n!==void 0&&(I.exitCode=n);var r=Qe.apply(this,arguments);return ie("exit",I.exitCode,null),ie("afterexit",I.exitCode,null),r}else return Qe.apply(this,arguments)}):Se.exports=function(){return function(){}};var pr,ye,yr,qe,b,Ve,ie,ze,he,Ct,Ot,hr,Qe,Sr});var xr=f((Qf,wr)=>{"use strict";var lc=require("os"),dc=gr(),mc=1e3*5,pc=(e,t="SIGTERM",n={})=>{let r=e(t);return yc(e,t,n,r),r},yc=(e,t,n,r)=>{if(!hc(t,n,r))return;let i=gc(n),o=setTimeout(()=>{e("SIGKILL")},i);o.unref&&o.unref()},hc=(e,{forceKillAfterTimeout:t},n)=>Sc(e)&&t!==!1&&n,Sc=e=>e===lc.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",gc=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return mc;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},wc=(e,t)=>{e.kill()&&(t.isCanceled=!0)},xc=(e,t,n)=>{e.kill(t),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},Ec=(e,{timeout:t,killSignal:n="SIGTERM"},r)=>{if(t===0||t===void 0)return r;let i,o=new Promise((c,a)=>{i=setTimeout(()=>{xc(e,n,a)},t)}),s=r.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},vc=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},Pc=async(e,{cleanup:t,detached:n},r)=>{if(!t||n)return r;let i=dc(()=>{e.kill()});return r.finally(()=>{i()})};wr.exports={spawnedKill:pc,spawnedCancel:wc,setupTimeout:Ec,validateTimeout:vc,setExitHandler:Pc}});var vr=f((Zf,Er)=>{"use strict";var H=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";H.writable=e=>H(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";H.readable=e=>H(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";H.duplex=e=>H.writable(e)&&H.readable(e);H.transform=e=>H.duplex(e)&&typeof e._transform=="function";Er.exports=H});var Fr=f((el,Pr)=>{"use strict";var{PassThrough:Fc}=require("stream");Pr.exports=e=>{e=x({},e);let{array:t}=e,{encoding:n}=e,r=n==="buffer",i=!1;t?i=!(n||r):n=n||"utf8",r&&(n=null);let o=new Fc({objectMode:i});n&&o.setEncoding(n);let s=0,c=[];return o.on("data",a=>{c.push(a),i?s=c.length:s+=a.length}),o.getBufferedValue=()=>t?c:r?Buffer.concat(c,s):c.join(""),o.getBufferedLength=()=>s,o}});var Tr=f((tl,Ce)=>{"use strict";var{constants:Tc}=require("buffer"),Ic=require("stream"),{promisify:kc}=require("util"),qc=Fr(),Cc=kc(Ic.pipeline),bt=class extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}};async function Nt(e,t){if(!e)throw new Error("Expected a stream");t=x({maxBuffer:1/0},t);let{maxBuffer:n}=t,r=qc(t);return await new Promise((i,o)=>{let s=c=>{c&&r.getBufferedLength()<=Tc.MAX_LENGTH&&(c.bufferedData=r.getBufferedValue()),o(c)};(async()=>{try{await Cc(e,r),i()}catch(c){s(c)}})(),r.on("data",()=>{r.getBufferedLength()>n&&s(new bt)})}),r.getBufferedValue()}Ce.exports=Nt;Ce.exports.buffer=(e,t)=>Nt(e,K(x({},t),{encoding:"buffer"}));Ce.exports.array=(e,t)=>Nt(e,K(x({},t),{array:!0}));Ce.exports.MaxBufferError=bt});var kr=f((nl,Ir)=>{"use strict";var{PassThrough:Oc}=require("stream");Ir.exports=function(){var e=[],t=new Oc({objectMode:!0});return t.setMaxListeners(0),t.add=n,t.isEmpty=r,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(n),t;function n(o){return Array.isArray(o)?(o.forEach(n),this):(e.push(o),o.once("end",i.bind(null,o)),o.once("error",t.emit.bind(t,"error")),o.pipe(t,{end:!1}),this)}function r(){return e.length==0}function i(o){e=e.filter(function(s){return s!==o}),!e.length&&t.readable&&t.end()}}});var br=f((rl,Or)=>{"use strict";var Cr=vr(),qr=Tr(),bc=kr(),Nc=(e,t)=>{t===void 0||e.stdin===void 0||(Cr(t)?t.pipe(e.stdin):e.stdin.end(t))},Dc=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;let n=bc();return e.stdout&&n.add(e.stdout),e.stderr&&n.add(e.stderr),n},Dt=async(e,t)=>{if(!!e){e.destroy();try{return await t}catch(n){return n.bufferedData}}},Rt=(e,{encoding:t,buffer:n,maxBuffer:r})=>{if(!(!e||!n))return t?qr(e,{encoding:t,maxBuffer:r}):qr.buffer(e,{maxBuffer:r})},Rc=async({stdout:e,stderr:t,all:n},{encoding:r,buffer:i,maxBuffer:o},s)=>{let c=Rt(e,{encoding:r,buffer:i,maxBuffer:o}),a=Rt(t,{encoding:r,buffer:i,maxBuffer:o}),p=Rt(n,{encoding:r,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,c,a,p])}catch(u){return Promise.all([{error:u,signal:u.signal,timedOut:u.timedOut},Dt(e,c),Dt(t,a),Dt(n,p)])}},Ac=({input:e})=>{if(Cr(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};Or.exports={handleInput:Nc,makeAllStream:Dc,getSpawnedResult:Rc,validateInputSync:Ac}});var Dr=f((il,Nr)=>{"use strict";var _c=(async()=>{})().constructor.prototype,Lc=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(_c,e)]),jc=(e,t)=>{for(let[n,r]of Lc){let i=typeof t=="function"?(...o)=>Reflect.apply(r.value,t(),o):r.value.bind(t);Reflect.defineProperty(e,n,K(x({},r),{value:i}))}return e},Gc=e=>new Promise((t,n)=>{e.on("exit",(r,i)=>{t({exitCode:r,signal:i})}),e.on("error",r=>{n(r)}),e.stdin&&e.stdin.on("error",r=>{n(r)})});Nr.exports={mergePromise:jc,getSpawnedPromise:Gc}});var _r=f((ol,Ar)=>{"use strict";var Rr=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],$c=/^[\w.-]+$/,Mc=/"/g,Bc=e=>typeof e!="string"||$c.test(e)?e:`"${e.replace(Mc,'\\"')}"`,Uc=(e,t)=>Rr(e,t).join(" "),Wc=(e,t)=>Rr(e,t).map(n=>Bc(n)).join(" "),Jc=/ +/g,Xc=e=>{let t=[];for(let n of e.trim().split(Jc)){let r=t[t.length-1];r&&r.endsWith("\\")?t[t.length-1]=`${r.slice(0,-1)} ${n}`:t.push(n)}return t};Ar.exports={joinCommand:Uc,getEscapedCommand:Wc,parseCommand:Xc}});var Ur=f((sl,ge)=>{"use strict";var Hc=require("path"),At=require("child_process"),Kc=Hn(),Yc=Yn(),Vc=Qn(),zc=nr(),Ze=fr(),jr=dr(),{spawnedKill:Qc,spawnedCancel:Zc,setupTimeout:eu,validateTimeout:tu,setExitHandler:nu}=xr(),{handleInput:ru,getSpawnedResult:iu,makeAllStream:ou,validateInputSync:su}=br(),{mergePromise:Lr,getSpawnedPromise:cu}=Dr(),{joinCommand:Gr,parseCommand:$r,getEscapedCommand:Mr}=_r(),uu=1e3*1e3*100,au=({env:e,extendEnv:t,preferLocal:n,localDir:r,execPath:i})=>{let o=t?x(x({},process.env),e):e;return n?Vc.env({env:o,cwd:r,execPath:i}):o},Br=(e,t,n={})=>{let r=Kc._parse(e,t,n);return e=r.command,t=r.args,n=r.options,n=x({maxBuffer:uu,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:n.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0},n),n.env=au(n),n.stdio=jr(n),process.platform==="win32"&&Hc.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:n,parsed:r}},Oe=(e,t,n)=>typeof t!="string"&&!Buffer.isBuffer(t)?n===void 0?void 0:"":e.stripFinalNewline?Yc(t):t,et=(e,t,n)=>{let r=Br(e,t,n),i=Gr(e,t),o=Mr(e,t);tu(r.options);let s;try{s=At.spawn(r.file,r.args,r.options)}catch(d){let y=new At.ChildProcess,S=Promise.reject(Ze({error:d,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return Lr(y,S)}let c=cu(s),a=eu(s,r.options,c),p=nu(s,r.options,a),u={isCanceled:!1};s.kill=Qc.bind(null,s.kill.bind(s)),s.cancel=Zc.bind(null,s,u);let m=zc(async()=>{let[{error:d,exitCode:y,signal:S,timedOut:g},T,k,te]=await iu(s,r.options,p),ne=Oe(r.options,T),Pe=Oe(r.options,k),Fe=Oe(r.options,te);if(d||y!==0||S!==null){let fe=Ze({error:d,exitCode:y,signal:S,stdout:ne,stderr:Pe,all:Fe,command:i,escapedCommand:o,parsed:r,timedOut:g,isCanceled:u.isCanceled,killed:s.killed});if(!r.options.reject)return fe;throw fe}return{command:i,escapedCommand:o,exitCode:0,stdout:ne,stderr:Pe,all:Fe,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return ru(s,r.options.input),s.all=ou(s,r.options),Lr(s,m)};ge.exports=et;ge.exports.sync=(e,t,n)=>{let r=Br(e,t,n),i=Gr(e,t),o=Mr(e,t);su(r.options);let s;try{s=At.spawnSync(r.file,r.args,r.options)}catch(p){throw Ze({error:p,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}let c=Oe(r.options,s.stdout,s.error),a=Oe(r.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){let p=Ze({stdout:c,stderr:a,error:s.error,signal:s.signal,exitCode:s.status,command:i,escapedCommand:o,parsed:r,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!r.options.reject)return p;throw p}return{command:i,escapedCommand:o,exitCode:0,stdout:c,stderr:a,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};ge.exports.command=(e,t)=>{let[n,...r]=$r(e);return et(n,r,t)};ge.exports.commandSync=(e,t)=>{let[n,...r]=$r(e);return et.sync(n,r,t)};ge.exports.node=(e,t,n={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(n=t,t=[]);let r=jr.node(n),i=process.execArgv.filter(c=>!c.startsWith("--inspect")),{nodePath:o=process.execPath,nodeOptions:s=i}=n;return et(o,[...s,e,...Array.isArray(t)?t:[]],K(x({},n),{stdin:void 0,stdout:void 0,stderr:void 0,stdio:r,shell:!1}))}});var M=f(_t=>{"use strict";_t.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((n,r)=>{e.call(this,...t,(i,o)=>i!=null?r(i):n(o))})},"name",{value:e.name})};_t.fromPromise=function(e){return Object.defineProperty(function(...t){let n=t[t.length-1];if(typeof n!="function")return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(r=>n(null,r),n)},"name",{value:e.name})}});var Kr=f((al,Hr)=>{var Y=require("constants"),fu=process.cwd,tt=null,lu=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return tt||(tt=fu.call(process)),tt};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Lt=process.chdir,process.chdir=function(e){tt=null,Lt.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Lt));var Lt;Hr.exports=du;function du(e){Y.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||n(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=r(e.chmod),e.fchmod=r(e.fchmod),e.lchmod=r(e.lchmod),e.chownSync=s(e.chownSync),e.fchownSync=s(e.fchownSync),e.lchownSync=s(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=a(e.statSync),e.fstatSync=a(e.fstatSync),e.lstatSync=a(e.lstatSync),e.lchmod||(e.lchmod=function(u,l,m){m&&process.nextTick(m)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(u,l,m,d){d&&process.nextTick(d)},e.lchownSync=function(){}),lu==="win32"&&(e.rename=function(u){return function(l,m,d){var y=Date.now(),S=0;u(l,m,function g(T){if(T&&(T.code==="EACCES"||T.code==="EPERM")&&Date.now()-y<6e4){setTimeout(function(){e.stat(m,function(k,te){k&&k.code==="ENOENT"?u(l,m,g):d(T)})},S),S<100&&(S+=10);return}d&&d(T)})}}(e.rename)),e.read=function(u){function l(m,d,y,S,g,T){var k;if(T&&typeof T=="function"){var te=0;k=function(ne,Pe,Fe){if(ne&&ne.code==="EAGAIN"&&te<10)return te++,u.call(e,m,d,y,S,g,k);T.apply(this,arguments)}}return u.call(e,m,d,y,S,g,k)}return Object.setPrototypeOf&&Object.setPrototypeOf(l,u),l}(e.read),e.readSync=function(u){return function(l,m,d,y,S){for(var g=0;;)try{return u.call(e,l,m,d,y,S)}catch(T){if(T.code==="EAGAIN"&&g<10){g++;continue}throw T}}}(e.readSync);function t(u){u.lchmod=function(l,m,d){u.open(l,Y.O_WRONLY|Y.O_SYMLINK,m,function(y,S){if(y){d&&d(y);return}u.fchmod(S,m,function(g){u.close(S,function(T){d&&d(g||T)})})})},u.lchmodSync=function(l,m){var d=u.openSync(l,Y.O_WRONLY|Y.O_SYMLINK,m),y=!0,S;try{S=u.fchmodSync(d,m),y=!1}finally{if(y)try{u.closeSync(d)}catch{}else u.closeSync(d)}return S}}function n(u){Y.hasOwnProperty("O_SYMLINK")?(u.lutimes=function(l,m,d,y){u.open(l,Y.O_SYMLINK,function(S,g){if(S){y&&y(S);return}u.futimes(g,m,d,function(T){u.close(g,function(k){y&&y(T||k)})})})},u.lutimesSync=function(l,m,d){var y=u.openSync(l,Y.O_SYMLINK),S,g=!0;try{S=u.futimesSync(y,m,d),g=!1}finally{if(g)try{u.closeSync(y)}catch{}else u.closeSync(y)}return S}):(u.lutimes=function(l,m,d,y){y&&process.nextTick(y)},u.lutimesSync=function(){})}function r(u){return u&&function(l,m,d){return u.call(e,l,m,function(y){p(y)&&(y=null),d&&d.apply(this,arguments)})}}function i(u){return u&&function(l,m){try{return u.call(e,l,m)}catch(d){if(!p(d))throw d}}}function o(u){return u&&function(l,m,d,y){return u.call(e,l,m,d,function(S){p(S)&&(S=null),y&&y.apply(this,arguments)})}}function s(u){return u&&function(l,m,d){try{return u.call(e,l,m,d)}catch(y){if(!p(y))throw y}}}function c(u){return u&&function(l,m,d){typeof m=="function"&&(d=m,m=null);function y(S,g){g&&(g.uid<0&&(g.uid+=4294967296),g.gid<0&&(g.gid+=4294967296)),d&&d.apply(this,arguments)}return m?u.call(e,l,m,y):u.call(e,l,y)}}function a(u){return u&&function(l,m){var d=m?u.call(e,l,m):u.call(e,l);return d&&(d.uid<0&&(d.uid+=4294967296),d.gid<0&&(d.gid+=4294967296)),d}}function p(u){if(!u||u.code==="ENOSYS")return!0;var l=!process.getuid||process.getuid()!==0;return!!(l&&(u.code==="EINVAL"||u.code==="EPERM"))}}});var zr=f((fl,Vr)=>{var Yr=require("stream").Stream;Vr.exports=mu;function mu(e){return{ReadStream:t,WriteStream:n};function t(r,i){if(!(this instanceof t))return new t(r,i);Yr.call(this);var o=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var s=Object.keys(i),c=0,a=s.length;c<a;c++){var p=s[c];this[p]=i[p]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}e.open(this.path,this.flags,this.mode,function(u,l){if(u){o.emit("error",u),o.readable=!1;return}o.fd=l,o.emit("open",l),o._read()})}function n(r,i){if(!(this instanceof n))return new n(r,i);Yr.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,c=o.length;s<c;s++){var a=o[s];this[a]=i[a]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Zr=f((ll,Qr)=>{"use strict";Qr.exports=yu;var pu=Object.getPrototypeOf||function(e){return e.__proto__};function yu(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:pu(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}});var G=f((dl,$t)=>{var q=require("fs"),hu=Kr(),Su=zr(),gu=Zr(),nt=require("util"),_,it;typeof Symbol=="function"&&typeof Symbol.for=="function"?(_=Symbol.for("graceful-fs.queue"),it=Symbol.for("graceful-fs.previous")):(_="___graceful-fs.queue",it="___graceful-fs.previous");function wu(){}function ni(e,t){Object.defineProperty(e,_,{get:function(){return t}})}var oe=wu;nt.debuglog?oe=nt.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(oe=function(){var e=nt.format.apply(nt,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});q[_]||(ei=global[_]||[],ni(q,ei),q.close=function(e){function t(n,r){return e.call(q,n,function(i){i||ti(),typeof r=="function"&&r.apply(this,arguments)})}return Object.defineProperty(t,it,{value:e}),t}(q.close),q.closeSync=function(e){function t(n){e.apply(q,arguments),ti()}return Object.defineProperty(t,it,{value:e}),t}(q.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){oe(q[_]),require("assert").equal(q[_].length,0)}));var ei;global[_]||ni(global,q[_]);$t.exports=jt(gu(q));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!q.__patched&&($t.exports=jt(q),q.__patched=!0);function jt(e){hu(e),e.gracefulify=jt,e.createReadStream=ne,e.createWriteStream=Pe;var t=e.readFile;e.readFile=n;function n(h,v,E){return typeof v=="function"&&(E=v,v=null),D(h,v,E);function D(R,A,C,j){return t(R,A,function(F){F&&(F.code==="EMFILE"||F.code==="ENFILE")?we([D,[R,A,C],F,j||Date.now(),Date.now()]):typeof C=="function"&&C.apply(this,arguments)})}}var r=e.writeFile;e.writeFile=i;function i(h,v,E,D){return typeof E=="function"&&(D=E,E=null),R(h,v,E,D);function R(A,C,j,F,W){return r(A,C,j,function(O){O&&(O.code==="EMFILE"||O.code==="ENFILE")?we([R,[A,C,j,F],O,W||Date.now(),Date.now()]):typeof F=="function"&&F.apply(this,arguments)})}}var o=e.appendFile;o&&(e.appendFile=s);function s(h,v,E,D){return typeof E=="function"&&(D=E,E=null),R(h,v,E,D);function R(A,C,j,F,W){return o(A,C,j,function(O){O&&(O.code==="EMFILE"||O.code==="ENFILE")?we([R,[A,C,j,F],O,W||Date.now(),Date.now()]):typeof F=="function"&&F.apply(this,arguments)})}}var c=e.copyFile;c&&(e.copyFile=a);function a(h,v,E,D){return typeof E=="function"&&(D=E,E=0),R(h,v,E,D);function R(A,C,j,F,W){return c(A,C,j,function(O){O&&(O.code==="EMFILE"||O.code==="ENFILE")?we([R,[A,C,j,F],O,W||Date.now(),Date.now()]):typeof F=="function"&&F.apply(this,arguments)})}}var p=e.readdir;e.readdir=u;function u(h,v,E){return typeof v=="function"&&(E=v,v=null),D(h,v,E);function D(R,A,C,j){return p(R,A,function(F,W){F&&(F.code==="EMFILE"||F.code==="ENFILE")?we([D,[R,A,C],F,j||Date.now(),Date.now()]):(W&&W.sort&&W.sort(),typeof C=="function"&&C.call(this,F,W))})}}if(process.version.substr(0,4)==="v0.8"){var l=Su(e);g=l.ReadStream,k=l.WriteStream}var m=e.ReadStream;m&&(g.prototype=Object.create(m.prototype),g.prototype.open=T);var d=e.WriteStream;d&&(k.prototype=Object.create(d.prototype),k.prototype.open=te),Object.defineProperty(e,"ReadStream",{get:function(){return g},set:function(h){g=h},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return k},set:function(h){k=h},enumerable:!0,configurable:!0});var y=g;Object.defineProperty(e,"FileReadStream",{get:function(){return y},set:function(h){y=h},enumerable:!0,configurable:!0});var S=k;Object.defineProperty(e,"FileWriteStream",{get:function(){return S},set:function(h){S=h},enumerable:!0,configurable:!0});function g(h,v){return this instanceof g?(m.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function T(){var h=this;fe(h.path,h.flags,h.mode,function(v,E){v?(h.autoClose&&h.destroy(),h.emit("error",v)):(h.fd=E,h.emit("open",E),h.read())})}function k(h,v){return this instanceof k?(d.apply(this,arguments),this):k.apply(Object.create(k.prototype),arguments)}function te(){var h=this;fe(h.path,h.flags,h.mode,function(v,E){v?(h.destroy(),h.emit("error",v)):(h.fd=E,h.emit("open",E))})}function ne(h,v){return new e.ReadStream(h,v)}function Pe(h,v){return new e.WriteStream(h,v)}var Fe=e.open;e.open=fe;function fe(h,v,E,D){return typeof E=="function"&&(D=E,E=null),R(h,v,E,D);function R(A,C,j,F,W){return Fe(A,C,j,function(O,Ff){O&&(O.code==="EMFILE"||O.code==="ENFILE")?we([R,[A,C,j,F],O,W||Date.now(),Date.now()]):typeof F=="function"&&F.apply(this,arguments)})}}return e}function we(e){oe("ENQUEUE",e[0].name,e[1]),q[_].push(e),Gt()}var rt;function ti(){for(var e=Date.now(),t=0;t<q[_].length;++t)q[_][t].length>2&&(q[_][t][3]=e,q[_][t][4]=e);Gt()}function Gt(){if(clearTimeout(rt),rt=void 0,q[_].length!==0){var e=q[_].shift(),t=e[0],n=e[1],r=e[2],i=e[3],o=e[4];if(i===void 0)oe("RETRY",t.name,n),t.apply(null,n);else if(Date.now()-i>=6e4){oe("TIMEOUT",t.name,n);var s=n.pop();typeof s=="function"&&s.call(null,r)}else{var c=Date.now()-o,a=Math.max(o-i,1),p=Math.min(a*1.2,100);c>=p?(oe("RETRY",t.name,n),t.apply(null,n.concat([i]))):q[_].push(e)}rt===void 0&&(rt=setTimeout(Gt,0))}}});var se=f(V=>{"use strict";var ri=M().fromCallback,U=G(),xu=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof U[e]=="function");Object.assign(V,U);xu.forEach(e=>{V[e]=ri(U[e])});V.realpath.native=ri(U.realpath.native);V.exists=function(e,t){return typeof t=="function"?U.exists(e,t):new Promise(n=>U.exists(e,n))};V.read=function(e,t,n,r,i,o){return typeof o=="function"?U.read(e,t,n,r,i,o):new Promise((s,c)=>{U.read(e,t,n,r,i,(a,p,u)=>{if(a)return c(a);s({bytesRead:p,buffer:u})})})};V.write=function(e,t,...n){return typeof n[n.length-1]=="function"?U.write(e,t,...n):new Promise((r,i)=>{U.write(e,t,...n,(o,s,c)=>{if(o)return i(o);r({bytesWritten:s,buffer:c})})})};typeof U.writev=="function"&&(V.writev=function(e,t,...n){return typeof n[n.length-1]=="function"?U.writev(e,t,...n):new Promise((r,i)=>{U.writev(e,t,...n,(o,s,c)=>{if(o)return i(o);r({bytesWritten:s,buffers:c})})})})});var oi=f((pl,ii)=>{"use strict";var Eu=require("path");ii.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(Eu.parse(t).root,""))){let r=new Error(`Path contains invalid characters: ${t}`);throw r.code="EINVAL",r}}});var ai=f((yl,Mt)=>{"use strict";var si=se(),{checkPath:ci}=oi(),ui=e=>{let t={mode:511};return typeof e=="number"?e:x(x({},t),e).mode};Mt.exports.makeDir=async(e,t)=>(ci(e),si.mkdir(e,{mode:ui(t),recursive:!0}));Mt.exports.makeDirSync=(e,t)=>(ci(e),si.mkdirSync(e,{mode:ui(t),recursive:!0}))});var J=f((hl,fi)=>{"use strict";var vu=M().fromPromise,{makeDir:Pu,makeDirSync:Bt}=ai(),Ut=vu(Pu);fi.exports={mkdirs:Ut,mkdirsSync:Bt,mkdirp:Ut,mkdirpSync:Bt,ensureDir:Ut,ensureDirSync:Bt}});var z=f((Sl,di)=>{"use strict";var Fu=M().fromPromise,li=se();function Tu(e){return li.access(e).then(()=>!0).catch(()=>!1)}di.exports={pathExists:Fu(Tu),pathExistsSync:li.existsSync}});var Wt=f((gl,mi)=>{"use strict";var xe=G();function Iu(e,t,n,r){xe.open(e,"r+",(i,o)=>{if(i)return r(i);xe.futimes(o,t,n,s=>{xe.close(o,c=>{r&&r(s||c)})})})}function ku(e,t,n){let r=xe.openSync(e,"r+");return xe.futimesSync(r,t,n),xe.closeSync(r)}mi.exports={utimesMillis:Iu,utimesMillisSync:ku}});var ce=f((wl,hi)=>{"use strict";var Ee=se(),N=require("path"),qu=require("util");function Cu(e,t,n){let r=n.dereference?i=>Ee.stat(i,{bigint:!0}):i=>Ee.lstat(i,{bigint:!0});return Promise.all([r(e),r(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,o])=>({srcStat:i,destStat:o}))}function Ou(e,t,n){let r,i=n.dereference?s=>Ee.statSync(s,{bigint:!0}):s=>Ee.lstatSync(s,{bigint:!0}),o=i(e);try{r=i(t)}catch(s){if(s.code==="ENOENT")return{srcStat:o,destStat:null};throw s}return{srcStat:o,destStat:r}}function bu(e,t,n,r,i){qu.callbackify(Cu)(e,t,r,(o,s)=>{if(o)return i(o);let{srcStat:c,destStat:a}=s;if(a){if(be(c,a)){let p=N.basename(e),u=N.basename(t);return n==="move"&&p!==u&&p.toLowerCase()===u.toLowerCase()?i(null,{srcStat:c,destStat:a,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(c.isDirectory()&&!a.isDirectory())return i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!c.isDirectory()&&a.isDirectory())return i(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return c.isDirectory()&&Jt(e,t)?i(new Error(ot(e,t,n))):i(null,{srcStat:c,destStat:a})})}function Nu(e,t,n,r){let{srcStat:i,destStat:o}=Ou(e,t,r);if(o){if(be(i,o)){let s=N.basename(e),c=N.basename(t);if(n==="move"&&s!==c&&s.toLowerCase()===c.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&Jt(e,t))throw new Error(ot(e,t,n));return{srcStat:i,destStat:o}}function pi(e,t,n,r,i){let o=N.resolve(N.dirname(e)),s=N.resolve(N.dirname(n));if(s===o||s===N.parse(s).root)return i();Ee.stat(s,{bigint:!0},(c,a)=>c?c.code==="ENOENT"?i():i(c):be(t,a)?i(new Error(ot(e,n,r))):pi(e,t,s,r,i))}function yi(e,t,n,r){let i=N.resolve(N.dirname(e)),o=N.resolve(N.dirname(n));if(o===i||o===N.parse(o).root)return;let s;try{s=Ee.statSync(o,{bigint:!0})}catch(c){if(c.code==="ENOENT")return;throw c}if(be(t,s))throw new Error(ot(e,n,r));return yi(e,t,o,r)}function be(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function Jt(e,t){let n=N.resolve(e).split(N.sep).filter(i=>i),r=N.resolve(t).split(N.sep).filter(i=>i);return n.reduce((i,o,s)=>i&&r[s]===o,!0)}function ot(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}hi.exports={checkPaths:bu,checkPathsSync:Nu,checkParentPaths:pi,checkParentPathsSync:yi,isSrcSubdir:Jt,areIdentical:be}});var Fi=f((xl,Pi)=>{"use strict";var B=G(),Ne=require("path"),Du=J().mkdirs,Ru=z().pathExists,Au=Wt().utimesMillis,De=ce();function _u(e,t,n,r){typeof n=="function"&&!r?(r=n,n={}):typeof n=="function"&&(n={filter:n}),r=r||function(){},n=n||{},n.clobber="clobber"in n?!!n.clobber:!0,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`),De.checkPaths(e,t,"copy",n,(i,o)=>{if(i)return r(i);let{srcStat:s,destStat:c}=o;De.checkParentPaths(e,s,t,"copy",a=>a?r(a):n.filter?wi(Si,c,e,t,n,r):Si(c,e,t,n,r))})}function Si(e,t,n,r,i){let o=Ne.dirname(n);Ru(o,(s,c)=>{if(s)return i(s);if(c)return st(e,t,n,r,i);Du(o,a=>a?i(a):st(e,t,n,r,i))})}function wi(e,t,n,r,i,o){Promise.resolve(i.filter(n,r)).then(s=>s?e(t,n,r,i,o):o(),s=>o(s))}function Lu(e,t,n,r,i){return r.filter?wi(st,e,t,n,r,i):st(e,t,n,r,i)}function st(e,t,n,r,i){(r.dereference?B.stat:B.lstat)(t,(s,c)=>s?i(s):c.isDirectory()?Wu(c,e,t,n,r,i):c.isFile()||c.isCharacterDevice()||c.isBlockDevice()?ju(c,e,t,n,r,i):c.isSymbolicLink()?Hu(e,t,n,r,i):c.isSocket()?i(new Error(`Cannot copy a socket file: ${t}`)):c.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${t}`)):i(new Error(`Unknown file: ${t}`)))}function ju(e,t,n,r,i,o){return t?Gu(e,n,r,i,o):xi(e,n,r,i,o)}function Gu(e,t,n,r,i){if(r.overwrite)B.unlink(n,o=>o?i(o):xi(e,t,n,r,i));else return r.errorOnExist?i(new Error(`'${n}' already exists`)):i()}function xi(e,t,n,r,i){B.copyFile(t,n,o=>o?i(o):r.preserveTimestamps?$u(e.mode,t,n,i):ct(n,e.mode,i))}function $u(e,t,n,r){return Mu(e)?Bu(n,e,i=>i?r(i):gi(e,t,n,r)):gi(e,t,n,r)}function Mu(e){return(e&128)===0}function Bu(e,t,n){return ct(e,t|128,n)}function gi(e,t,n,r){Uu(t,n,i=>i?r(i):ct(n,e,r))}function ct(e,t,n){return B.chmod(e,t,n)}function Uu(e,t,n){B.stat(e,(r,i)=>r?n(r):Au(t,i.atime,i.mtime,n))}function Wu(e,t,n,r,i,o){return t?Ei(n,r,i,o):Ju(e.mode,n,r,i,o)}function Ju(e,t,n,r,i){B.mkdir(n,o=>{if(o)return i(o);Ei(t,n,r,s=>s?i(s):ct(n,e,i))})}function Ei(e,t,n,r){B.readdir(e,(i,o)=>i?r(i):vi(o,e,t,n,r))}function vi(e,t,n,r,i){let o=e.pop();return o?Xu(e,o,t,n,r,i):i()}function Xu(e,t,n,r,i,o){let s=Ne.join(n,t),c=Ne.join(r,t);De.checkPaths(s,c,"copy",i,(a,p)=>{if(a)return o(a);let{destStat:u}=p;Lu(u,s,c,i,l=>l?o(l):vi(e,n,r,i,o))})}function Hu(e,t,n,r,i){B.readlink(t,(o,s)=>{if(o)return i(o);if(r.dereference&&(s=Ne.resolve(process.cwd(),s)),e)B.readlink(n,(c,a)=>c?c.code==="EINVAL"||c.code==="UNKNOWN"?B.symlink(s,n,i):i(c):(r.dereference&&(a=Ne.resolve(process.cwd(),a)),De.isSrcSubdir(s,a)?i(new Error(`Cannot copy '${s}' to a subdirectory of itself, '${a}'.`)):e.isDirectory()&&De.isSrcSubdir(a,s)?i(new Error(`Cannot overwrite '${a}' with '${s}'.`)):Ku(s,n,i)));else return B.symlink(s,n,i)})}function Ku(e,t,n){B.unlink(t,r=>r?n(r):B.symlink(e,t,n))}Pi.exports=_u});var Ci=f((El,qi)=>{"use strict";var L=G(),Re=require("path"),Yu=J().mkdirsSync,Vu=Wt().utimesMillisSync,Ae=ce();function zu(e,t,n){typeof n=="function"&&(n={filter:n}),n=n||{},n.clobber="clobber"in n?!!n.clobber:!0,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`);let{srcStat:r,destStat:i}=Ae.checkPathsSync(e,t,"copy",n);return Ae.checkParentPathsSync(e,r,t,"copy"),Qu(i,e,t,n)}function Qu(e,t,n,r){if(r.filter&&!r.filter(t,n))return;let i=Re.dirname(n);return L.existsSync(i)||Yu(i),Ti(e,t,n,r)}function Zu(e,t,n,r){if(!(r.filter&&!r.filter(t,n)))return Ti(e,t,n,r)}function Ti(e,t,n,r){let o=(r.dereference?L.statSync:L.lstatSync)(t);if(o.isDirectory())return sa(o,e,t,n,r);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return ea(o,e,t,n,r);if(o.isSymbolicLink())return aa(e,t,n,r);throw o.isSocket()?new Error(`Cannot copy a socket file: ${t}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function ea(e,t,n,r,i){return t?ta(e,n,r,i):Ii(e,n,r,i)}function ta(e,t,n,r){if(r.overwrite)return L.unlinkSync(n),Ii(e,t,n,r);if(r.errorOnExist)throw new Error(`'${n}' already exists`)}function Ii(e,t,n,r){return L.copyFileSync(t,n),r.preserveTimestamps&&na(e.mode,t,n),Xt(n,e.mode)}function na(e,t,n){return ra(e)&&ia(n,e),oa(t,n)}function ra(e){return(e&128)===0}function ia(e,t){return Xt(e,t|128)}function Xt(e,t){return L.chmodSync(e,t)}function oa(e,t){let n=L.statSync(e);return Vu(t,n.atime,n.mtime)}function sa(e,t,n,r,i){return t?ki(n,r,i):ca(e.mode,n,r,i)}function ca(e,t,n,r){return L.mkdirSync(n),ki(t,n,r),Xt(n,e)}function ki(e,t,n){L.readdirSync(e).forEach(r=>ua(r,e,t,n))}function ua(e,t,n,r){let i=Re.join(t,e),o=Re.join(n,e),{destStat:s}=Ae.checkPathsSync(i,o,"copy",r);return Zu(s,i,o,r)}function aa(e,t,n,r){let i=L.readlinkSync(t);if(r.dereference&&(i=Re.resolve(process.cwd(),i)),e){let o;try{o=L.readlinkSync(n)}catch(s){if(s.code==="EINVAL"||s.code==="UNKNOWN")return L.symlinkSync(i,n);throw s}if(r.dereference&&(o=Re.resolve(process.cwd(),o)),Ae.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(L.statSync(n).isDirectory()&&Ae.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return fa(i,n)}else return L.symlinkSync(i,n)}function fa(e,t){return L.unlinkSync(t),L.symlinkSync(e,t)}qi.exports=zu});var ut=f((vl,Oi)=>{"use strict";var la=M().fromCallback;Oi.exports={copy:la(Fi()),copySync:Ci()}});var Gi=f((Pl,ji)=>{"use strict";var bi=G(),Ai=require("path"),P=require("assert"),_e=process.platform==="win32";function _i(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(n=>{e[n]=e[n]||bi[n],n=n+"Sync",e[n]=e[n]||bi[n]}),e.maxBusyTries=e.maxBusyTries||3}function Ht(e,t,n){let r=0;typeof t=="function"&&(n=t,t={}),P(e,"rimraf: missing path"),P.strictEqual(typeof e,"string","rimraf: path should be a string"),P.strictEqual(typeof n,"function","rimraf: callback function required"),P(t,"rimraf: invalid options argument provided"),P.strictEqual(typeof t,"object","rimraf: options should be object"),_i(t),Ni(e,t,function i(o){if(o){if((o.code==="EBUSY"||o.code==="ENOTEMPTY"||o.code==="EPERM")&&r<t.maxBusyTries){r++;let s=r*100;return setTimeout(()=>Ni(e,t,i),s)}o.code==="ENOENT"&&(o=null)}n(o)})}function Ni(e,t,n){P(e),P(t),P(typeof n=="function"),t.lstat(e,(r,i)=>{if(r&&r.code==="ENOENT")return n(null);if(r&&r.code==="EPERM"&&_e)return Di(e,t,r,n);if(i&&i.isDirectory())return at(e,t,r,n);t.unlink(e,o=>{if(o){if(o.code==="ENOENT")return n(null);if(o.code==="EPERM")return _e?Di(e,t,o,n):at(e,t,o,n);if(o.code==="EISDIR")return at(e,t,o,n)}return n(o)})})}function Di(e,t,n,r){P(e),P(t),P(typeof r=="function"),t.chmod(e,438,i=>{i?r(i.code==="ENOENT"?null:n):t.stat(e,(o,s)=>{o?r(o.code==="ENOENT"?null:n):s.isDirectory()?at(e,t,n,r):t.unlink(e,r)})})}function Ri(e,t,n){let r;P(e),P(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw n}try{r=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw n}r.isDirectory()?ft(e,t,n):t.unlinkSync(e)}function at(e,t,n,r){P(e),P(t),P(typeof r=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?da(e,t,r):i&&i.code==="ENOTDIR"?r(n):r(i)})}function da(e,t,n){P(e),P(t),P(typeof n=="function"),t.readdir(e,(r,i)=>{if(r)return n(r);let o=i.length,s;if(o===0)return t.rmdir(e,n);i.forEach(c=>{Ht(Ai.join(e,c),t,a=>{if(!s){if(a)return n(s=a);--o===0&&t.rmdir(e,n)}})})})}function Li(e,t){let n;t=t||{},_i(t),P(e,"rimraf: missing path"),P.strictEqual(typeof e,"string","rimraf: path should be a string"),P(t,"rimraf: missing options"),P.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(r){if(r.code==="ENOENT")return;r.code==="EPERM"&&_e&&Ri(e,t,r)}try{n&&n.isDirectory()?ft(e,t,null):t.unlinkSync(e)}catch(r){if(r.code==="ENOENT")return;if(r.code==="EPERM")return _e?Ri(e,t,r):ft(e,t,r);if(r.code!=="EISDIR")throw r;ft(e,t,r)}}function ft(e,t,n){P(e),P(t);try{t.rmdirSync(e)}catch(r){if(r.code==="ENOTDIR")throw n;if(r.code==="ENOTEMPTY"||r.code==="EEXIST"||r.code==="EPERM")ma(e,t);else if(r.code!=="ENOENT")throw r}}function ma(e,t){if(P(e),P(t),t.readdirSync(e).forEach(n=>Li(Ai.join(e,n),t)),_e){let n=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-n<500)}else return t.rmdirSync(e,t)}ji.exports=Ht;Ht.sync=Li});var Le=f((Fl,Mi)=>{"use strict";var lt=G(),pa=M().fromCallback,$i=Gi();function ya(e,t){if(lt.rm)return lt.rm(e,{recursive:!0,force:!0},t);$i(e,t)}function ha(e){if(lt.rmSync)return lt.rmSync(e,{recursive:!0,force:!0});$i.sync(e)}Mi.exports={remove:pa(ya),removeSync:ha}});var Yi=f((Tl,Ki)=>{"use strict";var Sa=M().fromPromise,Wi=se(),Ji=require("path"),Xi=J(),Hi=Le(),Bi=Sa(async function(t){let n;try{n=await Wi.readdir(t)}catch{return Xi.mkdirs(t)}return Promise.all(n.map(r=>Hi.remove(Ji.join(t,r))))});function Ui(e){let t;try{t=Wi.readdirSync(e)}catch{return Xi.mkdirsSync(e)}t.forEach(n=>{n=Ji.join(e,n),Hi.removeSync(n)})}Ki.exports={emptyDirSync:Ui,emptydirSync:Ui,emptyDir:Bi,emptydir:Bi}});var Zi=f((Il,Qi)=>{"use strict";var ga=M().fromCallback,Vi=require("path"),Q=G(),zi=J();function wa(e,t){function n(){Q.writeFile(e,"",r=>{if(r)return t(r);t()})}Q.stat(e,(r,i)=>{if(!r&&i.isFile())return t();let o=Vi.dirname(e);Q.stat(o,(s,c)=>{if(s)return s.code==="ENOENT"?zi.mkdirs(o,a=>{if(a)return t(a);n()}):t(s);c.isDirectory()?n():Q.readdir(o,a=>{if(a)return t(a)})})})}function xa(e){let t;try{t=Q.statSync(e)}catch{}if(t&&t.isFile())return;let n=Vi.dirname(e);try{Q.statSync(n).isDirectory()||Q.readdirSync(n)}catch(r){if(r&&r.code==="ENOENT")zi.mkdirsSync(n);else throw r}Q.writeFileSync(e,"")}Qi.exports={createFile:ga(wa),createFileSync:xa}});var io=f((kl,ro)=>{"use strict";var Ea=M().fromCallback,eo=require("path"),Z=G(),to=J(),va=z().pathExists,{areIdentical:no}=ce();function Pa(e,t,n){function r(i,o){Z.link(i,o,s=>{if(s)return n(s);n(null)})}Z.lstat(t,(i,o)=>{Z.lstat(e,(s,c)=>{if(s)return s.message=s.message.replace("lstat","ensureLink"),n(s);if(o&&no(c,o))return n(null);let a=eo.dirname(t);va(a,(p,u)=>{if(p)return n(p);if(u)return r(e,t);to.mkdirs(a,l=>{if(l)return n(l);r(e,t)})})})})}function Fa(e,t){let n;try{n=Z.lstatSync(t)}catch{}try{let o=Z.lstatSync(e);if(n&&no(o,n))return}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let r=eo.dirname(t);return Z.existsSync(r)||to.mkdirsSync(r),Z.linkSync(e,t)}ro.exports={createLink:Ea(Pa),createLinkSync:Fa}});var so=f((ql,oo)=>{"use strict";var ee=require("path"),je=G(),Ta=z().pathExists;function Ia(e,t,n){if(ee.isAbsolute(e))return je.lstat(e,r=>r?(r.message=r.message.replace("lstat","ensureSymlink"),n(r)):n(null,{toCwd:e,toDst:e}));{let r=ee.dirname(t),i=ee.join(r,e);return Ta(i,(o,s)=>o?n(o):s?n(null,{toCwd:i,toDst:e}):je.lstat(e,c=>c?(c.message=c.message.replace("lstat","ensureSymlink"),n(c)):n(null,{toCwd:e,toDst:ee.relative(r,e)})))}}function ka(e,t){let n;if(ee.isAbsolute(e)){if(n=je.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{let r=ee.dirname(t),i=ee.join(r,e);if(n=je.existsSync(i),n)return{toCwd:i,toDst:e};if(n=je.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:ee.relative(r,e)}}}oo.exports={symlinkPaths:Ia,symlinkPathsSync:ka}});var ao=f((Cl,uo)=>{"use strict";var co=G();function qa(e,t,n){if(n=typeof t=="function"?t:n,t=typeof t=="function"?!1:t,t)return n(null,t);co.lstat(e,(r,i)=>{if(r)return n(null,"file");t=i&&i.isDirectory()?"dir":"file",n(null,t)})}function Ca(e,t){let n;if(t)return t;try{n=co.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}uo.exports={symlinkType:qa,symlinkTypeSync:Ca}});var go=f((Ol,So)=>{"use strict";var Oa=M().fromCallback,lo=require("path"),X=se(),mo=J(),ba=mo.mkdirs,Na=mo.mkdirsSync,po=so(),Da=po.symlinkPaths,Ra=po.symlinkPathsSync,yo=ao(),Aa=yo.symlinkType,_a=yo.symlinkTypeSync,La=z().pathExists,{areIdentical:ho}=ce();function ja(e,t,n,r){r=typeof n=="function"?n:r,n=typeof n=="function"?!1:n,X.lstat(t,(i,o)=>{!i&&o.isSymbolicLink()?Promise.all([X.stat(e),X.stat(t)]).then(([s,c])=>{if(ho(s,c))return r(null);fo(e,t,n,r)}):fo(e,t,n,r)})}function fo(e,t,n,r){Da(e,t,(i,o)=>{if(i)return r(i);e=o.toDst,Aa(o.toCwd,n,(s,c)=>{if(s)return r(s);let a=lo.dirname(t);La(a,(p,u)=>{if(p)return r(p);if(u)return X.symlink(e,t,c,r);ba(a,l=>{if(l)return r(l);X.symlink(e,t,c,r)})})})})}function Ga(e,t,n){let r;try{r=X.lstatSync(t)}catch{}if(r&&r.isSymbolicLink()){let c=X.statSync(e),a=X.statSync(t);if(ho(c,a))return}let i=Ra(e,t);e=i.toDst,n=_a(i.toCwd,n);let o=lo.dirname(t);return X.existsSync(o)||Na(o),X.symlinkSync(e,t,n)}So.exports={createSymlink:Oa(ja),createSymlinkSync:Ga}});var Io=f((bl,To)=>{"use strict";var{createFile:wo,createFileSync:xo}=Zi(),{createLink:Eo,createLinkSync:vo}=io(),{createSymlink:Po,createSymlinkSync:Fo}=go();To.exports={createFile:wo,createFileSync:xo,ensureFile:wo,ensureFileSync:xo,createLink:Eo,createLinkSync:vo,ensureLink:Eo,ensureLinkSync:vo,createSymlink:Po,createSymlinkSync:Fo,ensureSymlink:Po,ensureSymlinkSync:Fo}});var dt=f((Nl,ko)=>{function $a(e,{EOL:t=`
`,finalEOL:n=!0,replacer:r=null,spaces:i}={}){let o=n?t:"";return JSON.stringify(e,r,i).replace(/\n/g,t)+o}function Ma(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}ko.exports={stringify:$a,stripBom:Ma}});var bo=f((Dl,Oo)=>{var ve;try{ve=G()}catch{ve=require("fs")}var mt=M(),{stringify:qo,stripBom:Co}=dt();async function Ba(e,t={}){typeof t=="string"&&(t={encoding:t});let n=t.fs||ve,r="throws"in t?t.throws:!0,i=await mt.fromCallback(n.readFile)(e,t);i=Co(i);let o;try{o=JSON.parse(i,t?t.reviver:null)}catch(s){if(r)throw s.message=`${e}: ${s.message}`,s;return null}return o}var Ua=mt.fromPromise(Ba);function Wa(e,t={}){typeof t=="string"&&(t={encoding:t});let n=t.fs||ve,r="throws"in t?t.throws:!0;try{let i=n.readFileSync(e,t);return i=Co(i),JSON.parse(i,t.reviver)}catch(i){if(r)throw i.message=`${e}: ${i.message}`,i;return null}}async function Ja(e,t,n={}){let r=n.fs||ve,i=qo(t,n);await mt.fromCallback(r.writeFile)(e,i,n)}var Xa=mt.fromPromise(Ja);function Ha(e,t,n={}){let r=n.fs||ve,i=qo(t,n);return r.writeFileSync(e,i,n)}var Ka={readFile:Ua,readFileSync:Wa,writeFile:Xa,writeFileSync:Ha};Oo.exports=Ka});var Do=f((Rl,No)=>{"use strict";var pt=bo();No.exports={readJson:pt.readFile,readJsonSync:pt.readFileSync,writeJson:pt.writeFile,writeJsonSync:pt.writeFileSync}});var yt=f((Al,_o)=>{"use strict";var Ya=M().fromCallback,Ge=G(),Ro=require("path"),Ao=J(),Va=z().pathExists;function za(e,t,n,r){typeof n=="function"&&(r=n,n="utf8");let i=Ro.dirname(e);Va(i,(o,s)=>{if(o)return r(o);if(s)return Ge.writeFile(e,t,n,r);Ao.mkdirs(i,c=>{if(c)return r(c);Ge.writeFile(e,t,n,r)})})}function Qa(e,...t){let n=Ro.dirname(e);if(Ge.existsSync(n))return Ge.writeFileSync(e,...t);Ao.mkdirsSync(n),Ge.writeFileSync(e,...t)}_o.exports={outputFile:Ya(za),outputFileSync:Qa}});var jo=f((_l,Lo)=>{"use strict";var{stringify:Za}=dt(),{outputFile:ef}=yt();async function tf(e,t,n={}){let r=Za(t,n);await ef(e,r,n)}Lo.exports=tf});var $o=f((Ll,Go)=>{"use strict";var{stringify:nf}=dt(),{outputFileSync:rf}=yt();function of(e,t,n){let r=nf(t,n);rf(e,r,n)}Go.exports=of});var Bo=f((jl,Mo)=>{"use strict";var sf=M().fromPromise,$=Do();$.outputJson=sf(jo());$.outputJsonSync=$o();$.outputJSON=$.outputJson;$.outputJSONSync=$.outputJsonSync;$.writeJSON=$.writeJson;$.writeJSONSync=$.writeJsonSync;$.readJSON=$.readJson;$.readJSONSync=$.readJsonSync;Mo.exports=$});var Ho=f((Gl,Xo)=>{"use strict";var cf=G(),Yt=require("path"),uf=ut().copy,Jo=Le().remove,af=J().mkdirp,ff=z().pathExists,Uo=ce();function lf(e,t,n,r){typeof n=="function"&&(r=n,n={});let i=n.overwrite||n.clobber||!1;Uo.checkPaths(e,t,"move",n,(o,s)=>{if(o)return r(o);let{srcStat:c,isChangingCase:a=!1}=s;Uo.checkParentPaths(e,c,t,"move",p=>{if(p)return r(p);if(df(t))return Wo(e,t,i,a,r);af(Yt.dirname(t),u=>u?r(u):Wo(e,t,i,a,r))})})}function df(e){let t=Yt.dirname(e);return Yt.parse(t).root===t}function Wo(e,t,n,r,i){if(r)return Kt(e,t,n,i);if(n)return Jo(t,o=>o?i(o):Kt(e,t,n,i));ff(t,(o,s)=>o?i(o):s?i(new Error("dest already exists.")):Kt(e,t,n,i))}function Kt(e,t,n,r){cf.rename(e,t,i=>i?i.code!=="EXDEV"?r(i):mf(e,t,n,r):r())}function mf(e,t,n,r){uf(e,t,{overwrite:n,errorOnExist:!0},o=>o?r(o):Jo(e,r))}Xo.exports=lf});var Qo=f(($l,zo)=>{"use strict";var Yo=G(),zt=require("path"),pf=ut().copySync,Vo=Le().removeSync,yf=J().mkdirpSync,Ko=ce();function hf(e,t,n){n=n||{};let r=n.overwrite||n.clobber||!1,{srcStat:i,isChangingCase:o=!1}=Ko.checkPathsSync(e,t,"move",n);return Ko.checkParentPathsSync(e,i,t,"move"),Sf(t)||yf(zt.dirname(t)),gf(e,t,r,o)}function Sf(e){let t=zt.dirname(e);return zt.parse(t).root===t}function gf(e,t,n,r){if(r)return Vt(e,t,n);if(n)return Vo(t),Vt(e,t,n);if(Yo.existsSync(t))throw new Error("dest already exists.");return Vt(e,t,n)}function Vt(e,t,n){try{Yo.renameSync(e,t)}catch(r){if(r.code!=="EXDEV")throw r;return wf(e,t,n)}}function wf(e,t,n){return pf(e,t,{overwrite:n,errorOnExist:!0}),Vo(e)}zo.exports=hf});var es=f((Ml,Zo)=>{"use strict";var xf=M().fromCallback;Zo.exports={move:xf(Ho()),moveSync:Qo()}});var Qt=f((Bl,ts)=>{"use strict";ts.exports=x(x(x(x(x(x(x(x(x(x({},se()),ut()),Yi()),Io()),Bo()),J()),es()),yt()),z()),Le())});var Pf={};ys(Pf,{default:()=>cs});var w=require("@raycast/api"),Me=require("react");var Wr=Be(require("node:process"),1),Jr=Be(Ur(),1);async function Xr(e){if(Wr.default.platform!=="darwin")throw new Error("macOS only");let{stdout:t}=await(0,Jr.default)("osascript",["-e",e]);return t}var $e=require("@raycast/api"),Zt=Be(Qt()),Wl=$e.LocalStorage.Values;var Ef=`
if application "Finder" is not running then
    return "Not running"
end if

return POSIX path of (choose file)
`,ns=async()=>{let e="";try{return e=await Xr(Ef),e}catch{return e}};var rs=e=>{try{return Zt.default.lstatSync(e).isFile()}catch{return!1}},is=async()=>{let e=[];try{return(await(0,$e.getSelectedFinderItems)()).forEach(n=>{Zt.default.lstatSync(n.path).isFile()&&e.push(n.path)}),e}catch{return e}};var ue=Be(Qt());var en=require("react");var os=()=>new Date().getTime();var ae=require("path");function cs(e){let t=typeof e.setRefresh>"u"?()=>{}:e.setRefresh,[n,r]=(0,Me.useState)(""),[i,o]=(0,Me.useState)("");return(0,Me.useEffect)(()=>{async function s(){let c=await ss(!0);r(c),o((0,ae.parse)(c).name)}s().then()},[]),_jsx(w.Form,{navigationTitle:"Add File Template",actions:_jsx(w.ActionPanel,null,_jsx(w.Action,{title:"Add File Template",icon:w.Icon.TextDocument,onAction:async()=>{await vf(i,n),t(os())}}),_jsx(w.ActionPanel.Section,{title:"File Path Action"},_jsx(w.Action,{title:"Fetch File Path",icon:w.Icon.TwoArrowsClockwise,shortcut:{modifiers:["cmd"],key:"f"},onAction:async()=>{let s=await ss();r(s),o((0,ae.parse)(s).name)}}),_jsx(w.Action,{title:"Choose File Path",icon:w.Icon.Sidebar,shortcut:{modifiers:["shift","cmd"],key:"c"},onAction:()=>{ns().then(s=>{r(s),o((0,ae.parse)(s).name)})}})))},_jsx(w.Form.Description,{title:"Information",text:"Templates added will automatically be available in the New File Here command."}),_jsx(w.Form.TextArea,{id:"path",title:"Path",placeholder:"/xxx/xxx",value:n,onChange:r,info:"Insert the full path of the file used for the template. If you select a file before opening this command, its path is automatically added."}),_jsx(w.Form.TextField,{id:"name",title:"Name",placeholder:"File name without extension(Optional)",value:(0,ae.parse)(n).name,onChange:o}),_jsx(w.Form.Description,{title:"Extension",text:(0,ae.parse)(n).name}))}var ss=async(e=!1)=>{e||await(0,w.showToast)(w.Toast.Style.Animated,"Fetching selected file...");let t=await is();return t.length>0?(await(0,w.showToast)(w.Toast.Style.Success,"Fetch path success!"),t[0]):(e||await(0,w.showToast)(w.Toast.Style.Failure,"Fetch nothing.","Please select a file or input manually."),"")},vf=async(e,t)=>{if(ue.default.existsSync(t))if(rs(t)){let n=w.environment.supportPath+"/templates",r=n+"/"+e+(0,ae.parse)(t).ext;if(ue.default.existsSync(r)){await(0,w.showToast)(w.Toast.Style.Failure,`File already exists.
Please rename.`);return}ue.default.existsSync(n)?ue.default.copyFileSync(t,r):ue.default.mkdir(n,function(i){if(i)return(0,w.showToast)(w.Toast.Style.Failure,String(i)+"."),!1;ue.default.copyFileSync(t,r)}),await(0,w.showHUD)("Template added"),await(0,w.popToRoot)({clearSearchBar:!1})}else await(0,w.showToast)(w.Toast.Style.Failure,"Folder path not supported.");else await(0,w.showToast)(w.Toast.Style.Failure,"Path is invalid.")};module.exports=hs(Pf);0&&(module.exports={});
