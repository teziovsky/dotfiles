"use strict";var js=Object.create;var Jt=Object.defineProperty;var ks=Object.getOwnPropertyDescriptor;var Gs=Object.getOwnPropertyNames;var Bs=Object.getPrototypeOf,$s=Object.prototype.hasOwnProperty;var x=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Vs=(t,e)=>{for(var r in e)Jt(t,r,{get:e[r],enumerable:!0})},cr=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Gs(e))!$s.call(t,i)&&i!==r&&Jt(t,i,{get:()=>e[i],enumerable:!(n=ks(e,i))||n.enumerable});return t};var De=(t,e,r)=>(r=t!=null?js(Bs(t)):{},cr(e||!t||!t.__esModule?Jt(r,"default",{value:t,enumerable:!0}):r,t)),Ks=t=>cr(Jt({},"__esModule",{value:!0}),t);var dr=x((Du,hr)=>{hr.exports=pr;pr.sync=Ys;var lr=require("fs");function Ws(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}function fr(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:Ws(e,r)}function pr(t,e,r){lr.stat(t,function(n,i){r(n,n?!1:fr(i,t,e))})}function Ys(t,e){return fr(lr.statSync(t),t,e)}});var vr=x((Nu,wr)=>{wr.exports=yr;yr.sync=zs;var mr=require("fs");function yr(t,e,r){mr.stat(t,function(n,i){r(n,n?!1:gr(i,e))})}function zs(t,e){return gr(mr.statSync(t),e)}function gr(t,e){return t.isFile()&&Hs(t,e)}function Hs(t,e){var r=t.mode,n=t.uid,i=t.gid,s=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),o=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),u=parseInt("100",8),c=parseInt("010",8),h=parseInt("001",8),l=u|c,g=r&h||r&c&&i===o||r&u&&n===s||r&l&&s===0;return g}});var br=x((xu,Er)=>{var Tu=require("fs"),te;process.platform==="win32"||global.TESTING_WINDOWS?te=dr():te=vr();Er.exports=Ne;Ne.sync=Zs;function Ne(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Ne(t,e||{},function(s,o){s?i(s):n(o)})})}te(t,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function Zs(t,e){try{return te.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var _r=x((Su,Ir)=>{var st=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Dr=require("path"),Qs=st?";":":",Nr=br(),Tr=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),xr=(t,e)=>{let r=e.colon||Qs,n=t.match(/\//)||st&&t.match(/\\/)?[""]:[...st?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],i=st?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=st?i.split(r):[""];return st&&t.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:i}},Sr=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:s}=xr(t,e),o=[],u=h=>new Promise((l,g)=>{if(h===n.length)return e.all&&o.length?l(o):g(Tr(t));let v=n[h],N=/^".*"$/.test(v)?v.slice(1,-1):v,D=Dr.join(N,t),p=!N&&/^\.[\\\/]/.test(t)?t.slice(0,2)+D:D;l(c(p,h,0))}),c=(h,l,g)=>new Promise((v,N)=>{if(g===i.length)return v(u(l+1));let D=i[g];Nr(h+D,{pathExt:s},(p,m)=>{if(!p&&m)if(e.all)o.push(h+D);else return v(h+D);return v(c(h,l,g+1))})});return r?u(0).then(h=>r(null,h),r):u(0)},Js=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=xr(t,e),s=[];for(let o=0;o<r.length;o++){let u=r[o],c=/^".*"$/.test(u)?u.slice(1,-1):u,h=Dr.join(c,t),l=!c&&/^\.[\\\/]/.test(t)?t.slice(0,2)+h:h;for(let g=0;g<n.length;g++){let v=l+n[g];try{if(Nr.sync(v,{pathExt:i}))if(e.all)s.push(v);else return v}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw Tr(t)};Ir.exports=Sr;Sr.sync=Js});var xe=x((Iu,Te)=>{"use strict";var Ar=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Te.exports=Ar;Te.exports.default=Ar});var Mr=x((_u,Cr)=>{"use strict";var Lr=require("path"),to=_r(),eo=xe();function Or(t,e){let r=t.options.env||process.env,n=process.cwd(),i=t.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(t.options.cwd)}catch{}let o;try{o=to.sync(t.command,{path:r[eo({env:r})],pathExt:e?Lr.delimiter:void 0})}catch{}finally{s&&process.chdir(n)}return o&&(o=Lr.resolve(i?t.options.cwd:"",o)),o}function ro(t){return Or(t)||Or(t,!0)}Cr.exports=ro});var Pr=x((Au,Ie)=>{"use strict";var Se=/([()\][%!^"`<>&|;, *?])/g;function no(t){return t=t.replace(Se,"^$1"),t}function io(t,e){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(Se,"^$1"),e&&(t=t.replace(Se,"^$1")),t}Ie.exports.command=no;Ie.exports.argument=io});var qr=x((Lu,Rr)=>{"use strict";Rr.exports=/^#!(.*)/});var Fr=x((Ou,Xr)=>{"use strict";var so=qr();Xr.exports=(t="")=>{let e=t.match(so);if(!e)return null;let[r,n]=e[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var jr=x((Cu,Ur)=>{"use strict";var _e=require("fs"),oo=Fr();function ao(t){let r=Buffer.alloc(150),n;try{n=_e.openSync(t,"r"),_e.readSync(n,r,0,150,0),_e.closeSync(n)}catch{}return oo(r.toString())}Ur.exports=ao});var $r=x((Mu,Br)=>{"use strict";var uo=require("path"),kr=Mr(),Gr=Pr(),co=jr(),lo=process.platform==="win32",fo=/\.(?:com|exe)$/i,po=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function ho(t){t.file=kr(t);let e=t.file&&co(t.file);return e?(t.args.unshift(t.file),t.command=e,kr(t)):t.file}function mo(t){if(!lo)return t;let e=ho(t),r=!fo.test(e);if(t.options.forceShell||r){let n=po.test(e);t.command=uo.normalize(t.command),t.command=Gr.command(t.command),t.args=t.args.map(s=>Gr.argument(s,n));let i=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${i}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function yo(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let n={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?n:mo(n)}Br.exports=yo});var Wr=x((Pu,Kr)=>{"use strict";var Ae=process.platform==="win32";function Le(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function go(t,e){if(!Ae)return;let r=t.emit;t.emit=function(n,i){if(n==="exit"){let s=Vr(i,e,"spawn");if(s)return r.call(t,"error",s)}return r.apply(t,arguments)}}function Vr(t,e){return Ae&&t===1&&!e.file?Le(e.original,"spawn"):null}function wo(t,e){return Ae&&t===1&&!e.file?Le(e.original,"spawnSync"):null}Kr.exports={hookChildProcess:go,verifyENOENT:Vr,verifyENOENTSync:wo,notFoundError:Le}});var Hr=x((Ru,ot)=>{"use strict";var Yr=require("child_process"),Oe=$r(),Ce=Wr();function zr(t,e,r){let n=Oe(t,e,r),i=Yr.spawn(n.command,n.args,n.options);return Ce.hookChildProcess(i,n),i}function vo(t,e,r){let n=Oe(t,e,r),i=Yr.spawnSync(n.command,n.args,n.options);return i.error=i.error||Ce.verifyENOENTSync(i.status,n),i}ot.exports=zr;ot.exports.spawn=zr;ot.exports.sync=vo;ot.exports._parse=Oe;ot.exports._enoent=Ce});var Qr=x((qu,Zr)=>{"use strict";Zr.exports=t=>{let e=typeof t=="string"?`
`:`
`.charCodeAt(),r=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t}});var en=x((Xu,St)=>{"use strict";var xt=require("path"),Jr=xe(),tn=t=>{t={cwd:process.cwd(),path:process.env[Jr()],execPath:process.execPath,...t};let e,r=xt.resolve(t.cwd),n=[];for(;e!==r;)n.push(xt.join(r,"node_modules/.bin")),e=r,r=xt.resolve(r,"..");let i=xt.resolve(t.cwd,t.execPath,"..");return n.push(i),n.concat(t.path).join(xt.delimiter)};St.exports=tn;St.exports.default=tn;St.exports.env=t=>{t={env:process.env,...t};let e={...t.env},r=Jr({env:e});return t.path=e[r],e[r]=St.exports(t),e}});var nn=x((Fu,Me)=>{"use strict";var rn=(t,e)=>{for(let r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};Me.exports=rn;Me.exports.default=rn});var on=x((Uu,re)=>{"use strict";var Eo=nn(),ee=new WeakMap,sn=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,n=0,i=t.displayName||t.name||"<anonymous>",s=function(...o){if(ee.set(s,++n),n===1)r=t.apply(this,o),t=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return Eo(s,t),ee.set(s,n),s};re.exports=sn;re.exports.default=sn;re.exports.callCount=t=>{if(!ee.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return ee.get(t)}});var an=x(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.SIGNALS=void 0;var bo=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];ne.SIGNALS=bo});var Pe=x(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.SIGRTMAX=at.getRealtimeSignals=void 0;var Do=function(){let t=cn-un+1;return Array.from({length:t},No)};at.getRealtimeSignals=Do;var No=function(t,e){return{name:`SIGRT${e+1}`,number:un+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},un=34,cn=64;at.SIGRTMAX=cn});var ln=x(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.getSignals=void 0;var To=require("os"),xo=an(),So=Pe(),Io=function(){let t=(0,So.getRealtimeSignals)();return[...xo.SIGNALS,...t].map(_o)};ie.getSignals=Io;var _o=function({name:t,number:e,description:r,action:n,forced:i=!1,standard:s}){let{signals:{[t]:o}}=To.constants,u=o!==void 0;return{name:t,number:u?o:e,description:r,supported:u,action:n,forced:i,standard:s}}});var pn=x(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.signalsByNumber=ut.signalsByName=void 0;var Ao=require("os"),fn=ln(),Lo=Pe(),Oo=function(){return(0,fn.getSignals)().reduce(Co,{})},Co=function(t,{name:e,number:r,description:n,supported:i,action:s,forced:o,standard:u}){return{...t,[e]:{name:e,number:r,description:n,supported:i,action:s,forced:o,standard:u}}},Mo=Oo();ut.signalsByName=Mo;var Po=function(){let t=(0,fn.getSignals)(),e=Lo.SIGRTMAX+1,r=Array.from({length:e},(n,i)=>Ro(i,t));return Object.assign({},...r)},Ro=function(t,e){let r=qo(t,e);if(r===void 0)return{};let{name:n,description:i,supported:s,action:o,forced:u,standard:c}=r;return{[t]:{name:n,number:t,description:i,supported:s,action:o,forced:u,standard:c}}},qo=function(t,e){let r=e.find(({name:n})=>Ao.constants.signals[n]===t);return r!==void 0?r:e.find(n=>n.number===t)},Xo=Po();ut.signalsByNumber=Xo});var dn=x(($u,hn)=>{"use strict";var{signalsByName:Fo}=pn(),Uo=({timedOut:t,timeout:e,errorCode:r,signal:n,signalDescription:i,exitCode:s,isCanceled:o})=>t?`timed out after ${e} milliseconds`:o?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${i})`:s!==void 0?`failed with exit code ${s}`:"failed",jo=({stdout:t,stderr:e,all:r,error:n,signal:i,exitCode:s,command:o,escapedCommand:u,timedOut:c,isCanceled:h,killed:l,parsed:{options:{timeout:g}}})=>{s=s===null?void 0:s,i=i===null?void 0:i;let v=i===void 0?void 0:Fo[i].description,N=n&&n.code,p=`Command ${Uo({timedOut:c,timeout:g,errorCode:N,signal:i,signalDescription:v,exitCode:s,isCanceled:h})}: ${o}`,m=Object.prototype.toString.call(n)==="[object Error]",E=m?`${p}
${n.message}`:p,a=[E,e,t].filter(Boolean).join(`
`);return m?(n.originalMessage=n.message,n.message=a):n=new Error(a),n.shortMessage=E,n.command=o,n.escapedCommand=u,n.exitCode=s,n.signal=i,n.signalDescription=v,n.stdout=t,n.stderr=e,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!c,n.isCanceled=h,n.killed=l&&!c,n};hn.exports=jo});var yn=x((Vu,Re)=>{"use strict";var se=["stdin","stdout","stderr"],ko=t=>se.some(e=>t[e]!==void 0),mn=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return se.map(n=>t[n]);if(ko(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${se.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,se.length);return Array.from({length:r},(n,i)=>e[i])};Re.exports=mn;Re.exports.node=t=>{let e=mn(t);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var gn=x((Ku,oe)=>{oe.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&oe.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&oe.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Dn=x((Wu,ft)=>{var L=global.process,tt=function(t){return t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function"};tt(L)?(wn=require("assert"),ct=gn(),vn=/^win/i.test(L.platform),It=require("events"),typeof It!="function"&&(It=It.EventEmitter),L.__signal_exit_emitter__?C=L.__signal_exit_emitter__:(C=L.__signal_exit_emitter__=new It,C.count=0,C.emitted={}),C.infinite||(C.setMaxListeners(1/0),C.infinite=!0),ft.exports=function(t,e){if(!tt(global.process))return function(){};wn.equal(typeof t,"function","a callback must be provided for exit handler"),lt===!1&&qe();var r="exit";e&&e.alwaysLast&&(r="afterexit");var n=function(){C.removeListener(r,t),C.listeners("exit").length===0&&C.listeners("afterexit").length===0&&ae()};return C.on(r,t),n},ae=function(){!lt||!tt(global.process)||(lt=!1,ct.forEach(function(e){try{L.removeListener(e,ue[e])}catch{}}),L.emit=ce,L.reallyExit=Xe,C.count-=1)},ft.exports.unload=ae,et=function(e,r,n){C.emitted[e]||(C.emitted[e]=!0,C.emit(e,r,n))},ue={},ct.forEach(function(t){ue[t]=function(){if(tt(global.process)){var r=L.listeners(t);r.length===C.count&&(ae(),et("exit",null,t),et("afterexit",null,t),vn&&t==="SIGHUP"&&(t="SIGINT"),L.kill(L.pid,t))}}}),ft.exports.signals=function(){return ct},lt=!1,qe=function(){lt||!tt(global.process)||(lt=!0,C.count+=1,ct=ct.filter(function(e){try{return L.on(e,ue[e]),!0}catch{return!1}}),L.emit=bn,L.reallyExit=En)},ft.exports.load=qe,Xe=L.reallyExit,En=function(e){tt(global.process)&&(L.exitCode=e||0,et("exit",L.exitCode,null),et("afterexit",L.exitCode,null),Xe.call(L,L.exitCode))},ce=L.emit,bn=function(e,r){if(e==="exit"&&tt(global.process)){r!==void 0&&(L.exitCode=r);var n=ce.apply(this,arguments);return et("exit",L.exitCode,null),et("afterexit",L.exitCode,null),n}else return ce.apply(this,arguments)}):ft.exports=function(){return function(){}};var wn,ct,vn,It,C,ae,et,ue,lt,qe,Xe,En,ce,bn});var Tn=x((Yu,Nn)=>{"use strict";var Go=require("os"),Bo=Dn(),$o=1e3*5,Vo=(t,e="SIGTERM",r={})=>{let n=t(e);return Ko(t,e,r,n),n},Ko=(t,e,r,n)=>{if(!Wo(e,r,n))return;let i=zo(r),s=setTimeout(()=>{t("SIGKILL")},i);s.unref&&s.unref()},Wo=(t,{forceKillAfterTimeout:e},r)=>Yo(t)&&e!==!1&&r,Yo=t=>t===Go.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",zo=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return $o;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},Ho=(t,e)=>{t.kill()&&(e.isCanceled=!0)},Zo=(t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},Qo=(t,{timeout:e,killSignal:r="SIGTERM"},n)=>{if(e===0||e===void 0)return n;let i,s=new Promise((u,c)=>{i=setTimeout(()=>{Zo(t,r,c)},e)}),o=n.finally(()=>{clearTimeout(i)});return Promise.race([s,o])},Jo=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},ta=async(t,{cleanup:e,detached:r},n)=>{if(!e||r)return n;let i=Bo(()=>{t.kill()});return n.finally(()=>{i()})};Nn.exports={spawnedKill:Vo,spawnedCancel:Ho,setupTimeout:Qo,validateTimeout:Jo,setExitHandler:ta}});var Sn=x((zu,xn)=>{"use strict";var B=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";B.writable=t=>B(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";B.readable=t=>B(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";B.duplex=t=>B.writable(t)&&B.readable(t);B.transform=t=>B.duplex(t)&&typeof t._transform=="function";xn.exports=B});var _n=x((Hu,In)=>{"use strict";var{PassThrough:ea}=require("stream");In.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,n=r==="buffer",i=!1;e?i=!(r||n):r=r||"utf8",n&&(r=null);let s=new ea({objectMode:i});r&&s.setEncoding(r);let o=0,u=[];return s.on("data",c=>{u.push(c),i?o=u.length:o+=c.length}),s.getBufferedValue=()=>e?u:n?Buffer.concat(u,o):u.join(""),s.getBufferedLength=()=>o,s}});var An=x((Zu,_t)=>{"use strict";var{constants:ra}=require("buffer"),na=require("stream"),{promisify:ia}=require("util"),sa=_n(),oa=ia(na.pipeline),le=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Fe(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,n=sa(e);return await new Promise((i,s)=>{let o=u=>{u&&n.getBufferedLength()<=ra.MAX_LENGTH&&(u.bufferedData=n.getBufferedValue()),s(u)};(async()=>{try{await oa(t,n),i()}catch(u){o(u)}})(),n.on("data",()=>{n.getBufferedLength()>r&&o(new le)})}),n.getBufferedValue()}_t.exports=Fe;_t.exports.buffer=(t,e)=>Fe(t,{...e,encoding:"buffer"});_t.exports.array=(t,e)=>Fe(t,{...e,array:!0});_t.exports.MaxBufferError=le});var On=x((Qu,Ln)=>{"use strict";var{PassThrough:aa}=require("stream");Ln.exports=function(){var t=[],e=new aa({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(r),e;function r(s){return Array.isArray(s)?(s.forEach(r),this):(t.push(s),s.once("end",i.bind(null,s)),s.once("error",e.emit.bind(e,"error")),s.pipe(e,{end:!1}),this)}function n(){return t.length==0}function i(s){t=t.filter(function(o){return o!==s}),!t.length&&e.readable&&e.end()}}});var Rn=x((Ju,Pn)=>{"use strict";var Mn=Sn(),Cn=An(),ua=On(),ca=(t,e)=>{e===void 0||t.stdin===void 0||(Mn(e)?e.pipe(t.stdin):t.stdin.end(e))},la=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let r=ua();return t.stdout&&r.add(t.stdout),t.stderr&&r.add(t.stderr),r},Ue=async(t,e)=>{if(t){t.destroy();try{return await e}catch(r){return r.bufferedData}}},je=(t,{encoding:e,buffer:r,maxBuffer:n})=>{if(!(!t||!r))return e?Cn(t,{encoding:e,maxBuffer:n}):Cn.buffer(t,{maxBuffer:n})},fa=async({stdout:t,stderr:e,all:r},{encoding:n,buffer:i,maxBuffer:s},o)=>{let u=je(t,{encoding:n,buffer:i,maxBuffer:s}),c=je(e,{encoding:n,buffer:i,maxBuffer:s}),h=je(r,{encoding:n,buffer:i,maxBuffer:s*2});try{return await Promise.all([o,u,c,h])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},Ue(t,u),Ue(e,c),Ue(r,h)])}},pa=({input:t})=>{if(Mn(t))throw new TypeError("The `input` option cannot be a stream in sync mode")};Pn.exports={handleInput:ca,makeAllStream:la,getSpawnedResult:fa,validateInputSync:pa}});var Xn=x((tc,qn)=>{"use strict";var ha=(async()=>{})().constructor.prototype,da=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(ha,t)]),ma=(t,e)=>{for(let[r,n]of da){let i=typeof e=="function"?(...s)=>Reflect.apply(n.value,e(),s):n.value.bind(e);Reflect.defineProperty(t,r,{...n,value:i})}return t},ya=t=>new Promise((e,r)=>{t.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),t.on("error",n=>{r(n)}),t.stdin&&t.stdin.on("error",n=>{r(n)})});qn.exports={mergePromise:ma,getSpawnedPromise:ya}});var jn=x((ec,Un)=>{"use strict";var Fn=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],ga=/^[\w.-]+$/,wa=/"/g,va=t=>typeof t!="string"||ga.test(t)?t:`"${t.replace(wa,'\\"')}"`,Ea=(t,e)=>Fn(t,e).join(" "),ba=(t,e)=>Fn(t,e).map(r=>va(r)).join(" "),Da=/ +/g,Na=t=>{let e=[];for(let r of t.trim().split(Da)){let n=e[e.length-1];n&&n.endsWith("\\")?e[e.length-1]=`${n.slice(0,-1)} ${r}`:e.push(r)}return e};Un.exports={joinCommand:Ea,getEscapedCommand:ba,parseCommand:Na}});var Wn=x((rc,pt)=>{"use strict";var Ta=require("path"),ke=require("child_process"),xa=Hr(),Sa=Qr(),Ia=en(),_a=on(),fe=dn(),Gn=yn(),{spawnedKill:Aa,spawnedCancel:La,setupTimeout:Oa,validateTimeout:Ca,setExitHandler:Ma}=Tn(),{handleInput:Pa,getSpawnedResult:Ra,makeAllStream:qa,validateInputSync:Xa}=Rn(),{mergePromise:kn,getSpawnedPromise:Fa}=Xn(),{joinCommand:Bn,parseCommand:$n,getEscapedCommand:Vn}=jn(),Ua=1e3*1e3*100,ja=({env:t,extendEnv:e,preferLocal:r,localDir:n,execPath:i})=>{let s=e?{...process.env,...t}:t;return r?Ia.env({env:s,cwd:n,execPath:i}):s},Kn=(t,e,r={})=>{let n=xa._parse(t,e,r);return t=n.command,e=n.args,r=n.options,r={maxBuffer:Ua,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=ja(r),r.stdio=Gn(r),process.platform==="win32"&&Ta.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:r,parsed:n}},At=(t,e,r)=>typeof e!="string"&&!Buffer.isBuffer(e)?r===void 0?void 0:"":t.stripFinalNewline?Sa(e):e,pe=(t,e,r)=>{let n=Kn(t,e,r),i=Bn(t,e),s=Vn(t,e);Ca(n.options);let o;try{o=ke.spawn(n.file,n.args,n.options)}catch(N){let D=new ke.ChildProcess,p=Promise.reject(fe({error:N,stdout:"",stderr:"",all:"",command:i,escapedCommand:s,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return kn(D,p)}let u=Fa(o),c=Oa(o,n.options,u),h=Ma(o,n.options,c),l={isCanceled:!1};o.kill=Aa.bind(null,o.kill.bind(o)),o.cancel=La.bind(null,o,l);let v=_a(async()=>{let[{error:N,exitCode:D,signal:p,timedOut:m},E,a,f]=await Ra(o,n.options,h),y=At(n.options,E),b=At(n.options,a),d=At(n.options,f);if(N||D!==0||p!==null){let w=fe({error:N,exitCode:D,signal:p,stdout:y,stderr:b,all:d,command:i,escapedCommand:s,parsed:n,timedOut:m,isCanceled:l.isCanceled,killed:o.killed});if(!n.options.reject)return w;throw w}return{command:i,escapedCommand:s,exitCode:0,stdout:y,stderr:b,all:d,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Pa(o,n.options.input),o.all=qa(o,n.options),kn(o,v)};pt.exports=pe;pt.exports.sync=(t,e,r)=>{let n=Kn(t,e,r),i=Bn(t,e),s=Vn(t,e);Xa(n.options);let o;try{o=ke.spawnSync(n.file,n.args,n.options)}catch(h){throw fe({error:h,stdout:"",stderr:"",all:"",command:i,escapedCommand:s,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let u=At(n.options,o.stdout,o.error),c=At(n.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let h=fe({stdout:u,stderr:c,error:o.error,signal:o.signal,exitCode:o.status,command:i,escapedCommand:s,parsed:n,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!n.options.reject)return h;throw h}return{command:i,escapedCommand:s,exitCode:0,stdout:u,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};pt.exports.command=(t,e)=>{let[r,...n]=$n(t);return pe(r,n,e)};pt.exports.commandSync=(t,e)=>{let[r,...n]=$n(t);return pe.sync(r,n,e)};pt.exports.node=(t,e,r={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(r=e,e=[]);let n=Gn.node(r),i=process.execArgv.filter(u=>!u.startsWith("--inspect")),{nodePath:s=process.execPath,nodeOptions:o=i}=r;return pe(s,[...o,t,...Array.isArray(e)?e:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var Zn=x(Hn=>{Hn.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}});var si=x($e=>{var Be=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Qn=new RegExp("[\\-\\.0-9"+Be.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Jn=new RegExp("^"+Be.source+Qn.source+"*(?::"+Be.source+Qn.source+"*)?$"),Lt=0,Y=1,ht=2,Ot=3,dt=4,mt=5,Ct=6,he=7;function yt(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,yt)}yt.prototype=new Error;yt.prototype.name=yt.name;function ri(){}ri.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),ni(e,e={}),ka(t,e,r,n,this.errorHandler),n.endDocument()}};function ka(t,e,r,n,i){function s(A){if(A>65535){A-=65536;var q=55296+(A>>10),Us=56320+(A&1023);return String.fromCharCode(q,Us)}else return String.fromCharCode(A)}function o(A){var q=A.slice(1,-1);return q in r?r[q]:q.charAt(0)==="#"?s(parseInt(q.substr(1).replace("x","0x"))):(i.error("entity not found:"+A),A)}function u(A){if(A>p){var q=t.substring(p,A).replace(/&#?\w+;/g,o);v&&c(p),n.characters(q,0,A-p),p=A}}function c(A,q){for(;A>=l&&(q=g.exec(t));)h=q.index,l=h+q[0].length,v.lineNumber++;v.columnNumber=A-h+1}for(var h=0,l=0,g=/.*(?:\r\n?|\n)|.*$/g,v=n.locator,N=[{currentNSMap:e}],D={},p=0;;){try{var m=t.indexOf("<",p);if(m<0){if(!t.substr(p).match(/^\s*$/)){var E=n.doc,a=E.createTextNode(t.substr(p));E.appendChild(a),n.currentElement=a}return}switch(m>p&&u(m),t.charAt(m+1)){case"/":var I=t.indexOf(">",m+3),f=t.substring(m+2,I),y=N.pop();I<0?(f=t.substring(m+2).replace(/[\s<].*/,""),i.error("end tag name: "+f+" is not complete:"+y.tagName),I=m+1+f.length):f.match(/\s</)&&(f=f.replace(/[\s<].*/,""),i.error("end tag name: "+f+" maybe not complete"),I=m+1+f.length);var b=y.localNSMap,d=y.tagName==f,w=d||y.tagName&&y.tagName.toLowerCase()==f.toLowerCase();if(w){if(n.endElement(y.uri,y.localName,f),b)for(var T in b)n.endPrefixMapping(T);d||i.fatalError("end tag name: "+f+" is not match the current start tagName:"+y.tagName)}else N.push(y);I++;break;case"?":v&&c(m),I=Ka(t,m,n);break;case"!":v&&c(m),I=Va(t,m,n,i);break;default:v&&c(m);var S=new ii,_=N[N.length-1].currentNSMap,I=Ga(t,m,S,_,o,i),j=S.length;if(!S.closed&&$a(t,I,S.tagName,D)&&(S.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),v&&j){for(var Tt=ti(v,{}),Q=0;Q<j;Q++){var J=S[Q];c(J.offset),J.locator=ti(v,{})}n.locator=Tt,ei(S,n,_)&&N.push(S),n.locator=v}else ei(S,n,_)&&N.push(S);S.uri==="http://www.w3.org/1999/xhtml"&&!S.closed?I=Ba(t,I,S.tagName,o,n):I++}}catch(A){if(A instanceof yt)throw A;i.error("element parse error: "+A),I=-1}I>p?p=I:u(Math.max(m,p)+1)}}function ti(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function Ga(t,e,r,n,i,s){function o(N,D,p){N in r.attributeNames&&s.fatalError("Attribute "+N+" redefined"),r.addValue(N,D,p)}for(var u,c,h=++e,l=Lt;;){var g=t.charAt(h);switch(g){case"=":if(l===Y)u=t.slice(e,h),l=Ot;else if(l===ht)l=Ot;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(l===Ot||l===Y)if(l===Y&&(s.warning('attribute value must after "="'),u=t.slice(e,h)),e=h+1,h=t.indexOf(g,e),h>0)c=t.slice(e,h).replace(/&#?\w+;/g,i),o(u,c,e-1),l=mt;else throw new Error("attribute value no end '"+g+"' match");else if(l==dt)c=t.slice(e,h).replace(/&#?\w+;/g,i),o(u,c,e),s.warning('attribute "'+u+'" missed start quot('+g+")!!"),e=h+1,l=mt;else throw new Error('attribute value must after "="');break;case"/":switch(l){case Lt:r.setTagName(t.slice(e,h));case mt:case Ct:case he:l=he,r.closed=!0;case dt:case Y:case ht:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),l==Lt&&r.setTagName(t.slice(e,h)),h;case">":switch(l){case Lt:r.setTagName(t.slice(e,h));case mt:case Ct:case he:break;case dt:case Y:c=t.slice(e,h),c.slice(-1)==="/"&&(r.closed=!0,c=c.slice(0,-1));case ht:l===ht&&(c=u),l==dt?(s.warning('attribute "'+c+'" missed quot(")!'),o(u,c.replace(/&#?\w+;/g,i),e)):((n[""]!=="http://www.w3.org/1999/xhtml"||!c.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),o(c,c,e));break;case Ot:throw new Error("attribute value missed!!")}return h;case"\x80":g=" ";default:if(g<=" ")switch(l){case Lt:r.setTagName(t.slice(e,h)),l=Ct;break;case Y:u=t.slice(e,h),l=ht;break;case dt:var c=t.slice(e,h).replace(/&#?\w+;/g,i);s.warning('attribute "'+c+'" missed quot(")!!'),o(u,c,e);case mt:l=Ct;break}else switch(l){case ht:var v=r.tagName;(n[""]!=="http://www.w3.org/1999/xhtml"||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead2!!'),o(u,u,e),e=h,l=Y;break;case mt:s.warning('attribute space is required"'+u+'"!!');case Ct:l=Y,e=h;break;case Ot:l=dt,e=h;break;case he:throw new Error("elements closed character '/' and '>' must be connected to")}}h++}}function ei(t,e,r){for(var n=t.tagName,i=null,g=t.length;g--;){var s=t[g],o=s.qName,u=s.value,v=o.indexOf(":");if(v>0)var c=s.prefix=o.slice(0,v),h=o.slice(v+1),l=c==="xmlns"&&h;else h=o,c=null,l=o==="xmlns"&&"";s.localName=h,l!==!1&&(i==null&&(i={},ni(r,r={})),r[l]=i[l]=u,s.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(l,u))}for(var g=t.length;g--;){s=t[g];var c=s.prefix;c&&(c==="xml"&&(s.uri="http://www.w3.org/XML/1998/namespace"),c!=="xmlns"&&(s.uri=r[c||""]))}var v=n.indexOf(":");v>0?(c=t.prefix=n.slice(0,v),h=t.localName=n.slice(v+1)):(c=null,h=t.localName=n);var N=t.uri=r[c||""];if(e.startElement(N,h,n,t),t.closed){if(e.endElement(N,h,n),i)for(c in i)e.endPrefixMapping(c)}else return t.currentNSMap=r,t.localNSMap=i,!0}function Ba(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var s=t.indexOf("</"+r+">",e),o=t.substring(e+1,s);if(/[&<]/.test(o))return/^script$/i.test(r)?(i.characters(o,0,o.length),s):(o=o.replace(/&#?\w+;/g,n),i.characters(o,0,o.length),s)}return e+1}function $a(t,e,r,n){var i=n[r];return i==null&&(i=t.lastIndexOf("</"+r+">"),i<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function ni(t,e){for(var r in t)e[r]=t[r]}function Va(t,e,r,n){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(r.comment(t,e+4,s-e-4),s+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,s-e-9),r.endCDATA(),s+3}var o=Wa(t,e),u=o.length;if(u>1&&/!doctype/i.test(o[0][0])){var c=o[1][0],h=!1,l=!1;u>3&&(/^public$/i.test(o[2][0])?(h=o[3][0],l=u>4&&o[4][0]):/^system$/i.test(o[2][0])&&(l=o[3][0]));var g=o[u-1];return r.startDTD(c,h,l),r.endDTD(),g.index+g[0].length}}return-1}function Ka(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){var s=i[0].length;return r.processingInstruction(i[1],i[2]),n+2}else return-1}return-1}function ii(){this.attributeNames={}}ii.prototype={setTagName:function(t){if(!Jn.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!Jn.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function Wa(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}$e.XMLReader=ri;$e.ParseError=yt});var tr=x(Xt=>{function Pt(t,e){for(var r in t)e[r]=t[r]}function X(t,e){var r=t.prototype;if(!(r instanceof e)){let i=function(){};var n=i;i.prototype=e.prototype,i=new i,Pt(r,i),t.prototype=r=i}r.constructor!=t&&(typeof t!="function"&&console.error("unknow Class:"+t),r.constructor=t)}var Ya="http://www.w3.org/1999/xhtml",F={},G=F.ELEMENT_NODE=1,wt=F.ATTRIBUTE_NODE=2,de=F.TEXT_NODE=3,fi=F.CDATA_SECTION_NODE=4,pi=F.ENTITY_REFERENCE_NODE=5,za=F.ENTITY_NODE=6,hi=F.PROCESSING_INSTRUCTION_NODE=7,di=F.COMMENT_NODE=8,mi=F.DOCUMENT_NODE=9,yi=F.DOCUMENT_TYPE_NODE=10,V=F.DOCUMENT_FRAGMENT_NODE=11,Ha=F.NOTATION_NODE=12,P={},M={},oc=P.INDEX_SIZE_ERR=(M[1]="Index size error",1),ac=P.DOMSTRING_SIZE_ERR=(M[2]="DOMString size error",2),Za=P.HIERARCHY_REQUEST_ERR=(M[3]="Hierarchy request error",3),uc=P.WRONG_DOCUMENT_ERR=(M[4]="Wrong document",4),cc=P.INVALID_CHARACTER_ERR=(M[5]="Invalid character",5),lc=P.NO_DATA_ALLOWED_ERR=(M[6]="No data allowed",6),fc=P.NO_MODIFICATION_ALLOWED_ERR=(M[7]="No modification allowed",7),Qa=P.NOT_FOUND_ERR=(M[8]="Not found",8),pc=P.NOT_SUPPORTED_ERR=(M[9]="Not supported",9),oi=P.INUSE_ATTRIBUTE_ERR=(M[10]="Attribute in use",10),hc=P.INVALID_STATE_ERR=(M[11]="Invalid state",11),dc=P.SYNTAX_ERR=(M[12]="Syntax error",12),mc=P.INVALID_MODIFICATION_ERR=(M[13]="Invalid modification",13),yc=P.NAMESPACE_ERR=(M[14]="Invalid namespace",14),gc=P.INVALID_ACCESS_ERR=(M[15]="Invalid access",15);function rt(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,M[t]),this.message=M[t],Error.captureStackTrace&&Error.captureStackTrace(this,rt);return r.code=t,e&&(this.message=this.message+": "+e),r}rt.prototype=Error.prototype;Pt(P,rt);function z(){}z.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)gt(this[n],r,t,e);return r.join("")}};function vt(t,e){this._node=t,this._refresh=e,Ke(this)}function Ke(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var r=t._refresh(t._node);Ii(t,"length",r.length),Pt(r,t),t._inc=e}}vt.prototype.item=function(t){return Ke(this),this[t]};X(vt,z);function me(){}function gi(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function ai(t,e,r,n){if(n?e[gi(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var i=t.ownerDocument;i&&(n&&vi(i,t,n),Ja(i,t,r))}}function ui(t,e,r){var n=gi(e,r);if(n>=0){for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var s=t.ownerDocument;s&&(vi(s,t,r),r.ownerElement=null)}}else throw rt(Qa,new Error(t.tagName+"@"+r))}me.prototype={length:0,item:z.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new rt(oi);var r=this.getNamedItem(t.nodeName);return ai(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new rt(oi);return r=this.getNamedItemNS(t.namespaceURI,t.localName),ai(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return ui(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return ui(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function wi(t){if(this._features={},t)for(var e in t)this._features=t[e]}wi.prototype={hasFeature:function(t,e){var r=this._features[t.toLowerCase()];return!!(r&&(!e||e in r))},createDocument:function(t,e,r){var n=new Rt;if(n.implementation=this,n.childNodes=new z,n.doctype=r,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new Ze;return n.name=t,n.nodeName=t,n.publicId=e,n.systemId=r,n}};function R(){}R.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return bi(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return Ei(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return Ve(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==de&&t.nodeType==de?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var n in r)if(r[n]==t)return n}e=e.nodeType==wt?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&t in r)return r[t];e=e.nodeType==wt?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function ci(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Pt(F,R);Pt(F,R.prototype);function Mt(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Mt(t,e))return!0;while(t=t.nextSibling)}function Rt(){}function Ja(t,e,r){t&&t._inc++;var n=r.namespaceURI;n=="http://www.w3.org/2000/xmlns/"&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function vi(t,e,r,n){t&&t._inc++;var i=r.namespaceURI;i=="http://www.w3.org/2000/xmlns/"&&delete e._nsMap[r.prefix?r.localName:""]}function We(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,s=0;i;)n[s++]=i,i=i.nextSibling;n.length=s}}}function Ei(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,We(t.ownerDocument,t),e}function bi(t,e,r){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===V){var i=e.firstChild;if(i==null)return e;var s=e.lastChild}else i=s=e;var o=r?r.previousSibling:t.lastChild;i.previousSibling=o,s.nextSibling=r,o?o.nextSibling=i:t.firstChild=i,r==null?t.lastChild=s:r.previousSibling=s;do i.parentNode=t;while(i!==s&&(i=i.nextSibling));return We(t.ownerDocument||t,t),e.nodeType==V&&(e.firstChild=e.lastChild=null),e}function tu(t,e){var r=e.parentNode;if(r){var n=t.lastChild;r.removeChild(e);var n=t.lastChild}var n=t.lastChild;return e.parentNode=t,e.previousSibling=n,e.nextSibling=null,n?n.nextSibling=e:t.firstChild=e,t.lastChild=e,We(t.ownerDocument,t,e),e}Rt.prototype={nodeName:"#document",nodeType:mi,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==V){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return this.documentElement==null&&t.nodeType==G&&(this.documentElement=t),bi(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),Ei(this,t)},importNode:function(t,e){return Si(this,t,e)},getElementById:function(t){var e=null;return Mt(this.documentElement,function(r){if(r.nodeType==G&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=new RegExp("(^|\\s)"+t+"(\\s|$)");return new vt(this,function(r){var n=[];return Mt(r.documentElement,function(i){i!==r&&i.nodeType==G&&e.test(i.getAttribute("class"))&&n.push(i)}),n})},createElement:function(t){var e=new Et;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new z;var r=e.attributes=new me;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new ge;return t.ownerDocument=this,t.childNodes=new z,t},createTextNode:function(t){var e=new Ye;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new ze;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new He;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new Je;return r.ownerDocument=this,r.tagName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new ye;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Qe;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new Et,n=e.split(":"),i=r.attributes=new me;return r.childNodes=new z,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new ye,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}};X(Rt,R);function Et(){this._nsMap={}}Et.prototype={nodeType:G,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===V?this.insertBefore(t,null):tu(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new vt(this,function(e){var r=[];return Mt(e,function(n){n!==e&&n.nodeType==G&&(t==="*"||n.tagName==t)&&r.push(n)}),r})},getElementsByTagNameNS:function(t,e){return new vt(this,function(r){var n=[];return Mt(r,function(i){i!==r&&i.nodeType===G&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&n.push(i)}),n})}};Rt.prototype.getElementsByTagName=Et.prototype.getElementsByTagName;Rt.prototype.getElementsByTagNameNS=Et.prototype.getElementsByTagNameNS;X(Et,R);function ye(){}ye.prototype.nodeType=wt;X(ye,R);function qt(){}qt.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(M[Za])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var n=this.data.substring(0,t),i=this.data.substring(t+e);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};X(qt,R);function Ye(){}Ye.prototype={nodeName:"#text",nodeType:de,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};X(Ye,qt);function ze(){}ze.prototype={nodeName:"#comment",nodeType:di};X(ze,qt);function He(){}He.prototype={nodeName:"#cdata-section",nodeType:fi};X(He,qt);function Ze(){}Ze.prototype.nodeType=yi;X(Ze,R);function Di(){}Di.prototype.nodeType=Ha;X(Di,R);function Ni(){}Ni.prototype.nodeType=za;X(Ni,R);function Qe(){}Qe.prototype.nodeType=pi;X(Qe,R);function ge(){}ge.prototype.nodeName="#document-fragment";ge.prototype.nodeType=V;X(ge,R);function Je(){}Je.prototype.nodeType=hi;X(Je,R);function Ti(){}Ti.prototype.serializeToString=function(t,e,r){return xi.call(t,e,r)};R.prototype.toString=xi;function xi(t,e){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,s=n.namespaceURI;if(s&&i==null){var i=n.lookupPrefix(s);if(i==null)var o=[{namespace:s,prefix:null}]}return gt(this,r,t,e,o),r.join("")}function li(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(!n&&!i||n==="xml"&&i==="http://www.w3.org/XML/1998/namespace"||i=="http://www.w3.org/2000/xmlns/")return!1;for(var s=r.length;s--;){var o=r[s];if(o.prefix==n)return o.namespace!=i}return!0}function gt(t,e,r,n,i){if(n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case G:i||(i=[]);var s=i.length,o=t.attributes,u=o.length,D=t.firstChild,c=t.tagName;r=Ya===t.namespaceURI||r,e.push("<",c);for(var h=0;h<u;h++){var l=o.item(h);l.prefix=="xmlns"?i.push({prefix:l.localName,namespace:l.value}):l.nodeName=="xmlns"&&i.push({prefix:"",namespace:l.value})}for(var h=0;h<u;h++){var l=o.item(h);if(li(l,r,i)){var g=l.prefix||"",v=l.namespaceURI,N=g?" xmlns:"+g:" xmlns";e.push(N,'="',v,'"'),i.push({prefix:g,namespace:v})}gt(l,e,r,n,i)}if(li(t,r,i)){var g=t.prefix||"",v=t.namespaceURI;if(v){var N=g?" xmlns:"+g:" xmlns";e.push(N,'="',v,'"'),i.push({prefix:g,namespace:v})}}if(D||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(e.push(">"),r&&/^script$/i.test(c))for(;D;)D.data?e.push(D.data):gt(D,e,r,n,i),D=D.nextSibling;else for(;D;)gt(D,e,r,n,i),D=D.nextSibling;e.push("</",c,">")}else e.push("/>");return;case mi:case V:for(var D=t.firstChild;D;)gt(D,e,r,n,i),D=D.nextSibling;return;case wt:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,ci),'"');case de:return e.push(t.data.replace(/[<&]/g,ci).replace(/]]>/g,"]]&gt;"));case fi:return e.push("<![CDATA[",t.data,"]]>");case di:return e.push("<!--",t.data,"-->");case yi:var p=t.publicId,m=t.systemId;if(e.push("<!DOCTYPE ",t.name),p)e.push(" PUBLIC ",p),m&&m!="."&&e.push(" ",m),e.push(">");else if(m&&m!=".")e.push(" SYSTEM ",m,">");else{var E=t.internalSubset;E&&e.push(" [",E,"]"),e.push(">")}return;case hi:return e.push("<?",t.target," ",t.data,"?>");case pi:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function Si(t,e,r){var n;switch(e.nodeType){case G:n=e.cloneNode(!1),n.ownerDocument=t;case V:break;case wt:r=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(Si(t,i,r)),i=i.nextSibling;return n}function Ve(t,e,r){var n=new e.constructor;for(var i in e){var s=e[i];typeof s!="object"&&s!=n[i]&&(n[i]=s)}switch(e.childNodes&&(n.childNodes=new z),n.ownerDocument=t,n.nodeType){case G:var o=e.attributes,u=n.attributes=new me,c=o.length;u._ownerElement=n;for(var h=0;h<c;h++)n.setAttributeNode(Ve(t,o.item(h),!0));break;case wt:r=!0}if(r)for(var l=e.firstChild;l;)n.appendChild(Ve(t,l,r)),l=l.nextSibling;return n}function Ii(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case G:case V:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};wc=t,Object.defineProperty(vt.prototype,"length",{get:function(){return Ke(this),this.$$length}}),Object.defineProperty(R.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case G:case V:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Ii=function(e,r,n){e["$$"+r]=n}}}catch{}var wc;Xt.Node=R;Xt.DOMException=rt;Xt.DOMImplementation=wi;Xt.XMLSerializer=Ti});var Oi=x(Ut=>{function Ai(t){this.options=t||{locator:{}}}Ai.prototype.parseFromString=function(t,e){var r=this.options,n=new nu,i=r.domBuilder||new Ft,s=r.errorHandler,o=r.locator,u=r.xmlns||{},c=/\/x?html?$/.test(e),h=c?ru.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return o&&i.setDocumentLocator(o),n.errorHandler=eu(s,i,o),n.domBuilder=r.domBuilder||i,c&&(u[""]="http://www.w3.org/1999/xhtml"),u.xml=u.xml||"http://www.w3.org/XML/1998/namespace",t&&typeof t=="string"?n.parse(t,u,h):n.errorHandler.error("invalid doc source"),i.doc};function eu(t,e,r){if(!t){if(e instanceof Ft)return e;t=e}var n={},i=t instanceof Function;r=r||{};function s(o){var u=t[o];!u&&i&&(u=t.length==2?function(c){t(o,c)}:t),n[o]=u&&function(c){u("[xmldom "+o+"]	"+c+er(r))}||function(){}}return s("warning"),s("error"),s("fatalError"),n}function Ft(){this.cdata=!1}function bt(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}Ft.prototype={startDocument:function(){this.doc=new su().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,s=i.createElementNS(t,r||e),o=n.length;we(this,s),this.currentElement=s,this.locator&&bt(this.locator,s);for(var u=0;u<o;u++){var t=n.getURI(u),c=n.getValue(u),r=n.getQName(u),h=i.createAttributeNS(t,r);this.locator&&bt(n.getLocator(u),h),h.value=h.nodeValue=c,s.setAttributeNode(h)}},endElement:function(t,e,r){var n=this.currentElement,i=n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&bt(this.locator,r),we(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=_i.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&bt(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=_i.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&bt(this.locator,n),we(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&bt(this.locator,i),we(this,i)}},warning:function(t){console.warn("[xmldom warning]	"+t,er(this.locator))},error:function(t){console.error("[xmldom error]	"+t,er(this.locator))},fatalError:function(t){throw new iu(t,this.locator)}};function er(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function _i(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){Ft.prototype[t]=function(){return null}});function we(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}var ru=Zn(),Li=si(),nu=Li.XMLReader,iu=Li.ParseError,su=Ut.DOMImplementation=tr().DOMImplementation;Ut.XMLSerializer=tr().XMLSerializer;Ut.DOMParser=Ai;Ut.__DOMHandler=Ft});var Pi=x(Mi=>{var ou=Oi().DOMParser;Mi.parse=uu;var ve=3,Ci=4,au=8;function rr(t){return t.nodeType===ve||t.nodeType===au||t.nodeType===Ci}function K(t){return!t.childNodes||t.childNodes.length===0}function Dt(t,e){if(!t)throw new Error(e)}function uu(t){var e=new ou().parseFromString(t);Dt(e.documentElement.nodeName==="plist","malformed document. First element should be <plist>");var r=Nt(e.documentElement);return r.length==1&&(r=r[0]),r}function Nt(t){var e,r,n,i,s,o,u,c;if(!t)return null;if(t.nodeName==="plist"){if(s=[],K(t))return s;for(e=0;e<t.childNodes.length;e++)rr(t.childNodes[e])||s.push(Nt(t.childNodes[e]));return s}else if(t.nodeName==="dict"){if(r={},n=null,u=0,K(t))return r;for(e=0;e<t.childNodes.length;e++)rr(t.childNodes[e])||(u%2===0?(Dt(t.childNodes[e].nodeName==="key","Missing key while parsing <dict/>."),n=Nt(t.childNodes[e])):(Dt(t.childNodes[e].nodeName!=="key",'Unexpected key "'+Nt(t.childNodes[e])+'" while parsing <dict/>.'),r[n]=Nt(t.childNodes[e])),u+=1);if(u%2===1)throw new Error('Missing value for "'+n+'" while parsing <dict/>');return r}else if(t.nodeName==="array"){if(s=[],K(t))return s;for(e=0;e<t.childNodes.length;e++)rr(t.childNodes[e])||(o=Nt(t.childNodes[e]),o!=null&&s.push(o));return s}else if(t.nodeName!=="#text"){if(t.nodeName==="key")return K(t)?"":t.childNodes[0].nodeValue;if(t.nodeName==="string"){if(o="",K(t))return o;for(e=0;e<t.childNodes.length;e++){var c=t.childNodes[e].nodeType;(c===ve||c===Ci)&&(o+=t.childNodes[e].nodeValue)}return o}else{if(t.nodeName==="integer")return Dt(!K(t),'Cannot parse "" as integer.'),parseInt(t.childNodes[0].nodeValue,10);if(t.nodeName==="real"){for(Dt(!K(t),'Cannot parse "" as real.'),o="",e=0;e<t.childNodes.length;e++)t.childNodes[e].nodeType===ve&&(o+=t.childNodes[e].nodeValue);return parseFloat(o)}else if(t.nodeName==="data"){if(o="",K(t))return Buffer.from(o,"base64");for(e=0;e<t.childNodes.length;e++)t.childNodes[e].nodeType===ve&&(o+=t.childNodes[e].nodeValue.replace(/\s+/g,""));return Buffer.from(o,"base64")}else{if(t.nodeName==="date")return Dt(!K(t),'Cannot parse "" as Date.'),new Date(t.childNodes[0].nodeValue);if(t.nodeName==="true")return!0;if(t.nodeName==="false")return!1}}}}});var Xi=x(Ee=>{"use strict";Ee.byteLength=lu;Ee.toByteArray=pu;Ee.fromByteArray=mu;var $=[],k=[],cu=typeof Uint8Array<"u"?Uint8Array:Array,nr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(nt=0,Ri=nr.length;nt<Ri;++nt)$[nt]=nr[nt],k[nr.charCodeAt(nt)]=nt;var nt,Ri;k["-".charCodeAt(0)]=62;k["_".charCodeAt(0)]=63;function qi(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function lu(t){var e=qi(t),r=e[0],n=e[1];return(r+n)*3/4-n}function fu(t,e,r){return(e+r)*3/4-r}function pu(t){var e,r=qi(t),n=r[0],i=r[1],s=new cu(fu(t,n,i)),o=0,u=i>0?n-4:n,c;for(c=0;c<u;c+=4)e=k[t.charCodeAt(c)]<<18|k[t.charCodeAt(c+1)]<<12|k[t.charCodeAt(c+2)]<<6|k[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=k[t.charCodeAt(c)]<<2|k[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=k[t.charCodeAt(c)]<<10|k[t.charCodeAt(c+1)]<<4|k[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function hu(t){return $[t>>18&63]+$[t>>12&63]+$[t>>6&63]+$[t&63]}function du(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(hu(n));return i.join("")}function mu(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,u=r-n;o<u;o+=s)i.push(du(t,o,o+s>u?u:o+s));return n===1?(e=t[r-1],i.push($[e>>2]+$[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push($[e>>10]+$[e>>4&63]+$[e<<2&63]+"=")),i.join("")}});var W=x((Fi,it)=>{(function(){var t,e,r,n,i,s,o=[].slice,u={}.hasOwnProperty;t=function(){var c,h,l,g,v,N;if(N=arguments[0],v=2<=arguments.length?o.call(arguments,1):[],n(Object.assign))Object.assign.apply(null,arguments);else for(c=0,l=v.length;c<l;c++)if(g=v[c],g!=null)for(h in g)u.call(g,h)&&(N[h]=g[h]);return N},n=function(c){return!!c&&Object.prototype.toString.call(c)==="[object Function]"},i=function(c){var h;return!!c&&((h=typeof c)=="function"||h==="object")},e=function(c){return n(Array.isArray)?Array.isArray(c):Object.prototype.toString.call(c)==="[object Array]"},r=function(c){var h;if(e(c))return!c.length;for(h in c)if(u.call(c,h))return!1;return!0},s=function(c){var h,l;return i(c)&&(l=Object.getPrototypeOf(c))&&(h=l.constructor)&&typeof h=="function"&&h instanceof h&&Function.prototype.toString.call(h)===Function.prototype.toString.call(Object)},it.exports.assign=t,it.exports.isFunction=n,it.exports.isObject=i,it.exports.isArray=e,it.exports.isEmpty=r,it.exports.isPlainObject=s}).call(Fi)});var ir=x((Ui,ji)=>{(function(){var t;ji.exports=t=function(){function e(r,n,i){if(this.options=r.options,this.stringify=r.stringify,n==null)throw new Error("Missing attribute name of element "+r.name);if(i==null)throw new Error("Missing attribute value for attribute "+n+" of element "+r.name);this.name=this.stringify.attName(n),this.value=this.stringify.attValue(i)}return e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(r){return this.options.writer.set(r).attribute(this)},e}()}).call(Ui)});var jt=x((ki,Gi)=>{(function(){var t,e,r,n,i,s,o=function(c,h){for(var l in h)u.call(h,l)&&(c[l]=h[l]);function g(){this.constructor=c}return g.prototype=h.prototype,c.prototype=new g,c.__super__=h.prototype,c},u={}.hasOwnProperty;s=W(),i=s.isObject,n=s.isFunction,r=U(),t=ir(),Gi.exports=e=function(c){o(h,c);function h(l,g,v){if(h.__super__.constructor.call(this,l),g==null)throw new Error("Missing element name");this.name=this.stringify.eleName(g),this.attributes={},v!=null&&this.attribute(v),l.isDocument&&(this.isRoot=!0,this.documentObject=l,l.rootObject=this)}return h.prototype.clone=function(){var l,g,v,N;v=Object.create(this),v.isRoot&&(v.documentObject=null),v.attributes={},N=this.attributes;for(g in N)u.call(N,g)&&(l=N[g],v.attributes[g]=l.clone());return v.children=[],this.children.forEach(function(D){var p;return p=D.clone(),p.parent=v,v.children.push(p)}),v},h.prototype.attribute=function(l,g){var v,N;if(l!=null&&(l=l.valueOf()),i(l))for(v in l)u.call(l,v)&&(N=l[v],this.attribute(v,N));else n(g)&&(g=g.apply()),(!this.options.skipNullAttributes||g!=null)&&(this.attributes[l]=new t(this,l,g));return this},h.prototype.removeAttribute=function(l){var g,v,N;if(l==null)throw new Error("Missing attribute name");if(l=l.valueOf(),Array.isArray(l))for(v=0,N=l.length;v<N;v++)g=l[v],delete this.attributes[g];else delete this.attributes[l];return this},h.prototype.toString=function(l){return this.options.writer.set(l).element(this)},h.prototype.att=function(l,g){return this.attribute(l,g)},h.prototype.a=function(l,g){return this.attribute(l,g)},h}(r)}).call(ki)});var kt=x((Bi,$i)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;e=U(),$i.exports=t=function(i){r(s,i);function s(o,u){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(u)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).cdata(this)},s}(e)}).call(Bi)});var Gt=x((Vi,Ki)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;e=U(),Ki.exports=t=function(i){r(s,i);function s(o,u){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing comment text");this.text=this.stringify.comment(u)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).comment(this)},s}(e)}).call(Vi)});var Bt=x((Wi,Yi)=>{(function(){var t,e,r,n=function(s,o){for(var u in o)i.call(o,u)&&(s[u]=o[u]);function c(){this.constructor=s}return c.prototype=o.prototype,s.prototype=new c,s.__super__=o.prototype,s},i={}.hasOwnProperty;r=W().isObject,e=U(),Yi.exports=t=function(s){n(o,s);function o(u,c,h,l){var g;o.__super__.constructor.call(this,u),r(c)&&(g=c,c=g.version,h=g.encoding,l=g.standalone),c||(c="1.0"),this.version=this.stringify.xmlVersion(c),h!=null&&(this.encoding=this.stringify.xmlEncoding(h)),l!=null&&(this.standalone=this.stringify.xmlStandalone(l))}return o.prototype.toString=function(u){return this.options.writer.set(u).declaration(this)},o}(e)}).call(Wi)});var $t=x((zi,Hi)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;e=U(),Hi.exports=t=function(i){r(s,i);function s(o,u,c,h,l,g){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing DTD element name");if(c==null)throw new Error("Missing DTD attribute name");if(!h)throw new Error("Missing DTD attribute type");if(!l)throw new Error("Missing DTD attribute default");if(l.indexOf("#")!==0&&(l="#"+l),!l.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(g&&!l.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(u),this.attributeName=this.stringify.attName(c),this.attributeType=this.stringify.dtdAttType(h),this.defaultValue=this.stringify.dtdAttDefault(g),this.defaultValueType=l}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdAttList(this)},s}(e)}).call(zi)});var Vt=x((Zi,Qi)=>{(function(){var t,e,r,n=function(s,o){for(var u in o)i.call(o,u)&&(s[u]=o[u]);function c(){this.constructor=s}return c.prototype=o.prototype,s.prototype=new c,s.__super__=o.prototype,s},i={}.hasOwnProperty;r=W().isObject,e=U(),Qi.exports=t=function(s){n(o,s);function o(u,c,h,l){if(o.__super__.constructor.call(this,u),h==null)throw new Error("Missing entity name");if(l==null)throw new Error("Missing entity value");if(this.pe=!!c,this.name=this.stringify.eleName(h),!r(l))this.value=this.stringify.dtdEntityValue(l);else{if(!l.pubID&&!l.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(l.pubID&&!l.sysID)throw new Error("System identifier is required for a public external entity");if(l.pubID!=null&&(this.pubID=this.stringify.dtdPubID(l.pubID)),l.sysID!=null&&(this.sysID=this.stringify.dtdSysID(l.sysID)),l.nData!=null&&(this.nData=this.stringify.dtdNData(l.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}}return o.prototype.toString=function(u){return this.options.writer.set(u).dtdEntity(this)},o}(e)}).call(Zi)});var Kt=x((Ji,ts)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;e=U(),ts.exports=t=function(i){r(s,i);function s(o,u,c){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing DTD element name");c||(c="(#PCDATA)"),Array.isArray(c)&&(c="("+c.join(",")+")"),this.name=this.stringify.eleName(u),this.value=this.stringify.dtdElementValue(c)}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdElement(this)},s}(e)}).call(Ji)});var Wt=x((es,rs)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;e=U(),rs.exports=t=function(i){r(s,i);function s(o,u,c){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing notation name");if(!c.pubID&&!c.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(u),c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID))}return s.prototype.toString=function(o){return this.options.writer.set(o).dtdNotation(this)},s}(e)}).call(es)});var Yt=x((ns,is)=>{(function(){var t,e,r,n,i,s,o,u=function(h,l){for(var g in l)c.call(l,g)&&(h[g]=l[g]);function v(){this.constructor=h}return v.prototype=l.prototype,h.prototype=new v,h.__super__=l.prototype,h},c={}.hasOwnProperty;o=W().isObject,s=U(),t=$t(),r=Vt(),e=Kt(),n=Wt(),is.exports=i=function(h){u(l,h);function l(g,v,N){var D,p;l.__super__.constructor.call(this,g),this.documentObject=g,o(v)&&(D=v,v=D.pubID,N=D.sysID),N==null&&(p=[v,N],N=p[0],v=p[1]),v!=null&&(this.pubID=this.stringify.dtdPubID(v)),N!=null&&(this.sysID=this.stringify.dtdSysID(N))}return l.prototype.element=function(g,v){var N;return N=new e(this,g,v),this.children.push(N),this},l.prototype.attList=function(g,v,N,D,p){var m;return m=new t(this,g,v,N,D,p),this.children.push(m),this},l.prototype.entity=function(g,v){var N;return N=new r(this,!1,g,v),this.children.push(N),this},l.prototype.pEntity=function(g,v){var N;return N=new r(this,!0,g,v),this.children.push(N),this},l.prototype.notation=function(g,v){var N;return N=new n(this,g,v),this.children.push(N),this},l.prototype.toString=function(g){return this.options.writer.set(g).docType(this)},l.prototype.ele=function(g,v){return this.element(g,v)},l.prototype.att=function(g,v,N,D,p){return this.attList(g,v,N,D,p)},l.prototype.ent=function(g,v){return this.entity(g,v)},l.prototype.pent=function(g,v){return this.pEntity(g,v)},l.prototype.not=function(g,v){return this.notation(g,v)},l.prototype.up=function(){return this.root()||this.documentObject},l}(s)}).call(ns)});var zt=x((ss,os)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;t=U(),os.exports=e=function(i){r(s,i);function s(o,u){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing raw text");this.value=this.stringify.raw(u)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).raw(this)},s}(t)}).call(ss)});var Ht=x((as,us)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;t=U(),us.exports=e=function(i){r(s,i);function s(o,u){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing element text");this.value=this.stringify.eleText(u)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).text(this)},s}(t)}).call(as)});var Zt=x((cs,ls)=>{(function(){var t,e,r=function(i,s){for(var o in s)n.call(s,o)&&(i[o]=s[o]);function u(){this.constructor=i}return u.prototype=s.prototype,i.prototype=new u,i.__super__=s.prototype,i},n={}.hasOwnProperty;t=U(),ls.exports=e=function(i){r(s,i);function s(o,u,c){if(s.__super__.constructor.call(this,o),u==null)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(u),c&&(this.value=this.stringify.insValue(c))}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(o){return this.options.writer.set(o).processingInstruction(this)},s}(t)}).call(cs)});var U=x((fs,ps)=>{(function(){var t,e,r,n,i,s,o,u,c,h,l,g,v,N={}.hasOwnProperty;v=W(),g=v.isObject,l=v.isFunction,h=v.isEmpty,i=null,t=null,e=null,r=null,n=null,u=null,c=null,o=null,ps.exports=s=function(){function D(p){this.parent=p,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],i||(i=jt(),t=kt(),e=Gt(),r=Bt(),n=Yt(),u=zt(),c=Ht(),o=Zt())}return D.prototype.element=function(p,m,E){var a,f,y,b,d,w,T,S,_,I;if(w=null,m==null&&(m={}),m=m.valueOf(),g(m)||(_=[m,E],E=_[0],m=_[1]),p!=null&&(p=p.valueOf()),Array.isArray(p))for(y=0,T=p.length;y<T;y++)f=p[y],w=this.element(f);else if(l(p))w=this.element(p.apply());else if(g(p)){for(d in p)if(N.call(p,d))if(I=p[d],l(I)&&(I=I.apply()),g(I)&&h(I)&&(I=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&d.indexOf(this.stringify.convertAttKey)===0)w=this.attribute(d.substr(this.stringify.convertAttKey.length),I);else if(!this.options.separateArrayItems&&Array.isArray(I))for(b=0,S=I.length;b<S;b++)f=I[b],a={},a[d]=f,w=this.element(a);else g(I)?(w=this.element(d),w.element(I)):w=this.element(d,I)}else!this.options.ignoreDecorators&&this.stringify.convertTextKey&&p.indexOf(this.stringify.convertTextKey)===0?w=this.text(E):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&p.indexOf(this.stringify.convertCDataKey)===0?w=this.cdata(E):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&p.indexOf(this.stringify.convertCommentKey)===0?w=this.comment(E):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&p.indexOf(this.stringify.convertRawKey)===0?w=this.raw(E):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&p.indexOf(this.stringify.convertPIKey)===0?w=this.instruction(p.substr(this.stringify.convertPIKey.length),E):w=this.node(p,m,E);if(w==null)throw new Error("Could not create any elements with: "+p);return w},D.prototype.insertBefore=function(p,m,E){var a,f,y;if(this.isRoot)throw new Error("Cannot insert elements at root level");return f=this.parent.children.indexOf(this),y=this.parent.children.splice(f),a=this.parent.element(p,m,E),Array.prototype.push.apply(this.parent.children,y),a},D.prototype.insertAfter=function(p,m,E){var a,f,y;if(this.isRoot)throw new Error("Cannot insert elements at root level");return f=this.parent.children.indexOf(this),y=this.parent.children.splice(f+1),a=this.parent.element(p,m,E),Array.prototype.push.apply(this.parent.children,y),a},D.prototype.remove=function(){var p,m;if(this.isRoot)throw new Error("Cannot remove the root element");return p=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[p,p-p+1].concat(m=[])),this.parent},D.prototype.node=function(p,m,E){var a,f;return p!=null&&(p=p.valueOf()),m||(m={}),m=m.valueOf(),g(m)||(f=[m,E],E=f[0],m=f[1]),a=new i(this,p,m),E!=null&&a.text(E),this.children.push(a),a},D.prototype.text=function(p){var m;return m=new c(this,p),this.children.push(m),this},D.prototype.cdata=function(p){var m;return m=new t(this,p),this.children.push(m),this},D.prototype.comment=function(p){var m;return m=new e(this,p),this.children.push(m),this},D.prototype.commentBefore=function(p){var m,E,a;return E=this.parent.children.indexOf(this),a=this.parent.children.splice(E),m=this.parent.comment(p),Array.prototype.push.apply(this.parent.children,a),this},D.prototype.commentAfter=function(p){var m,E,a;return E=this.parent.children.indexOf(this),a=this.parent.children.splice(E+1),m=this.parent.comment(p),Array.prototype.push.apply(this.parent.children,a),this},D.prototype.raw=function(p){var m;return m=new u(this,p),this.children.push(m),this},D.prototype.instruction=function(p,m){var E,a,f,y,b;if(p!=null&&(p=p.valueOf()),m!=null&&(m=m.valueOf()),Array.isArray(p))for(y=0,b=p.length;y<b;y++)E=p[y],this.instruction(E);else if(g(p))for(E in p)N.call(p,E)&&(a=p[E],this.instruction(E,a));else l(m)&&(m=m.apply()),f=new o(this,p,m),this.children.push(f);return this},D.prototype.instructionBefore=function(p,m){var E,a,f;return a=this.parent.children.indexOf(this),f=this.parent.children.splice(a),E=this.parent.instruction(p,m),Array.prototype.push.apply(this.parent.children,f),this},D.prototype.instructionAfter=function(p,m){var E,a,f;return a=this.parent.children.indexOf(this),f=this.parent.children.splice(a+1),E=this.parent.instruction(p,m),Array.prototype.push.apply(this.parent.children,f),this},D.prototype.declaration=function(p,m,E){var a,f;return a=this.document(),f=new r(a,p,m,E),a.children[0]instanceof r?a.children[0]=f:a.children.unshift(f),a.root()||a},D.prototype.doctype=function(p,m){var E,a,f,y,b,d,w,T,S,_;for(a=this.document(),f=new n(a,p,m),S=a.children,y=b=0,w=S.length;b<w;y=++b)if(E=S[y],E instanceof n)return a.children[y]=f,f;for(_=a.children,y=d=0,T=_.length;d<T;y=++d)if(E=_[y],E.isRoot)return a.children.splice(y,0,f),f;return a.children.push(f),f},D.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},D.prototype.root=function(){var p;for(p=this;p;){if(p.isDocument)return p.rootObject;if(p.isRoot)return p;p=p.parent}},D.prototype.document=function(){var p;for(p=this;p;){if(p.isDocument)return p;p=p.parent}},D.prototype.end=function(p){return this.document().end(p)},D.prototype.prev=function(){var p;if(p=this.parent.children.indexOf(this),p<1)throw new Error("Already at the first node");return this.parent.children[p-1]},D.prototype.next=function(){var p;if(p=this.parent.children.indexOf(this),p===-1||p===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[p+1]},D.prototype.importDocument=function(p){var m;return m=p.root().clone(),m.parent=this,m.isRoot=!1,this.children.push(m),this},D.prototype.ele=function(p,m,E){return this.element(p,m,E)},D.prototype.nod=function(p,m,E){return this.node(p,m,E)},D.prototype.txt=function(p){return this.text(p)},D.prototype.dat=function(p){return this.cdata(p)},D.prototype.com=function(p){return this.comment(p)},D.prototype.ins=function(p,m){return this.instruction(p,m)},D.prototype.doc=function(){return this.document()},D.prototype.dec=function(p,m,E){return this.declaration(p,m,E)},D.prototype.dtd=function(p,m){return this.doctype(p,m)},D.prototype.e=function(p,m,E){return this.element(p,m,E)},D.prototype.n=function(p,m,E){return this.node(p,m,E)},D.prototype.t=function(p){return this.text(p)},D.prototype.d=function(p){return this.cdata(p)},D.prototype.c=function(p){return this.comment(p)},D.prototype.r=function(p){return this.raw(p)},D.prototype.i=function(p,m){return this.instruction(p,m)},D.prototype.u=function(){return this.up()},D.prototype.importXMLBuilder=function(p){return this.importDocument(p)},D}()}).call(fs)});var sr=x((hs,ds)=>{(function(){var t,e=function(n,i){return function(){return n.apply(i,arguments)}},r={}.hasOwnProperty;ds.exports=t=function(){function n(i){this.assertLegalChar=e(this.assertLegalChar,this);var s,o,u;i||(i={}),this.noDoubleEncoding=i.noDoubleEncoding,o=i.stringify||{};for(s in o)r.call(o,s)&&(u=o[s],this[s]=u)}return n.prototype.eleName=function(i){return i=""+i||"",this.assertLegalChar(i)},n.prototype.eleText=function(i){return i=""+i||"",this.assertLegalChar(this.elEscape(i))},n.prototype.cdata=function(i){return i=""+i||"",i=i.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(i)},n.prototype.comment=function(i){if(i=""+i||"",i.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+i);return this.assertLegalChar(i)},n.prototype.raw=function(i){return""+i||""},n.prototype.attName=function(i){return i=""+i||""},n.prototype.attValue=function(i){return i=""+i||"",this.attEscape(i)},n.prototype.insTarget=function(i){return""+i||""},n.prototype.insValue=function(i){if(i=""+i||"",i.match(/\?>/))throw new Error("Invalid processing instruction value: "+i);return i},n.prototype.xmlVersion=function(i){if(i=""+i||"",!i.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+i);return i},n.prototype.xmlEncoding=function(i){if(i=""+i||"",!i.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+i);return i},n.prototype.xmlStandalone=function(i){return i?"yes":"no"},n.prototype.dtdPubID=function(i){return""+i||""},n.prototype.dtdSysID=function(i){return""+i||""},n.prototype.dtdElementValue=function(i){return""+i||""},n.prototype.dtdAttType=function(i){return""+i||""},n.prototype.dtdAttDefault=function(i){return i!=null?""+i||"":i},n.prototype.dtdEntityValue=function(i){return""+i||""},n.prototype.dtdNData=function(i){return""+i||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(i){var s;if(s=i.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),s)throw new Error("Invalid character in string: "+i+" at index "+s.index);return i},n.prototype.elEscape=function(i){var s;return s=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(s,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(i){var s;return s=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(s,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n}()}).call(hs)});var or=x((ms,ys)=>{(function(){var t,e={}.hasOwnProperty;ys.exports=t=function(){function r(n){var i,s,o,u,c,h,l,g,v;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(s=n.allowEmpty)!=null?s:!1,this.pretty?(this.indent=(o=n.indent)!=null?o:"  ",this.newline=(u=n.newline)!=null?u:`
`,this.offset=(c=n.offset)!=null?c:0,this.dontprettytextnodes=(h=n.dontprettytextnodes)!=null?h:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(l=n.spacebeforeslash)!=null?l:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,g=n.writer||{};for(i in g)e.call(g,i)&&(v=g[i],this[i]=v)}return r.prototype.set=function(n){var i,s,o;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,s=n.writer||{};for(i in s)e.call(s,i)&&(o=s[i],this[i]=o);return this},r.prototype.space=function(n){var i;return this.pretty?(i=(n||0)+this.offset+1,i>0?new Array(i).join(this.indent):""):""},r}()}).call(ms)});var be=x((gs,ws)=>{(function(){var t,e,r,n,i,s,o,u,c,h,l,g,v,N,D=function(m,E){for(var a in E)p.call(E,a)&&(m[a]=E[a]);function f(){this.constructor=m}return f.prototype=E.prototype,m.prototype=new f,m.__super__=E.prototype,m},p={}.hasOwnProperty;o=Bt(),u=Yt(),t=kt(),e=Gt(),c=jt(),l=zt(),v=Ht(),h=Zt(),r=$t(),n=Kt(),i=Vt(),s=Wt(),N=or(),ws.exports=g=function(m){D(E,m);function E(a){E.__super__.constructor.call(this,a)}return E.prototype.document=function(a){var f,y,b,d,w;for(this.textispresent=!1,d="",w=a.children,y=0,b=w.length;y<b;y++)f=w[y],d+=function(){switch(!1){case!(f instanceof o):return this.declaration(f);case!(f instanceof u):return this.docType(f);case!(f instanceof e):return this.comment(f);case!(f instanceof h):return this.processingInstruction(f);default:return this.element(f,0)}}.call(this);return this.pretty&&d.slice(-this.newline.length)===this.newline&&(d=d.slice(0,-this.newline.length)),d},E.prototype.attribute=function(a){return" "+a.name+'="'+a.value+'"'},E.prototype.cdata=function(a,f){return this.space(f)+"<![CDATA["+a.text+"]]>"+this.newline},E.prototype.comment=function(a,f){return this.space(f)+"<!-- "+a.text+" -->"+this.newline},E.prototype.declaration=function(a,f){var y;return y=this.space(f),y+='<?xml version="'+a.version+'"',a.encoding!=null&&(y+=' encoding="'+a.encoding+'"'),a.standalone!=null&&(y+=' standalone="'+a.standalone+'"'),y+=this.spacebeforeslash+"?>",y+=this.newline,y},E.prototype.docType=function(a,f){var y,b,d,w,T;if(f||(f=0),w=this.space(f),w+="<!DOCTYPE "+a.root().name,a.pubID&&a.sysID?w+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.sysID&&(w+=' SYSTEM "'+a.sysID+'"'),a.children.length>0){for(w+=" [",w+=this.newline,T=a.children,b=0,d=T.length;b<d;b++)y=T[b],w+=function(){switch(!1){case!(y instanceof r):return this.dtdAttList(y,f+1);case!(y instanceof n):return this.dtdElement(y,f+1);case!(y instanceof i):return this.dtdEntity(y,f+1);case!(y instanceof s):return this.dtdNotation(y,f+1);case!(y instanceof t):return this.cdata(y,f+1);case!(y instanceof e):return this.comment(y,f+1);case!(y instanceof h):return this.processingInstruction(y,f+1);default:throw new Error("Unknown DTD node type: "+y.constructor.name)}}.call(this);w+="]"}return w+=this.spacebeforeslash+">",w+=this.newline,w},E.prototype.element=function(a,f){var y,b,d,w,T,S,_,I,j,Tt,Q,J,A;f||(f=0),A=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),J=this.space(f),I="",I+=J+"<"+a.name,j=a.attributes;for(_ in j)p.call(j,_)&&(y=j[_],I+=this.attribute(y));if(a.children.length===0||a.children.every(function(q){return q.value===""}))this.allowEmpty?I+="></"+a.name+">"+this.newline:I+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&a.children.length===1&&a.children[0].value!=null)I+=">",I+=a.children[0].value,I+="</"+a.name+">"+this.newline;else{if(this.dontprettytextnodes){for(Tt=a.children,d=0,T=Tt.length;d<T;d++)if(b=Tt[d],b.value!=null){this.textispresent++,A=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,J=this.space(f)),I+=">"+this.newline,Q=a.children,w=0,S=Q.length;w<S;w++)b=Q[w],I+=function(){switch(!1){case!(b instanceof t):return this.cdata(b,f+1);case!(b instanceof e):return this.comment(b,f+1);case!(b instanceof c):return this.element(b,f+1);case!(b instanceof l):return this.raw(b,f+1);case!(b instanceof v):return this.text(b,f+1);case!(b instanceof h):return this.processingInstruction(b,f+1);default:throw new Error("Unknown XML node type: "+b.constructor.name)}}.call(this);A&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),I+=J+"</"+a.name+">"+this.newline}return I},E.prototype.processingInstruction=function(a,f){var y;return y=this.space(f)+"<?"+a.target,a.value&&(y+=" "+a.value),y+=this.spacebeforeslash+"?>"+this.newline,y},E.prototype.raw=function(a,f){return this.space(f)+a.value+this.newline},E.prototype.text=function(a,f){return this.space(f)+a.value+this.newline},E.prototype.dtdAttList=function(a,f){var y;return y=this.space(f)+"<!ATTLIST "+a.elementName+" "+a.attributeName+" "+a.attributeType,a.defaultValueType!=="#DEFAULT"&&(y+=" "+a.defaultValueType),a.defaultValue&&(y+=' "'+a.defaultValue+'"'),y+=this.spacebeforeslash+">"+this.newline,y},E.prototype.dtdElement=function(a,f){return this.space(f)+"<!ELEMENT "+a.name+" "+a.value+this.spacebeforeslash+">"+this.newline},E.prototype.dtdEntity=function(a,f){var y;return y=this.space(f)+"<!ENTITY",a.pe&&(y+=" %"),y+=" "+a.name,a.value?y+=' "'+a.value+'"':(a.pubID&&a.sysID?y+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.sysID&&(y+=' SYSTEM "'+a.sysID+'"'),a.nData&&(y+=" NDATA "+a.nData)),y+=this.spacebeforeslash+">"+this.newline,y},E.prototype.dtdNotation=function(a,f){var y;return y=this.space(f)+"<!NOTATION "+a.name,a.pubID&&a.sysID?y+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.pubID?y+=' PUBLIC "'+a.pubID+'"':a.sysID&&(y+=' SYSTEM "'+a.sysID+'"'),y+=this.spacebeforeslash+">"+this.newline,y},E.prototype.openNode=function(a,f){var y,b,d,w;if(f||(f=0),a instanceof c){d=this.space(f)+"<"+a.name,w=a.attributes;for(b in w)p.call(w,b)&&(y=w[b],d+=this.attribute(y));return d+=(a.children?">":"/>")+this.newline,d}else return d=this.space(f)+"<!DOCTYPE "+a.rootNodeName,a.pubID&&a.sysID?d+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.sysID&&(d+=' SYSTEM "'+a.sysID+'"'),d+=(a.children?" [":">")+this.newline,d},E.prototype.closeNode=function(a,f){switch(f||(f=0),!1){case!(a instanceof c):return this.space(f)+"</"+a.name+">"+this.newline;case!(a instanceof u):return this.space(f)+"]>"+this.newline}},E}(N)}).call(gs)});var bs=x((vs,Es)=>{(function(){var t,e,r,n,i,s=function(u,c){for(var h in c)o.call(c,h)&&(u[h]=c[h]);function l(){this.constructor=u}return l.prototype=c.prototype,u.prototype=new l,u.__super__=c.prototype,u},o={}.hasOwnProperty;i=W().isPlainObject,e=U(),n=sr(),r=be(),Es.exports=t=function(u){s(c,u);function c(h){c.__super__.constructor.call(this,null),h||(h={}),h.writer||(h.writer=new r),this.options=h,this.stringify=new n(h),this.isDocument=!0}return c.prototype.end=function(h){var l;return h?i(h)&&(l=h,h=this.options.writer.set(l)):h=this.options.writer,h.document(this)},c.prototype.toString=function(h){return this.options.writer.set(h).document(this)},c}(e)}).call(vs)});var Ts=x((Ds,Ns)=>{(function(){var t,e,r,n,i,s,o,u,c,h,l,g,v,N,D,p,m,E,a,f,y={}.hasOwnProperty;f=W(),E=f.isObject,m=f.isFunction,a=f.isPlainObject,l=jt(),e=kt(),r=Gt(),v=zt(),p=Ht(),g=Zt(),u=Bt(),c=Yt(),n=$t(),s=Vt(),i=Kt(),o=Wt(),t=ir(),D=sr(),N=be(),Ns.exports=h=function(){function b(d,w,T){var S;d||(d={}),d.writer?a(d.writer)&&(S=d.writer,d.writer=new N(S)):d.writer=new N(d),this.options=d,this.writer=d.writer,this.stringify=new D(d),this.onDataCallback=w||function(){},this.onEndCallback=T||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return b.prototype.node=function(d,w,T){var S;if(d==null)throw new Error("Missing node name");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node");return this.openCurrent(),d=d.valueOf(),w==null&&(w={}),w=w.valueOf(),E(w)||(S=[w,T],T=S[0],w=S[1]),this.currentNode=new l(this,d,w),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,T!=null&&this.text(T),this},b.prototype.element=function(d,w,T){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(d,w,T)},b.prototype.attribute=function(d,w){var T,S;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(d!=null&&(d=d.valueOf()),E(d))for(T in d)y.call(d,T)&&(S=d[T],this.attribute(T,S));else m(w)&&(w=w.apply()),(!this.options.skipNullAttributes||w!=null)&&(this.currentNode.attributes[d]=new t(this,d,w));return this},b.prototype.text=function(d){var w;return this.openCurrent(),w=new p(this,d),this.onData(this.writer.text(w,this.currentLevel+1)),this},b.prototype.cdata=function(d){var w;return this.openCurrent(),w=new e(this,d),this.onData(this.writer.cdata(w,this.currentLevel+1)),this},b.prototype.comment=function(d){var w;return this.openCurrent(),w=new r(this,d),this.onData(this.writer.comment(w,this.currentLevel+1)),this},b.prototype.raw=function(d){var w;return this.openCurrent(),w=new v(this,d),this.onData(this.writer.raw(w,this.currentLevel+1)),this},b.prototype.instruction=function(d,w){var T,S,_,I,j;if(this.openCurrent(),d!=null&&(d=d.valueOf()),w!=null&&(w=w.valueOf()),Array.isArray(d))for(T=0,I=d.length;T<I;T++)S=d[T],this.instruction(S);else if(E(d))for(S in d)y.call(d,S)&&(_=d[S],this.instruction(S,_));else m(w)&&(w=w.apply()),j=new g(this,d,w),this.onData(this.writer.processingInstruction(j,this.currentLevel+1));return this},b.prototype.declaration=function(d,w,T){var S;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return S=new u(this,d,w,T),this.onData(this.writer.declaration(S,this.currentLevel+1)),this},b.prototype.doctype=function(d,w,T){if(this.openCurrent(),d==null)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new c(this,w,T),this.currentNode.rootNodeName=d,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},b.prototype.dtdElement=function(d,w){var T;return this.openCurrent(),T=new i(this,d,w),this.onData(this.writer.dtdElement(T,this.currentLevel+1)),this},b.prototype.attList=function(d,w,T,S,_){var I;return this.openCurrent(),I=new n(this,d,w,T,S,_),this.onData(this.writer.dtdAttList(I,this.currentLevel+1)),this},b.prototype.entity=function(d,w){var T;return this.openCurrent(),T=new s(this,!1,d,w),this.onData(this.writer.dtdEntity(T,this.currentLevel+1)),this},b.prototype.pEntity=function(d,w){var T;return this.openCurrent(),T=new s(this,!0,d,w),this.onData(this.writer.dtdEntity(T,this.currentLevel+1)),this},b.prototype.notation=function(d,w){var T;return this.openCurrent(),T=new o(this,d,w),this.onData(this.writer.dtdNotation(T,this.currentLevel+1)),this},b.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},b.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},b.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},b.prototype.openNode=function(d){if(!d.isOpen)return!this.root&&this.currentLevel===0&&d instanceof l&&(this.root=d),this.onData(this.writer.openNode(d,this.currentLevel)),d.isOpen=!0},b.prototype.closeNode=function(d){if(!d.isClosed)return this.onData(this.writer.closeNode(d,this.currentLevel)),d.isClosed=!0},b.prototype.onData=function(d){return this.documentStarted=!0,this.onDataCallback(d)},b.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},b.prototype.ele=function(){return this.element.apply(this,arguments)},b.prototype.nod=function(d,w,T){return this.node(d,w,T)},b.prototype.txt=function(d){return this.text(d)},b.prototype.dat=function(d){return this.cdata(d)},b.prototype.com=function(d){return this.comment(d)},b.prototype.ins=function(d,w){return this.instruction(d,w)},b.prototype.dec=function(d,w,T){return this.declaration(d,w,T)},b.prototype.dtd=function(d,w,T){return this.doctype(d,w,T)},b.prototype.e=function(d,w,T){return this.element(d,w,T)},b.prototype.n=function(d,w,T){return this.node(d,w,T)},b.prototype.t=function(d){return this.text(d)},b.prototype.d=function(d){return this.cdata(d)},b.prototype.c=function(d){return this.comment(d)},b.prototype.r=function(d){return this.raw(d)},b.prototype.i=function(d,w){return this.instruction(d,w)},b.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},b.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},b.prototype.ent=function(d,w){return this.entity(d,w)},b.prototype.pent=function(d,w){return this.pEntity(d,w)},b.prototype.not=function(d,w){return this.notation(d,w)},b}()}).call(Ds)});var Is=x((xs,Ss)=>{(function(){var t,e,r,n,i,s,o,u,c,h,l,g,v,N,D=function(m,E){for(var a in E)p.call(E,a)&&(m[a]=E[a]);function f(){this.constructor=m}return f.prototype=E.prototype,m.prototype=new f,m.__super__=E.prototype,m},p={}.hasOwnProperty;o=Bt(),u=Yt(),t=kt(),e=Gt(),c=jt(),l=zt(),v=Ht(),h=Zt(),r=$t(),n=Kt(),i=Vt(),s=Wt(),N=or(),Ss.exports=g=function(m){D(E,m);function E(a,f){E.__super__.constructor.call(this,f),this.stream=a}return E.prototype.document=function(a){var f,y,b,d,w,T,S,_;for(T=a.children,y=0,d=T.length;y<d;y++)f=T[y],f.isLastRootNode=!1;for(a.children[a.children.length-1].isLastRootNode=!0,S=a.children,_=[],b=0,w=S.length;b<w;b++)switch(f=S[b],!1){case!(f instanceof o):_.push(this.declaration(f));break;case!(f instanceof u):_.push(this.docType(f));break;case!(f instanceof e):_.push(this.comment(f));break;case!(f instanceof h):_.push(this.processingInstruction(f));break;default:_.push(this.element(f))}return _},E.prototype.attribute=function(a){return this.stream.write(" "+a.name+'="'+a.value+'"')},E.prototype.cdata=function(a,f){return this.stream.write(this.space(f)+"<![CDATA["+a.text+"]]>"+this.endline(a))},E.prototype.comment=function(a,f){return this.stream.write(this.space(f)+"<!-- "+a.text+" -->"+this.endline(a))},E.prototype.declaration=function(a,f){return this.stream.write(this.space(f)),this.stream.write('<?xml version="'+a.version+'"'),a.encoding!=null&&this.stream.write(' encoding="'+a.encoding+'"'),a.standalone!=null&&this.stream.write(' standalone="'+a.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(a))},E.prototype.docType=function(a,f){var y,b,d,w;if(f||(f=0),this.stream.write(this.space(f)),this.stream.write("<!DOCTYPE "+a.root().name),a.pubID&&a.sysID?this.stream.write(' PUBLIC "'+a.pubID+'" "'+a.sysID+'"'):a.sysID&&this.stream.write(' SYSTEM "'+a.sysID+'"'),a.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(a)),w=a.children,b=0,d=w.length;b<d;b++)switch(y=w[b],!1){case!(y instanceof r):this.dtdAttList(y,f+1);break;case!(y instanceof n):this.dtdElement(y,f+1);break;case!(y instanceof i):this.dtdEntity(y,f+1);break;case!(y instanceof s):this.dtdNotation(y,f+1);break;case!(y instanceof t):this.cdata(y,f+1);break;case!(y instanceof e):this.comment(y,f+1);break;case!(y instanceof h):this.processingInstruction(y,f+1);break;default:throw new Error("Unknown DTD node type: "+y.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(a))},E.prototype.element=function(a,f){var y,b,d,w,T,S,_,I;f||(f=0),I=this.space(f),this.stream.write(I+"<"+a.name),S=a.attributes;for(T in S)p.call(S,T)&&(y=S[T],this.attribute(y));if(a.children.length===0||a.children.every(function(j){return j.value===""}))this.allowEmpty?this.stream.write("></"+a.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&a.children.length===1&&a.children[0].value!=null)this.stream.write(">"),this.stream.write(a.children[0].value),this.stream.write("</"+a.name+">");else{for(this.stream.write(">"+this.newline),_=a.children,d=0,w=_.length;d<w;d++)switch(b=_[d],!1){case!(b instanceof t):this.cdata(b,f+1);break;case!(b instanceof e):this.comment(b,f+1);break;case!(b instanceof c):this.element(b,f+1);break;case!(b instanceof l):this.raw(b,f+1);break;case!(b instanceof v):this.text(b,f+1);break;case!(b instanceof h):this.processingInstruction(b,f+1);break;default:throw new Error("Unknown XML node type: "+b.constructor.name)}this.stream.write(I+"</"+a.name+">")}return this.stream.write(this.endline(a))},E.prototype.processingInstruction=function(a,f){return this.stream.write(this.space(f)+"<?"+a.target),a.value&&this.stream.write(" "+a.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(a))},E.prototype.raw=function(a,f){return this.stream.write(this.space(f)+a.value+this.endline(a))},E.prototype.text=function(a,f){return this.stream.write(this.space(f)+a.value+this.endline(a))},E.prototype.dtdAttList=function(a,f){return this.stream.write(this.space(f)+"<!ATTLIST "+a.elementName+" "+a.attributeName+" "+a.attributeType),a.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+a.defaultValueType),a.defaultValue&&this.stream.write(' "'+a.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(a))},E.prototype.dtdElement=function(a,f){return this.stream.write(this.space(f)+"<!ELEMENT "+a.name+" "+a.value),this.stream.write(this.spacebeforeslash+">"+this.endline(a))},E.prototype.dtdEntity=function(a,f){return this.stream.write(this.space(f)+"<!ENTITY"),a.pe&&this.stream.write(" %"),this.stream.write(" "+a.name),a.value?this.stream.write(' "'+a.value+'"'):(a.pubID&&a.sysID?this.stream.write(' PUBLIC "'+a.pubID+'" "'+a.sysID+'"'):a.sysID&&this.stream.write(' SYSTEM "'+a.sysID+'"'),a.nData&&this.stream.write(" NDATA "+a.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(a))},E.prototype.dtdNotation=function(a,f){return this.stream.write(this.space(f)+"<!NOTATION "+a.name),a.pubID&&a.sysID?this.stream.write(' PUBLIC "'+a.pubID+'" "'+a.sysID+'"'):a.pubID?this.stream.write(' PUBLIC "'+a.pubID+'"'):a.sysID&&this.stream.write(' SYSTEM "'+a.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(a))},E.prototype.endline=function(a){return a.isLastRootNode?"":this.newline},E}(N)}).call(xs)});var As=x((_s,Qt)=>{(function(){var t,e,r,n,i,s,o;o=W(),i=o.assign,s=o.isFunction,t=bs(),e=Ts(),n=be(),r=Is(),Qt.exports.create=function(u,c,h,l){var g,v;if(u==null)throw new Error("Root element needs a name");return l=i({},c,h,l),g=new t(l),v=g.element(u),l.headless||(g.declaration(l),(l.pubID!=null||l.sysID!=null)&&g.doctype(l)),v},Qt.exports.begin=function(u,c,h){var l;return s(u)&&(l=[u,c],c=l[0],h=l[1],u={}),c?new e(u,c,h):new t(u)},Qt.exports.stringWriter=function(u){return new n(u)},Qt.exports.streamWriter=function(u,c){return new r(u,c)}}).call(_s)});var Ms=x(Cs=>{var Ls=Xi(),yu=As();Cs.build=vu;function gu(t){function e(r){return r<10?"0"+r:r}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"Z"}var wu=Object.prototype.toString;function Os(t){var e=wu.call(t).match(/\[object (.*)\]/);return e&&e[1]}function vu(t,e){var r={version:"1.0",encoding:"UTF-8"},n={pubid:"-//Apple//DTD PLIST 1.0//EN",sysid:"http://www.apple.com/DTDs/PropertyList-1.0.dtd"},i=yu.create("plist");return i.dec(r.version,r.encoding,r.standalone),i.dtd(n.pubid,n.sysid),i.att("version","1.0"),ar(t,i),e||(e={}),e.pretty=e.pretty!==!1,i.end(e)}function ar(t,e){var r,n,i,s=Os(t);if(s!="Undefined")if(Array.isArray(t))for(e=e.ele("array"),n=0;n<t.length;n++)ar(t[n],e);else if(Buffer.isBuffer(t))e.ele("data").raw(t.toString("base64"));else if(s=="Object"){e=e.ele("dict");for(i in t)t.hasOwnProperty(i)&&(e.ele("key").txt(i),ar(t[i],e))}else s=="Number"?(r=t%1===0?"integer":"real",e.ele(r).txt(t.toString())):s=="Date"?e.ele("date").txt(gu(new Date(t))):s=="Boolean"?e.ele(t?"true":"false"):s=="String"?e.ele("string").txt(t):s=="ArrayBuffer"?e.ele("data").raw(Ls.fromByteArray(t)):t&&t.buffer&&Os(t.buffer)=="ArrayBuffer"&&e.ele("data").raw(Ls.fromByteArray(new Uint8Array(t.buffer),e))}});var qs=x(ur=>{var Ps=Pi();Object.keys(Ps).forEach(function(t){ur[t]=Ps[t]});var Rs=Ms();Object.keys(Rs).forEach(function(t){ur[t]=Rs[t]})});var Eu={};Vs(Eu,{default:()=>Fs});module.exports=Ks(Eu);var O=require("@raycast/api"),Z=require("react");var Yn=De(require("node:process"),1),zn=De(Wn(),1);async function Ge(t){if(Yn.default.platform!=="darwin")throw new Error("macOS only");let{stdout:e}=await(0,zn.default)("osascript",["-e",t]);return e}var Xs=De(qs()),H=require("react/jsx-runtime");function Fs(t){let[e,r]=(0,Z.useState)(),[n,i]=(0,Z.useState)(!0),s=(0,O.getPreferenceValues)();async function o(){try{let N=await Ge(`tell application "Keyboard Maestro Engine"
          set macroList to getmacros with asstring
          end tell`),D=Xs.default.parse(N),p=s.filterPattern.trim(),m=p!=="",E;if(m)if(p.startsWith('"')&&p.endsWith('"')){let f=p.slice(1,-1).toLowerCase();E=y=>y.toLowerCase()===f}else if(s.useRegex){let f;try{f=new RegExp(p,"i")}catch{(0,O.showToast)({style:O.Toast.Style.Failure,title:"Error",message:"Invalid regular expression"});return}E=y=>f.test(y)}else{let f=p.toLowerCase();E=y=>y.toLowerCase().includes(f)}else E=()=>!0;let a=D.filter(f=>f.enabled&&f.name&&E(f.name)).map(f=>{let y=f.macros?.filter(b=>b.enabled);return{...f,macros:y}});r(a)}catch{(0,O.showToast)({style:O.Toast.Style.Failure,title:"Error",message:"Unable to list Macros"})}finally{i(!1)}}function u(N){Ge(`tell application "Keyboard Maestro"
        editMacro "${N.uid}"
        activate
      end tell`)}(0,Z.useEffect)(()=>{o()},[]);let[c,h]=(0,Z.useState)(t.arguments.name??""),[l,g]=(0,Z.useState)(e),v=[];return s.displayTriggers&&v.push("Typed String Trigger"),s.displayShortcuts&&v.push("Hot Key Trigger"),(0,Z.useEffect)(()=>{g(e?.map(N=>{let D=N.macros?.filter(p=>p.name?.toLowerCase().includes(c.toLowerCase()));return{...N,macros:D}}))},[c,e]),(0,H.jsx)(O.List,{isLoading:n,searchText:c,onSearchTextChange:h,children:l?.map(N=>(0,H.jsx)(O.List.Section,{title:`${N.name}`,subtitle:`${N.macros?.length}`,children:N.macros?.map(D=>{let p=D.triggers?.filter(m=>m.type&&v.includes(m.type)).map(m=>({tag:{value:m.short}}));return(0,H.jsx)(O.List.Item,{title:D?.name??"",icon:s.displayIcon?"kmicon_32.png":void 0,accessories:p,actions:(0,H.jsxs)(O.ActionPanel,{children:[(0,H.jsx)(O.Action.Open,{title:"Run Macro",target:`kmtrigger://macro=${D.uid}`,icon:O.Icon.Terminal}),(0,H.jsx)(O.Action,{title:"Edit Macro",onAction:()=>{u(D)},icon:O.Icon.Pencil,shortcut:{key:"e",modifiers:["cmd"]}})]})},D.uid)})},N.uid))})}
