var Au=Object.create;var kr=Object.defineProperty;var vu=Object.getOwnPropertyDescriptor;var Bu=Object.getOwnPropertyNames;var ku=Object.getPrototypeOf,xu=Object.prototype.hasOwnProperty;var Pi=n=>kr(n,"__esModule",{value:!0});var Dt=(n,r)=>()=>(n&&(r=n(n=0)),r);var A=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),Ai=(n,r)=>{for(var o in r)kr(n,o,{get:r[o],enumerable:!0})},vi=(n,r,o,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Bu(r))!xu.call(n,s)&&(o||s!=="default")&&kr(n,s,{get:()=>r[s],enumerable:!(a=vu(r,s))||a.enumerable});return n},me=(n,r)=>vi(Pi(kr(n!=null?Au(ku(n)):{},"default",!r&&n&&n.__esModule?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n),Iu=(n=>(r,o)=>n&&n.get(r)||(o=vi(Pi({}),r,1),n&&n.set(r,o),o))(typeof WeakMap!="undefined"?new WeakMap:0);var Bi=(n,r,o)=>{if(!r.has(n))throw TypeError("Cannot "+o)};var D=(n,r,o)=>(Bi(n,r,"read from private field"),o?o.call(n):r.get(n)),Z=(n,r,o)=>{if(r.has(n))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(n):r.set(n,o)},G=(n,r,o,a)=>(Bi(n,r,"write to private field"),a?a.call(n,o):r.set(n,o),o);var Ii=A((xr,xi)=>{(function(n,r){typeof xr=="object"&&typeof xi!="undefined"?r(xr):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis!="undefined"?globalThis:n||self,r(n.WebStreamsPolyfill={}))})(xr,function(n){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function o(){}function a(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global}let s=a();function u(e){return typeof e=="object"&&e!==null||typeof e=="function"}let f=o,p=Promise,m=Promise.prototype.then,b=Promise.resolve.bind(p),w=Promise.reject.bind(p);function T(e){return new p(e)}function S(e){return b(e)}function g(e){return w(e)}function y(e,t,i){return m.call(e,t,i)}function C(e,t,i){y(y(e,t,i),void 0,f)}function P(e,t){C(e,t)}function v(e,t){C(e,void 0,t)}function W(e,t,i){return y(e,t,i)}function N(e){y(e,void 0,f)}let k=(()=>{let e=s&&s.queueMicrotask;if(typeof e=="function")return e;let t=S(void 0);return i=>y(t,i)})();function z(e,t,i){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,i)}function I(e,t,i){try{return S(z(e,t,i))}catch(l){return g(l)}}let se=16384;class X{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let i=this._back,l=i;i._elements.length===se-1&&(l={_elements:[],_next:void 0}),i._elements.push(t),l!==i&&(this._back=l,i._next=l),++this._size}shift(){let t=this._front,i=t,l=this._cursor,c=l+1,d=t._elements,h=d[l];return c===se&&(i=t._next,c=0),--this._size,this._cursor=c,t!==i&&(this._front=i),d[l]=void 0,h}forEach(t){let i=this._cursor,l=this._front,c=l._elements;for(;(i!==c.length||l._next!==void 0)&&!(i===c.length&&(l=l._next,c=l._elements,i=0,c.length===0));)t(c[i]),++i}peek(){let t=this._front,i=this._cursor;return t._elements[i]}}function co(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?nn(e):t._state==="closed"?rl(e):fo(e,t._storedError)}function rn(e,t){let i=e._ownerReadableStream;return ce(i,t)}function ye(e){e._ownerReadableStream._state==="readable"?on(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):nl(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function Xe(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function nn(e){e._closedPromise=T((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i})}function fo(e,t){nn(e),on(e,t)}function rl(e){nn(e),ho(e)}function on(e,t){e._closedPromise_reject!==void 0&&(N(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function nl(e,t){fo(e,t)}function ho(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let mo=r("[[AbortSteps]]"),po=r("[[ErrorSteps]]"),an=r("[[CancelSteps]]"),sn=r("[[PullSteps]]"),bo=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},ol=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function il(e){return typeof e=="object"||typeof e=="function"}function ge(e,t){if(e!==void 0&&!il(e))throw new TypeError(`${t} is not an object.`)}function le(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function al(e){return typeof e=="object"&&e!==null||typeof e=="function"}function yo(e,t){if(!al(e))throw new TypeError(`${t} is not an object.`)}function Se(e,t,i){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${i}'.`)}function ln(e,t,i){if(e===void 0)throw new TypeError(`${t} is required in '${i}'.`)}function un(e){return Number(e)}function go(e){return e===0?0:e}function sl(e){return go(ol(e))}function So(e,t){let i=0,l=Number.MAX_SAFE_INTEGER,c=Number(e);if(c=go(c),!bo(c))throw new TypeError(`${t} is not a finite number`);if(c=sl(c),c<i||c>l)throw new TypeError(`${t} is outside the accepted range of ${i} to ${l}, inclusive`);return!bo(c)||c===0?0:c}function cn(e,t){if(!ke(e))throw new TypeError(`${t} is not a ReadableStream.`)}function Ke(e){return new wt(e)}function _o(e,t){e._reader._readRequests.push(t)}function fn(e,t,i){let c=e._reader._readRequests.shift();i?c._closeSteps():c._chunkSteps(t)}function Zt(e){return e._reader._readRequests.length}function wo(e){let t=e._reader;return!(t===void 0||!Pe(t))}class wt{constructor(t){if(Se(t,1,"ReadableStreamDefaultReader"),cn(t,"First parameter"),xe(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");co(this,t),this._readRequests=new X}get closed(){return Pe(this)?this._closedPromise:g(Jt("closed"))}cancel(t=void 0){return Pe(this)?this._ownerReadableStream===void 0?g(Xe("cancel")):rn(this,t):g(Jt("cancel"))}read(){if(!Pe(this))return g(Jt("read"));if(this._ownerReadableStream===void 0)return g(Xe("read from"));let t,i,l=T((d,h)=>{t=d,i=h});return Rt(this,{_chunkSteps:d=>t({value:d,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:d=>i(d)}),l}releaseLock(){if(!Pe(this))throw Jt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ye(this)}}}Object.defineProperties(wt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(wt.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Pe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof wt}function Rt(e,t){let i=e._ownerReadableStream;i._disturbed=!0,i._state==="closed"?t._closeSteps():i._state==="errored"?t._errorSteps(i._storedError):i._readableStreamController[sn](t)}function Jt(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let Ro=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class To{constructor(t,i){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=i}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?W(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let i=()=>this._returnSteps(t);return this._ongoingPromise?W(this._ongoingPromise,i,i):i()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return g(Xe("iterate"));let i,l,c=T((h,_)=>{i=h,l=_});return Rt(t,{_chunkSteps:h=>{this._ongoingPromise=void 0,k(()=>i({value:h,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,ye(t),i({value:void 0,done:!0})},_errorSteps:h=>{this._ongoingPromise=void 0,this._isFinished=!0,ye(t),l(h)}}),c}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let i=this._reader;if(i._ownerReadableStream===void 0)return g(Xe("finish iterating"));if(!this._preventCancel){let l=rn(i,t);return ye(i),W(l,()=>({value:t,done:!0}))}return ye(i),S({value:t,done:!0})}}let Eo={next(){return Co(this)?this._asyncIteratorImpl.next():g(Po("next"))},return(e){return Co(this)?this._asyncIteratorImpl.return(e):g(Po("return"))}};Ro!==void 0&&Object.setPrototypeOf(Eo,Ro);function ll(e,t){let i=Ke(e),l=new To(i,t),c=Object.create(Eo);return c._asyncIteratorImpl=l,c}function Co(e){if(!u(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof To}catch{return!1}}function Po(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let Ao=Number.isNaN||function(e){return e!==e};function Tt(e){return e.slice()}function vo(e,t,i,l,c){new Uint8Array(e).set(new Uint8Array(i,l,c),t)}function td(e){return e}function er(e){return!1}function Bo(e,t,i){if(e.slice)return e.slice(t,i);let l=i-t,c=new ArrayBuffer(l);return vo(c,0,e,t,l),c}function ul(e){return!(typeof e!="number"||Ao(e)||e<0)}function ko(e){let t=Bo(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function dn(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function hn(e,t,i){if(!ul(i)||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:i}),e._queueTotalSize+=i}function cl(e){return e._queue.peek().value}function Ae(e){e._queue=new X,e._queueTotalSize=0}class Et{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!mn(this))throw gn("view");return this._view}respond(t){if(!mn(this))throw gn("respond");if(Se(t,1,"respond"),t=So(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");er(this._view.buffer),ir(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!mn(this))throw gn("respondWithNewView");if(Se(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");er(t.buffer),ar(this._associatedReadableByteStreamController,t)}}Object.defineProperties(Et.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Ze{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!De(this))throw Pt("byobRequest");return yn(this)}get desiredSize(){if(!De(this))throw Pt("desiredSize");return Lo(this)}close(){if(!De(this))throw Pt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);Ct(this)}enqueue(t){if(!De(this))throw Pt("enqueue");if(Se(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let i=this._controlledReadableByteStream._state;if(i!=="readable")throw new TypeError(`The stream (in ${i} state) is not in the readable state and cannot be enqueued to`);or(this,t)}error(t=void 0){if(!De(this))throw Pt("error");ue(this,t)}[an](t){xo(this),Ae(this);let i=this._cancelAlgorithm(t);return nr(this),i}[sn](t){let i=this._controlledReadableByteStream;if(this._queueTotalSize>0){let c=this._queue.shift();this._queueTotalSize-=c.byteLength,Wo(this);let d=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);t._chunkSteps(d);return}let l=this._autoAllocateChunkSize;if(l!==void 0){let c;try{c=new ArrayBuffer(l)}catch(h){t._errorSteps(h);return}let d={buffer:c,bufferByteLength:l,byteOffset:0,byteLength:l,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(d)}_o(i,t),Fe(this)}}Object.defineProperties(Ze.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ze.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function De(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof Ze}function mn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof Et}function Fe(e){if(!ml(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let i=e._pullAlgorithm();C(i,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Fe(e))},l=>{ue(e,l)})}function xo(e){bn(e),e._pendingPullIntos=new X}function pn(e,t){let i=!1;e._state==="closed"&&(i=!0);let l=Io(t);t.readerType==="default"?fn(e,l,i):yl(e,l,i)}function Io(e){let t=e.bytesFilled,i=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/i)}function tr(e,t,i,l){e._queue.push({buffer:t,byteOffset:i,byteLength:l}),e._queueTotalSize+=l}function Oo(e,t){let i=t.elementSize,l=t.bytesFilled-t.bytesFilled%i,c=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),d=t.bytesFilled+c,h=d-d%i,_=c,E=!1;h>l&&(_=h-t.bytesFilled,E=!0);let x=e._queue;for(;_>0;){let O=x.peek(),q=Math.min(_,O.byteLength),M=t.byteOffset+t.bytesFilled;vo(t.buffer,M,O.buffer,O.byteOffset,q),O.byteLength===q?x.shift():(O.byteOffset+=q,O.byteLength-=q),e._queueTotalSize-=q,qo(e,q,t),_-=q}return E}function qo(e,t,i){i.bytesFilled+=t}function Wo(e){e._queueTotalSize===0&&e._closeRequested?(nr(e),qt(e._controlledReadableByteStream)):Fe(e)}function bn(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Do(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();Oo(e,t)&&(rr(e),pn(e._controlledReadableByteStream,t))}}function fl(e,t,i){let l=e._controlledReadableByteStream,c=1;t.constructor!==DataView&&(c=t.constructor.BYTES_PER_ELEMENT);let d=t.constructor,h=t.buffer,_={buffer:h,bufferByteLength:h.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:c,viewConstructor:d,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(_),Mo(l,i);return}if(l._state==="closed"){let E=new d(_.buffer,_.byteOffset,0);i._closeSteps(E);return}if(e._queueTotalSize>0){if(Oo(e,_)){let E=Io(_);Wo(e),i._chunkSteps(E);return}if(e._closeRequested){let E=new TypeError("Insufficient bytes to fill elements in the given buffer");ue(e,E),i._errorSteps(E);return}}e._pendingPullIntos.push(_),Mo(l,i),Fe(e)}function dl(e,t){let i=e._controlledReadableByteStream;if(Sn(i))for(;jo(i)>0;){let l=rr(e);pn(i,l)}}function hl(e,t,i){if(qo(e,t,i),i.bytesFilled<i.elementSize)return;rr(e);let l=i.bytesFilled%i.elementSize;if(l>0){let c=i.byteOffset+i.bytesFilled,d=Bo(i.buffer,c-l,c);tr(e,d,0,d.byteLength)}i.bytesFilled-=l,pn(e._controlledReadableByteStream,i),Do(e)}function Fo(e,t){let i=e._pendingPullIntos.peek();bn(e),e._controlledReadableByteStream._state==="closed"?dl(e):hl(e,t,i),Fe(e)}function rr(e){return e._pendingPullIntos.shift()}function ml(e){let t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(wo(t)&&Zt(t)>0||Sn(t)&&jo(t)>0||Lo(e)>0)}function nr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ct(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let l=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ue(e,l),l}nr(e),qt(t)}}function or(e,t){let i=e._controlledReadableByteStream;if(e._closeRequested||i._state!=="readable")return;let l=t.buffer,c=t.byteOffset,d=t.byteLength,h=l;if(e._pendingPullIntos.length>0){let _=e._pendingPullIntos.peek();er(_.buffer),_.buffer=_.buffer}if(bn(e),wo(i))if(Zt(i)===0)tr(e,h,c,d);else{e._pendingPullIntos.length>0&&rr(e);let _=new Uint8Array(h,c,d);fn(i,_,!1)}else Sn(i)?(tr(e,h,c,d),Do(e)):tr(e,h,c,d);Fe(e)}function ue(e,t){let i=e._controlledReadableByteStream;i._state==="readable"&&(xo(e),Ae(e),nr(e),di(i,t))}function yn(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),i=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),l=Object.create(Et.prototype);bl(l,e,i),e._byobRequest=l}return e._byobRequest}function Lo(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function ir(e,t){let i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+t>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=i.buffer,Fo(e,t)}function ar(e,t){let i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+t.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let c=t.byteLength;i.buffer=t.buffer,Fo(e,c)}function $o(e,t,i,l,c,d,h){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Ae(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=d,t._pullAlgorithm=l,t._cancelAlgorithm=c,t._autoAllocateChunkSize=h,t._pendingPullIntos=new X,e._readableStreamController=t;let _=i();C(S(_),()=>{t._started=!0,Fe(t)},E=>{ue(t,E)})}function pl(e,t,i){let l=Object.create(Ze.prototype),c=()=>{},d=()=>S(void 0),h=()=>S(void 0);t.start!==void 0&&(c=()=>t.start(l)),t.pull!==void 0&&(d=()=>t.pull(l)),t.cancel!==void 0&&(h=E=>t.cancel(E));let _=t.autoAllocateChunkSize;if(_===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");$o(e,l,c,d,h,i,_)}function bl(e,t,i){e._associatedReadableByteStreamController=t,e._view=i}function gn(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Pt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function zo(e){return new At(e)}function Mo(e,t){e._reader._readIntoRequests.push(t)}function yl(e,t,i){let c=e._reader._readIntoRequests.shift();i?c._closeSteps(t):c._chunkSteps(t)}function jo(e){return e._reader._readIntoRequests.length}function Sn(e){let t=e._reader;return!(t===void 0||!Le(t))}class At{constructor(t){if(Se(t,1,"ReadableStreamBYOBReader"),cn(t,"First parameter"),xe(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!De(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");co(this,t),this._readIntoRequests=new X}get closed(){return Le(this)?this._closedPromise:g(sr("closed"))}cancel(t=void 0){return Le(this)?this._ownerReadableStream===void 0?g(Xe("cancel")):rn(this,t):g(sr("cancel"))}read(t){if(!Le(this))return g(sr("read"));if(!ArrayBuffer.isView(t))return g(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return g(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return g(new TypeError("view's buffer must have non-zero byteLength"));if(er(t.buffer),this._ownerReadableStream===void 0)return g(Xe("read from"));let i,l,c=T((h,_)=>{i=h,l=_});return Uo(this,t,{_chunkSteps:h=>i({value:h,done:!1}),_closeSteps:h=>i({value:h,done:!0}),_errorSteps:h=>l(h)}),c}releaseLock(){if(!Le(this))throw sr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ye(this)}}}Object.defineProperties(At.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(At.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Le(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof At}function Uo(e,t,i){let l=e._ownerReadableStream;l._disturbed=!0,l._state==="errored"?i._errorSteps(l._storedError):fl(l._readableStreamController,t,i)}function sr(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function vt(e,t){let{highWaterMark:i}=e;if(i===void 0)return t;if(Ao(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function lr(e){let{size:t}=e;return t||(()=>1)}function ur(e,t){ge(e,t);let i=e==null?void 0:e.highWaterMark,l=e==null?void 0:e.size;return{highWaterMark:i===void 0?void 0:un(i),size:l===void 0?void 0:gl(l,`${t} has member 'size' that`)}}function gl(e,t){return le(e,t),i=>un(e(i))}function Sl(e,t){ge(e,t);let i=e==null?void 0:e.abort,l=e==null?void 0:e.close,c=e==null?void 0:e.start,d=e==null?void 0:e.type,h=e==null?void 0:e.write;return{abort:i===void 0?void 0:_l(i,e,`${t} has member 'abort' that`),close:l===void 0?void 0:wl(l,e,`${t} has member 'close' that`),start:c===void 0?void 0:Rl(c,e,`${t} has member 'start' that`),write:h===void 0?void 0:Tl(h,e,`${t} has member 'write' that`),type:d}}function _l(e,t,i){return le(e,i),l=>I(e,t,[l])}function wl(e,t,i){return le(e,i),()=>I(e,t,[])}function Rl(e,t,i){return le(e,i),l=>z(e,t,[l])}function Tl(e,t,i){return le(e,i),(l,c)=>I(e,t,[l,c])}function No(e,t){if(!Je(e))throw new TypeError(`${t} is not a WritableStream.`)}function El(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let Cl=typeof AbortController=="function";function Pl(){if(Cl)return new AbortController}class Bt{constructor(t={},i={}){t===void 0?t=null:yo(t,"First parameter");let l=ur(i,"Second parameter"),c=Sl(t,"First parameter");if(Go(this),c.type!==void 0)throw new RangeError("Invalid type is specified");let h=lr(l),_=vt(l,1);zl(this,c,_,h)}get locked(){if(!Je(this))throw mr("locked");return et(this)}abort(t=void 0){return Je(this)?et(this)?g(new TypeError("Cannot abort a stream that already has a writer")):cr(this,t):g(mr("abort"))}close(){return Je(this)?et(this)?g(new TypeError("Cannot close a stream that already has a writer")):he(this)?g(new TypeError("Cannot close an already-closing stream")):Vo(this):g(mr("close"))}getWriter(){if(!Je(this))throw mr("getWriter");return Ho(this)}}Object.defineProperties(Bt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Bt.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function Ho(e){return new kt(e)}function Al(e,t,i,l,c=1,d=()=>1){let h=Object.create(Bt.prototype);Go(h);let _=Object.create(tt.prototype);return Jo(h,_,e,t,i,l,c,d),h}function Go(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new X,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Je(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof Bt}function et(e){return e._writer!==void 0}function cr(e,t){var i;if(e._state==="closed"||e._state==="errored")return S(void 0);e._writableStreamController._abortReason=t,(i=e._writableStreamController._abortController)===null||i===void 0||i.abort();let l=e._state;if(l==="closed"||l==="errored")return S(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let c=!1;l==="erroring"&&(c=!0,t=void 0);let d=T((h,_)=>{e._pendingAbortRequest={_promise:void 0,_resolve:h,_reject:_,_reason:t,_wasAlreadyErroring:c}});return e._pendingAbortRequest._promise=d,c||wn(e,t),d}function Vo(e){let t=e._state;if(t==="closed"||t==="errored")return g(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let i=T((c,d)=>{let h={_resolve:c,_reject:d};e._closeRequest=h}),l=e._writer;return l!==void 0&&e._backpressure&&t==="writable"&&kn(l),Ml(e._writableStreamController),i}function vl(e){return T((i,l)=>{let c={_resolve:i,_reject:l};e._writeRequests.push(c)})}function _n(e,t){if(e._state==="writable"){wn(e,t);return}Rn(e)}function wn(e,t){let i=e._writableStreamController;e._state="erroring",e._storedError=t;let l=e._writer;l!==void 0&&Qo(l,t),!Ol(e)&&i._started&&Rn(e)}function Rn(e){e._state="errored",e._writableStreamController[po]();let t=e._storedError;if(e._writeRequests.forEach(c=>{c._reject(t)}),e._writeRequests=new X,e._pendingAbortRequest===void 0){fr(e);return}let i=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,i._wasAlreadyErroring){i._reject(t),fr(e);return}let l=e._writableStreamController[mo](i._reason);C(l,()=>{i._resolve(),fr(e)},c=>{i._reject(c),fr(e)})}function Bl(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function kl(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,_n(e,t)}function xl(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let i=e._writer;i!==void 0&&ni(i)}function Il(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),_n(e,t)}function he(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Ol(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function ql(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Wl(e){e._inFlightWriteRequest=e._writeRequests.shift()}function fr(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&vn(t,e._storedError)}function Tn(e,t){let i=e._writer;i!==void 0&&t!==e._backpressure&&(t?Yl(i):kn(i)),e._backpressure=t}class kt{constructor(t){if(Se(t,1,"WritableStreamDefaultWriter"),No(t,"First parameter"),et(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let i=t._state;if(i==="writable")!he(t)&&t._backpressure?br(this):oi(this),pr(this);else if(i==="erroring")Bn(this,t._storedError),pr(this);else if(i==="closed")oi(this),Gl(this);else{let l=t._storedError;Bn(this,l),ri(this,l)}}get closed(){return $e(this)?this._closedPromise:g(ze("closed"))}get desiredSize(){if(!$e(this))throw ze("desiredSize");if(this._ownerWritableStream===void 0)throw xt("desiredSize");return $l(this)}get ready(){return $e(this)?this._readyPromise:g(ze("ready"))}abort(t=void 0){return $e(this)?this._ownerWritableStream===void 0?g(xt("abort")):Dl(this,t):g(ze("abort"))}close(){if(!$e(this))return g(ze("close"));let t=this._ownerWritableStream;return t===void 0?g(xt("close")):he(t)?g(new TypeError("Cannot close an already-closing stream")):Yo(this)}releaseLock(){if(!$e(this))throw ze("releaseLock");this._ownerWritableStream!==void 0&&Xo(this)}write(t=void 0){return $e(this)?this._ownerWritableStream===void 0?g(xt("write to")):Ko(this,t):g(ze("write"))}}Object.defineProperties(kt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(kt.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function $e(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof kt}function Dl(e,t){let i=e._ownerWritableStream;return cr(i,t)}function Yo(e){let t=e._ownerWritableStream;return Vo(t)}function Fl(e){let t=e._ownerWritableStream,i=t._state;return he(t)||i==="closed"?S(void 0):i==="errored"?g(t._storedError):Yo(e)}function Ll(e,t){e._closedPromiseState==="pending"?vn(e,t):Vl(e,t)}function Qo(e,t){e._readyPromiseState==="pending"?ii(e,t):Ql(e,t)}function $l(e){let t=e._ownerWritableStream,i=t._state;return i==="errored"||i==="erroring"?null:i==="closed"?0:ei(t._writableStreamController)}function Xo(e){let t=e._ownerWritableStream,i=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Qo(e,i),Ll(e,i),t._writer=void 0,e._ownerWritableStream=void 0}function Ko(e,t){let i=e._ownerWritableStream,l=i._writableStreamController,c=jl(l,t);if(i!==e._ownerWritableStream)return g(xt("write to"));let d=i._state;if(d==="errored")return g(i._storedError);if(he(i)||d==="closed")return g(new TypeError("The stream is closing or closed and cannot be written to"));if(d==="erroring")return g(i._storedError);let h=vl(i);return Ul(l,t,c),h}let Zo={};class tt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!En(this))throw An("abortReason");return this._abortReason}get signal(){if(!En(this))throw An("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!En(this))throw An("error");this._controlledWritableStream._state==="writable"&&ti(this,t)}[mo](t){let i=this._abortAlgorithm(t);return dr(this),i}[po](){Ae(this)}}Object.defineProperties(tt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(tt.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function En(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof tt}function Jo(e,t,i,l,c,d,h,_){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Ae(t),t._abortReason=void 0,t._abortController=Pl(),t._started=!1,t._strategySizeAlgorithm=_,t._strategyHWM=h,t._writeAlgorithm=l,t._closeAlgorithm=c,t._abortAlgorithm=d;let E=Pn(t);Tn(e,E);let x=i(),O=S(x);C(O,()=>{t._started=!0,hr(t)},q=>{t._started=!0,_n(e,q)})}function zl(e,t,i,l){let c=Object.create(tt.prototype),d=()=>{},h=()=>S(void 0),_=()=>S(void 0),E=()=>S(void 0);t.start!==void 0&&(d=()=>t.start(c)),t.write!==void 0&&(h=x=>t.write(x,c)),t.close!==void 0&&(_=()=>t.close()),t.abort!==void 0&&(E=x=>t.abort(x)),Jo(e,c,d,h,_,E,i,l)}function dr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ml(e){hn(e,Zo,0),hr(e)}function jl(e,t){try{return e._strategySizeAlgorithm(t)}catch(i){return Cn(e,i),1}}function ei(e){return e._strategyHWM-e._queueTotalSize}function Ul(e,t,i){try{hn(e,t,i)}catch(c){Cn(e,c);return}let l=e._controlledWritableStream;if(!he(l)&&l._state==="writable"){let c=Pn(e);Tn(l,c)}hr(e)}function hr(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){Rn(t);return}if(e._queue.length===0)return;let l=cl(e);l===Zo?Nl(e):Hl(e,l)}function Cn(e,t){e._controlledWritableStream._state==="writable"&&ti(e,t)}function Nl(e){let t=e._controlledWritableStream;ql(t),dn(e);let i=e._closeAlgorithm();dr(e),C(i,()=>{xl(t)},l=>{Il(t,l)})}function Hl(e,t){let i=e._controlledWritableStream;Wl(i);let l=e._writeAlgorithm(t);C(l,()=>{Bl(i);let c=i._state;if(dn(e),!he(i)&&c==="writable"){let d=Pn(e);Tn(i,d)}hr(e)},c=>{i._state==="writable"&&dr(e),kl(i,c)})}function Pn(e){return ei(e)<=0}function ti(e,t){let i=e._controlledWritableStream;dr(e),wn(i,t)}function mr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function An(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function ze(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function xt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function pr(e){e._closedPromise=T((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i,e._closedPromiseState="pending"})}function ri(e,t){pr(e),vn(e,t)}function Gl(e){pr(e),ni(e)}function vn(e,t){e._closedPromise_reject!==void 0&&(N(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Vl(e,t){ri(e,t)}function ni(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function br(e){e._readyPromise=T((t,i)=>{e._readyPromise_resolve=t,e._readyPromise_reject=i}),e._readyPromiseState="pending"}function Bn(e,t){br(e),ii(e,t)}function oi(e){br(e),kn(e)}function ii(e,t){e._readyPromise_reject!==void 0&&(N(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Yl(e){br(e)}function Ql(e,t){Bn(e,t)}function kn(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let ai=typeof DOMException!="undefined"?DOMException:void 0;function Xl(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function Kl(){let e=function(i,l){this.message=i||"",this.name=l||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let Zl=Xl(ai)?ai:Kl();function si(e,t,i,l,c,d){let h=Ke(e),_=Ho(t);e._disturbed=!0;let E=!1,x=S(void 0);return T((O,q)=>{let M;if(d!==void 0){if(M=()=>{let R=new Zl("Aborted","AbortError"),B=[];l||B.push(()=>t._state==="writable"?cr(t,R):S(void 0)),c||B.push(()=>e._state==="readable"?ce(e,R):S(void 0)),Y(()=>Promise.all(B.map(F=>F())),!0,R)},d.aborted){M();return}d.addEventListener("abort",M)}function fe(){return T((R,B)=>{function F(K){K?R():y(ot(),F,B)}F(!1)})}function ot(){return E?S(!0):y(_._readyPromise,()=>T((R,B)=>{Rt(h,{_chunkSteps:F=>{x=y(Ko(_,F),void 0,o),R(!1)},_closeSteps:()=>R(!0),_errorSteps:B})}))}if(_e(e,h._closedPromise,R=>{l?ne(!0,R):Y(()=>cr(t,R),!0,R)}),_e(t,_._closedPromise,R=>{c?ne(!0,R):Y(()=>ce(e,R),!0,R)}),H(e,h._closedPromise,()=>{i?ne():Y(()=>Fl(_))}),he(t)||t._state==="closed"){let R=new TypeError("the destination writable stream closed before all data could be piped to it");c?ne(!0,R):Y(()=>ce(e,R),!0,R)}N(fe());function Ie(){let R=x;return y(x,()=>R!==x?Ie():void 0)}function _e(R,B,F){R._state==="errored"?F(R._storedError):v(B,F)}function H(R,B,F){R._state==="closed"?F():P(B,F)}function Y(R,B,F){if(E)return;E=!0,t._state==="writable"&&!he(t)?P(Ie(),K):K();function K(){C(R(),()=>we(B,F),it=>we(!0,it))}}function ne(R,B){E||(E=!0,t._state==="writable"&&!he(t)?P(Ie(),()=>we(R,B)):we(R,B))}function we(R,B){Xo(_),ye(h),d!==void 0&&d.removeEventListener("abort",M),R?q(B):O(void 0)}})}class rt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!yr(this))throw _r("desiredSize");return xn(this)}close(){if(!yr(this))throw _r("close");if(!nt(this))throw new TypeError("The stream is not in a state that permits close");Ot(this)}enqueue(t=void 0){if(!yr(this))throw _r("enqueue");if(!nt(this))throw new TypeError("The stream is not in a state that permits enqueue");return Sr(this,t)}error(t=void 0){if(!yr(this))throw _r("error");ve(this,t)}[an](t){Ae(this);let i=this._cancelAlgorithm(t);return gr(this),i}[sn](t){let i=this._controlledReadableStream;if(this._queue.length>0){let l=dn(this);this._closeRequested&&this._queue.length===0?(gr(this),qt(i)):It(this),t._chunkSteps(l)}else _o(i,t),It(this)}}Object.defineProperties(rt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(rt.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function yr(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof rt}function It(e){if(!li(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let i=e._pullAlgorithm();C(i,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,It(e))},l=>{ve(e,l)})}function li(e){let t=e._controlledReadableStream;return!nt(e)||!e._started?!1:!!(xe(t)&&Zt(t)>0||xn(e)>0)}function gr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ot(e){if(!nt(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(gr(e),qt(t))}function Sr(e,t){if(!nt(e))return;let i=e._controlledReadableStream;if(xe(i)&&Zt(i)>0)fn(i,t,!1);else{let l;try{l=e._strategySizeAlgorithm(t)}catch(c){throw ve(e,c),c}try{hn(e,t,l)}catch(c){throw ve(e,c),c}}It(e)}function ve(e,t){let i=e._controlledReadableStream;i._state==="readable"&&(Ae(e),gr(e),di(i,t))}function xn(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Jl(e){return!li(e)}function nt(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function ui(e,t,i,l,c,d,h){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Ae(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=h,t._strategyHWM=d,t._pullAlgorithm=l,t._cancelAlgorithm=c,e._readableStreamController=t;let _=i();C(S(_),()=>{t._started=!0,It(t)},E=>{ve(t,E)})}function eu(e,t,i,l){let c=Object.create(rt.prototype),d=()=>{},h=()=>S(void 0),_=()=>S(void 0);t.start!==void 0&&(d=()=>t.start(c)),t.pull!==void 0&&(h=()=>t.pull(c)),t.cancel!==void 0&&(_=E=>t.cancel(E)),ui(e,c,d,h,_,i,l)}function _r(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function tu(e,t){return De(e._readableStreamController)?nu(e):ru(e)}function ru(e,t){let i=Ke(e),l=!1,c=!1,d=!1,h=!1,_,E,x,O,q,M=T(H=>{q=H});function fe(){return l?(c=!0,S(void 0)):(l=!0,Rt(i,{_chunkSteps:Y=>{k(()=>{c=!1;let ne=Y,we=Y;d||Sr(x._readableStreamController,ne),h||Sr(O._readableStreamController,we),l=!1,c&&fe()})},_closeSteps:()=>{l=!1,d||Ot(x._readableStreamController),h||Ot(O._readableStreamController),(!d||!h)&&q(void 0)},_errorSteps:()=>{l=!1}}),S(void 0))}function ot(H){if(d=!0,_=H,h){let Y=Tt([_,E]),ne=ce(e,Y);q(ne)}return M}function Ie(H){if(h=!0,E=H,d){let Y=Tt([_,E]),ne=ce(e,Y);q(ne)}return M}function _e(){}return x=In(_e,fe,ot),O=In(_e,fe,Ie),v(i._closedPromise,H=>{ve(x._readableStreamController,H),ve(O._readableStreamController,H),(!d||!h)&&q(void 0)}),[x,O]}function nu(e){let t=Ke(e),i=!1,l=!1,c=!1,d=!1,h=!1,_,E,x,O,q,M=T(R=>{q=R});function fe(R){v(R._closedPromise,B=>{R===t&&(ue(x._readableStreamController,B),ue(O._readableStreamController,B),(!d||!h)&&q(void 0))})}function ot(){Le(t)&&(ye(t),t=Ke(e),fe(t)),Rt(t,{_chunkSteps:B=>{k(()=>{l=!1,c=!1;let F=B,K=B;if(!d&&!h)try{K=ko(B)}catch(it){ue(x._readableStreamController,it),ue(O._readableStreamController,it),q(ce(e,it));return}d||or(x._readableStreamController,F),h||or(O._readableStreamController,K),i=!1,l?_e():c&&H()})},_closeSteps:()=>{i=!1,d||Ct(x._readableStreamController),h||Ct(O._readableStreamController),x._readableStreamController._pendingPullIntos.length>0&&ir(x._readableStreamController,0),O._readableStreamController._pendingPullIntos.length>0&&ir(O._readableStreamController,0),(!d||!h)&&q(void 0)},_errorSteps:()=>{i=!1}})}function Ie(R,B){Pe(t)&&(ye(t),t=zo(e),fe(t));let F=B?O:x,K=B?x:O;Uo(t,R,{_chunkSteps:at=>{k(()=>{l=!1,c=!1;let st=B?h:d;if(B?d:h)st||ar(F._readableStreamController,at);else{let Ci;try{Ci=ko(at)}catch(qn){ue(F._readableStreamController,qn),ue(K._readableStreamController,qn),q(ce(e,qn));return}st||ar(F._readableStreamController,at),or(K._readableStreamController,Ci)}i=!1,l?_e():c&&H()})},_closeSteps:at=>{i=!1;let st=B?h:d,Br=B?d:h;st||Ct(F._readableStreamController),Br||Ct(K._readableStreamController),at!==void 0&&(st||ar(F._readableStreamController,at),!Br&&K._readableStreamController._pendingPullIntos.length>0&&ir(K._readableStreamController,0)),(!st||!Br)&&q(void 0)},_errorSteps:()=>{i=!1}})}function _e(){if(i)return l=!0,S(void 0);i=!0;let R=yn(x._readableStreamController);return R===null?ot():Ie(R._view,!1),S(void 0)}function H(){if(i)return c=!0,S(void 0);i=!0;let R=yn(O._readableStreamController);return R===null?ot():Ie(R._view,!0),S(void 0)}function Y(R){if(d=!0,_=R,h){let B=Tt([_,E]),F=ce(e,B);q(F)}return M}function ne(R){if(h=!0,E=R,d){let B=Tt([_,E]),F=ce(e,B);q(F)}return M}function we(){}return x=fi(we,_e,Y),O=fi(we,H,ne),fe(t),[x,O]}function ou(e,t){ge(e,t);let i=e,l=i==null?void 0:i.autoAllocateChunkSize,c=i==null?void 0:i.cancel,d=i==null?void 0:i.pull,h=i==null?void 0:i.start,_=i==null?void 0:i.type;return{autoAllocateChunkSize:l===void 0?void 0:So(l,`${t} has member 'autoAllocateChunkSize' that`),cancel:c===void 0?void 0:iu(c,i,`${t} has member 'cancel' that`),pull:d===void 0?void 0:au(d,i,`${t} has member 'pull' that`),start:h===void 0?void 0:su(h,i,`${t} has member 'start' that`),type:_===void 0?void 0:lu(_,`${t} has member 'type' that`)}}function iu(e,t,i){return le(e,i),l=>I(e,t,[l])}function au(e,t,i){return le(e,i),l=>I(e,t,[l])}function su(e,t,i){return le(e,i),l=>z(e,t,[l])}function lu(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function uu(e,t){ge(e,t);let i=e==null?void 0:e.mode;return{mode:i===void 0?void 0:cu(i,`${t} has member 'mode' that`)}}function cu(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function fu(e,t){ge(e,t);let i=e==null?void 0:e.preventCancel;return{preventCancel:Boolean(i)}}function ci(e,t){ge(e,t);let i=e==null?void 0:e.preventAbort,l=e==null?void 0:e.preventCancel,c=e==null?void 0:e.preventClose,d=e==null?void 0:e.signal;return d!==void 0&&du(d,`${t} has member 'signal' that`),{preventAbort:Boolean(i),preventCancel:Boolean(l),preventClose:Boolean(c),signal:d}}function du(e,t){if(!El(e))throw new TypeError(`${t} is not an AbortSignal.`)}function hu(e,t){ge(e,t);let i=e==null?void 0:e.readable;ln(i,"readable","ReadableWritablePair"),cn(i,`${t} has member 'readable' that`);let l=e==null?void 0:e.writable;return ln(l,"writable","ReadableWritablePair"),No(l,`${t} has member 'writable' that`),{readable:i,writable:l}}class Be{constructor(t={},i={}){t===void 0?t=null:yo(t,"First parameter");let l=ur(i,"Second parameter"),c=ou(t,"First parameter");if(On(this),c.type==="bytes"){if(l.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let d=vt(l,0);pl(this,c,d)}else{let d=lr(l),h=vt(l,1);eu(this,c,h,d)}}get locked(){if(!ke(this))throw Me("locked");return xe(this)}cancel(t=void 0){return ke(this)?xe(this)?g(new TypeError("Cannot cancel a stream that already has a reader")):ce(this,t):g(Me("cancel"))}getReader(t=void 0){if(!ke(this))throw Me("getReader");return uu(t,"First parameter").mode===void 0?Ke(this):zo(this)}pipeThrough(t,i={}){if(!ke(this))throw Me("pipeThrough");Se(t,1,"pipeThrough");let l=hu(t,"First parameter"),c=ci(i,"Second parameter");if(xe(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(et(l.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let d=si(this,l.writable,c.preventClose,c.preventAbort,c.preventCancel,c.signal);return N(d),l.readable}pipeTo(t,i={}){if(!ke(this))return g(Me("pipeTo"));if(t===void 0)return g("Parameter 1 is required in 'pipeTo'.");if(!Je(t))return g(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let l;try{l=ci(i,"Second parameter")}catch(c){return g(c)}return xe(this)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):et(t)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):si(this,t,l.preventClose,l.preventAbort,l.preventCancel,l.signal)}tee(){if(!ke(this))throw Me("tee");let t=tu(this);return Tt(t)}values(t=void 0){if(!ke(this))throw Me("values");let i=fu(t,"First parameter");return ll(this,i.preventCancel)}}Object.defineProperties(Be.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Be.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(Be.prototype,r.asyncIterator,{value:Be.prototype.values,writable:!0,configurable:!0});function In(e,t,i,l=1,c=()=>1){let d=Object.create(Be.prototype);On(d);let h=Object.create(rt.prototype);return ui(d,h,e,t,i,l,c),d}function fi(e,t,i){let l=Object.create(Be.prototype);On(l);let c=Object.create(Ze.prototype);return $o(l,c,e,t,i,0,void 0),l}function On(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function ke(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Be}function xe(e){return e._reader!==void 0}function ce(e,t){if(e._disturbed=!0,e._state==="closed")return S(void 0);if(e._state==="errored")return g(e._storedError);qt(e);let i=e._reader;i!==void 0&&Le(i)&&(i._readIntoRequests.forEach(c=>{c._closeSteps(void 0)}),i._readIntoRequests=new X);let l=e._readableStreamController[an](t);return W(l,o)}function qt(e){e._state="closed";let t=e._reader;t!==void 0&&(ho(t),Pe(t)&&(t._readRequests.forEach(i=>{i._closeSteps()}),t._readRequests=new X))}function di(e,t){e._state="errored",e._storedError=t;let i=e._reader;i!==void 0&&(on(i,t),Pe(i)?(i._readRequests.forEach(l=>{l._errorSteps(t)}),i._readRequests=new X):(i._readIntoRequests.forEach(l=>{l._errorSteps(t)}),i._readIntoRequests=new X))}function Me(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function hi(e,t){ge(e,t);let i=e==null?void 0:e.highWaterMark;return ln(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:un(i)}}let mi=e=>e.byteLength;Object.defineProperty(mi,"name",{value:"size",configurable:!0});class wr{constructor(t){Se(t,1,"ByteLengthQueuingStrategy"),t=hi(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!bi(this))throw pi("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!bi(this))throw pi("size");return mi}}Object.defineProperties(wr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(wr.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function pi(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function bi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof wr}let yi=()=>1;Object.defineProperty(yi,"name",{value:"size",configurable:!0});class Rr{constructor(t){Se(t,1,"CountQueuingStrategy"),t=hi(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Si(this))throw gi("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Si(this))throw gi("size");return yi}}Object.defineProperties(Rr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Rr.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function gi(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Si(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof Rr}function mu(e,t){ge(e,t);let i=e==null?void 0:e.flush,l=e==null?void 0:e.readableType,c=e==null?void 0:e.start,d=e==null?void 0:e.transform,h=e==null?void 0:e.writableType;return{flush:i===void 0?void 0:pu(i,e,`${t} has member 'flush' that`),readableType:l,start:c===void 0?void 0:bu(c,e,`${t} has member 'start' that`),transform:d===void 0?void 0:yu(d,e,`${t} has member 'transform' that`),writableType:h}}function pu(e,t,i){return le(e,i),l=>I(e,t,[l])}function bu(e,t,i){return le(e,i),l=>z(e,t,[l])}function yu(e,t,i){return le(e,i),(l,c)=>I(e,t,[l,c])}class Tr{constructor(t={},i={},l={}){t===void 0&&(t=null);let c=ur(i,"Second parameter"),d=ur(l,"Third parameter"),h=mu(t,"First parameter");if(h.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(h.writableType!==void 0)throw new RangeError("Invalid writableType specified");let _=vt(d,0),E=lr(d),x=vt(c,1),O=lr(c),q,M=T(fe=>{q=fe});gu(this,M,x,O,_,E),_u(this,h),h.start!==void 0?q(h.start(this._transformStreamController)):q(void 0)}get readable(){if(!_i(this))throw Ei("readable");return this._readable}get writable(){if(!_i(this))throw Ei("writable");return this._writable}}Object.defineProperties(Tr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Tr.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function gu(e,t,i,l,c,d){function h(){return t}function _(M){return Tu(e,M)}function E(M){return Eu(e,M)}function x(){return Cu(e)}e._writable=Al(h,_,x,E,i,l);function O(){return Pu(e)}function q(M){return Cr(e,M),S(void 0)}e._readable=In(h,O,q,c,d),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Pr(e,!0),e._transformStreamController=void 0}function _i(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof Tr}function Er(e,t){ve(e._readable._readableStreamController,t),Cr(e,t)}function Cr(e,t){wi(e._transformStreamController),Cn(e._writable._writableStreamController,t),e._backpressure&&Pr(e,!1)}function Pr(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=T(i=>{e._backpressureChangePromise_resolve=i}),e._backpressure=t}class Wt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ar(this))throw vr("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return xn(t)}enqueue(t=void 0){if(!Ar(this))throw vr("enqueue");Ri(this,t)}error(t=void 0){if(!Ar(this))throw vr("error");wu(this,t)}terminate(){if(!Ar(this))throw vr("terminate");Ru(this)}}Object.defineProperties(Wt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Wt.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Ar(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Wt}function Su(e,t,i,l){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=i,t._flushAlgorithm=l}function _u(e,t){let i=Object.create(Wt.prototype),l=d=>{try{return Ri(i,d),S(void 0)}catch(h){return g(h)}},c=()=>S(void 0);t.transform!==void 0&&(l=d=>t.transform(d,i)),t.flush!==void 0&&(c=()=>t.flush(i)),Su(e,i,l,c)}function wi(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Ri(e,t){let i=e._controlledTransformStream,l=i._readable._readableStreamController;if(!nt(l))throw new TypeError("Readable side is not in a state that permits enqueue");try{Sr(l,t)}catch(d){throw Cr(i,d),i._readable._storedError}Jl(l)!==i._backpressure&&Pr(i,!0)}function wu(e,t){Er(e._controlledTransformStream,t)}function Ti(e,t){let i=e._transformAlgorithm(t);return W(i,void 0,l=>{throw Er(e._controlledTransformStream,l),l})}function Ru(e){let t=e._controlledTransformStream,i=t._readable._readableStreamController;Ot(i);let l=new TypeError("TransformStream terminated");Cr(t,l)}function Tu(e,t){let i=e._transformStreamController;if(e._backpressure){let l=e._backpressureChangePromise;return W(l,()=>{let c=e._writable;if(c._state==="erroring")throw c._storedError;return Ti(i,t)})}return Ti(i,t)}function Eu(e,t){return Er(e,t),S(void 0)}function Cu(e){let t=e._readable,i=e._transformStreamController,l=i._flushAlgorithm();return wi(i),W(l,()=>{if(t._state==="errored")throw t._storedError;Ot(t._readableStreamController)},c=>{throw Er(e,c),t._storedError})}function Pu(e){return Pr(e,!1),e._backpressureChangePromise}function vr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Ei(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}n.ByteLengthQueuingStrategy=wr,n.CountQueuingStrategy=Rr,n.ReadableByteStreamController=Ze,n.ReadableStream=Be,n.ReadableStreamBYOBReader=At,n.ReadableStreamBYOBRequest=Et,n.ReadableStreamDefaultController=rt,n.ReadableStreamDefaultReader=wt,n.TransformStream=Tr,n.TransformStreamDefaultController=Wt,n.WritableStream=Bt,n.WritableStreamDefaultController=tt,n.WritableStreamDefaultWriter=kt,Object.defineProperty(n,"__esModule",{value:!0})})});var Oi=A(()=>{var qu=65536;if(!globalThis.ReadableStream)try{let n=require("process"),{emitWarning:r}=n;try{n.emitWarning=()=>{},Object.assign(globalThis,require("stream/web")),n.emitWarning=r}catch(o){throw n.emitWarning=r,o}}catch{Object.assign(globalThis,Ii())}try{let{Blob:n}=require("buffer");n&&!n.prototype.stream&&(n.prototype.stream=function(o){let a=0,s=this;return new ReadableStream({type:"bytes",async pull(u){let p=await s.slice(a,Math.min(s.size,a+qu)).arrayBuffer();a+=p.byteLength,u.enqueue(new Uint8Array(p)),a===s.size&&u.close()}})})}catch{}});async function*Wn(n,r=!0){for(let o of n)if("stream"in o)yield*o.stream();else if(ArrayBuffer.isView(o))if(r){let a=o.byteOffset,s=o.byteOffset+o.byteLength;for(;a!==s;){let u=Math.min(s-a,qi),f=o.buffer.slice(a,a+u);a+=f.byteLength,yield new Uint8Array(f)}}else yield o;else{let a=0,s=o;for(;a!==s.size;){let f=await s.slice(a,Math.min(s.size,a+qi)).arrayBuffer();a+=f.byteLength,yield new Uint8Array(f)}}}var ad,qi,Te,Ft,lt,Ir,ut,Wi,Wu,Re,Lt=Dt(()=>{ad=me(Oi(),1);qi=65536;Wi=(ut=class{constructor(r=[],o={}){Z(this,Te,[]);Z(this,Ft,"");Z(this,lt,0);Z(this,Ir,"transparent");if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof o!="object"&&typeof o!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");o===null&&(o={});let a=new TextEncoder;for(let u of r){let f;ArrayBuffer.isView(u)?f=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?f=new Uint8Array(u.slice(0)):u instanceof ut?f=u:f=a.encode(`${u}`),G(this,lt,D(this,lt)+(ArrayBuffer.isView(f)?f.byteLength:f.size)),D(this,Te).push(f)}G(this,Ir,`${o.endings===void 0?"transparent":o.endings}`);let s=o.type===void 0?"":String(o.type);G(this,Ft,/^[\x20-\x7E]*$/.test(s)?s:"")}get size(){return D(this,lt)}get type(){return D(this,Ft)}async text(){let r=new TextDecoder,o="";for await(let a of Wn(D(this,Te),!1))o+=r.decode(a,{stream:!0});return o+=r.decode(),o}async arrayBuffer(){let r=new Uint8Array(this.size),o=0;for await(let a of Wn(D(this,Te),!1))r.set(a,o),o+=a.length;return r.buffer}stream(){let r=Wn(D(this,Te),!0);return new globalThis.ReadableStream({type:"bytes",async pull(o){let a=await r.next();a.done?o.close():o.enqueue(a.value)},async cancel(){await r.return()}})}slice(r=0,o=this.size,a=""){let{size:s}=this,u=r<0?Math.max(s+r,0):Math.min(r,s),f=o<0?Math.max(s+o,0):Math.min(o,s),p=Math.max(f-u,0),m=D(this,Te),b=[],w=0;for(let S of m){if(w>=p)break;let g=ArrayBuffer.isView(S)?S.byteLength:S.size;if(u&&g<=u)u-=g,f-=g;else{let y;ArrayBuffer.isView(S)?(y=S.subarray(u,Math.min(g,f)),w+=y.byteLength):(y=S.slice(u,Math.min(g,f)),w+=y.size),f-=g,b.push(y),u=0}}let T=new ut([],{type:String(a).toLowerCase()});return G(T,lt,p),G(T,Te,b),T}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}},Te=new WeakMap,Ft=new WeakMap,lt=new WeakMap,Ir=new WeakMap,ut);Object.defineProperties(Wi.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Wu=Wi,Re=Wu});var $t,zt,Di,Du,Fu,ct,Dn=Dt(()=>{Lt();Du=(Di=class extends Re{constructor(r,o,a={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,a);Z(this,$t,0);Z(this,zt,"");a===null&&(a={});let s=a.lastModified===void 0?Date.now():Number(a.lastModified);Number.isNaN(s)||G(this,$t,s),G(this,zt,String(o))}get name(){return D(this,zt)}get lastModified(){return D(this,$t)}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof Re&&/^(File)$/.test(r[Symbol.toStringTag])}},$t=new WeakMap,zt=new WeakMap,Di),Fu=Du,ct=Fu});function $i(n,r=Re){var o=`${Fi()}${Fi()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),a=[],s=`--${o}\r
Content-Disposition: form-data; name="`;return n.forEach((u,f)=>typeof u=="string"?a.push(s+Fn(f)+`"\r
\r
${u.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):a.push(s+Fn(f)+`"; filename="${Fn(u.name,1)}"\r
Content-Type: ${u.type||"application/octet-stream"}\r
\r
`,u,`\r
`)),a.push(`--${o}--`),new r(a,{type:"multipart/form-data; boundary="+o})}var Mt,Lu,$u,Fi,zu,Li,Fn,je,oe,zi,Ue,Or=Dt(()=>{Lt();Dn();({toStringTag:Mt,iterator:Lu,hasInstance:$u}=Symbol),Fi=Math.random,zu="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),Li=(n,r,o)=>(n+="",/^(Blob|File)$/.test(r&&r[Mt])?[(o=o!==void 0?o+"":r[Mt]=="File"?r.name:"blob",n),r.name!==o||r[Mt]=="blob"?new ct([r],o,r):r]:[n,r+""]),Fn=(n,r)=>(r?n:n.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),je=(n,r,o)=>{if(r.length<o)throw new TypeError(`Failed to execute '${n}' on 'FormData': ${o} arguments required, but only ${r.length} present.`)},Ue=(zi=class{constructor(...r){Z(this,oe,[]);if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Mt](){return"FormData"}[Lu](){return this.entries()}static[$u](r){return r&&typeof r=="object"&&r[Mt]==="FormData"&&!zu.some(o=>typeof r[o]!="function")}append(...r){je("append",arguments,2),D(this,oe).push(Li(...r))}delete(r){je("delete",arguments,1),r+="",G(this,oe,D(this,oe).filter(([o])=>o!==r))}get(r){je("get",arguments,1),r+="";for(var o=D(this,oe),a=o.length,s=0;s<a;s++)if(o[s][0]===r)return o[s][1];return null}getAll(r,o){return je("getAll",arguments,1),o=[],r+="",D(this,oe).forEach(a=>a[0]===r&&o.push(a[1])),o}has(r){return je("has",arguments,1),r+="",D(this,oe).some(o=>o[0]===r)}forEach(r,o){je("forEach",arguments,1);for(var[a,s]of this)r.call(o,s,a,this)}set(...r){je("set",arguments,2);var o=[],a=!0;r=Li(...r),D(this,oe).forEach(s=>{s[0]===r[0]?a&&(a=!o.push(r)):o.push(s)}),a&&o.push(r),G(this,oe,o)}*entries(){yield*D(this,oe)}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}},oe=new WeakMap,zi)});var Ni=A((Sd,Ui)=>{if(!globalThis.DOMException)try{let{MessageChannel:n}=require("worker_threads"),r=new n().port1,o=new ArrayBuffer;r.postMessage(o,[o,o])}catch(n){n.constructor.name==="DOMException"&&(globalThis.DOMException=n.constructor)}Ui.exports=globalThis.DOMException});var Ut,Hi,Mu,Ne,He,$n,ju,zn=Dt(()=>{Ut=require("fs"),Hi=me(Ni(),1);Dn();Lt();({stat:Mu}=Ut.promises),$n=class{constructor(r){Z(this,Ne,void 0);Z(this,He,void 0);G(this,Ne,r.path),G(this,He,r.start),this.size=r.size,this.lastModified=r.lastModified}slice(r,o){return new $n({path:D(this,Ne),lastModified:this.lastModified,size:o-r,start:D(this,He)+r})}async*stream(){let{mtimeMs:r}=await Mu(D(this,Ne));if(r>this.lastModified)throw new Hi.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,Ut.createReadStream)(D(this,Ne),{start:D(this,He),end:D(this,He)+this.size-1})}get[Symbol.toStringTag](){return"Blob"}},ju=$n;Ne=new WeakMap,He=new WeakMap});var Yi={};Ai(Yi,{toFormData:()=>Qu});function Yu(n){let r=n.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let o=r[2]||r[3]||"",a=o.slice(o.lastIndexOf("\\")+1);return a=a.replace(/%22/g,'"'),a=a.replace(/&#(\d{4});/g,(s,u)=>String.fromCharCode(u)),a}async function Qu(n,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let o=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!o)throw new TypeError("no or bad content-type header, no multipart boundary");let a=new Vi(o[1]||o[2]),s,u,f,p,m,b,w=[],T=new Ue,S=v=>{f+=P.decode(v,{stream:!0})},g=v=>{w.push(v)},y=()=>{let v=new ct(w,b,{type:m});T.append(p,v)},C=()=>{T.append(p,f)},P=new TextDecoder("utf-8");P.decode(),a.onPartBegin=function(){a.onPartData=S,a.onPartEnd=C,s="",u="",f="",p="",m="",b=null,w.length=0},a.onHeaderField=function(v){s+=P.decode(v,{stream:!0})},a.onHeaderValue=function(v){u+=P.decode(v,{stream:!0})},a.onHeaderEnd=function(){if(u+=P.decode(),s=s.toLowerCase(),s==="content-disposition"){let v=u.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);v&&(p=v[2]||v[3]||""),b=Yu(u),b&&(a.onPartData=g,a.onPartEnd=y)}else s==="content-type"&&(m=u);u="",s=""};for await(let v of n)a.write(v);return a.end(),T}var pe,L,Gi,qe,Wr,Dr,Uu,Nt,Nu,Hu,Gu,Vu,Ge,Vi,Qi=Dt(()=>{zn();Or();pe=0,L={START_BOUNDARY:pe++,HEADER_FIELD_START:pe++,HEADER_FIELD:pe++,HEADER_VALUE_START:pe++,HEADER_VALUE:pe++,HEADER_VALUE_ALMOST_DONE:pe++,HEADERS_ALMOST_DONE:pe++,PART_DATA_START:pe++,PART_DATA:pe++,END:pe++},Gi=1,qe={PART_BOUNDARY:Gi,LAST_BOUNDARY:Gi*=2},Wr=10,Dr=13,Uu=32,Nt=45,Nu=58,Hu=97,Gu=122,Vu=n=>n|32,Ge=()=>{},Vi=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=Ge,this.onHeaderField=Ge,this.onHeadersEnd=Ge,this.onHeaderValue=Ge,this.onPartBegin=Ge,this.onPartData=Ge,this.onPartEnd=Ge,this.boundaryChars={},r=`\r
--`+r;let o=new Uint8Array(r.length);for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a),this.boundaryChars[o[a]]=!0;this.boundary=o,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=L.START_BOUNDARY}write(r){let o=0,a=r.length,s=this.index,{lookbehind:u,boundary:f,boundaryChars:p,index:m,state:b,flags:w}=this,T=this.boundary.length,S=T-1,g=r.length,y,C,P=k=>{this[k+"Mark"]=o},v=k=>{delete this[k+"Mark"]},W=(k,z,I,se)=>{(z===void 0||z!==I)&&this[k](se&&se.subarray(z,I))},N=(k,z)=>{let I=k+"Mark";I in this&&(z?(W(k,this[I],o,r),delete this[I]):(W(k,this[I],r.length,r),this[I]=0))};for(o=0;o<a;o++)switch(y=r[o],b){case L.START_BOUNDARY:if(m===f.length-2){if(y===Nt)w|=qe.LAST_BOUNDARY;else if(y!==Dr)return;m++;break}else if(m-1===f.length-2){if(w&qe.LAST_BOUNDARY&&y===Nt)b=L.END,w=0;else if(!(w&qe.LAST_BOUNDARY)&&y===Wr)m=0,W("onPartBegin"),b=L.HEADER_FIELD_START;else return;break}y!==f[m+2]&&(m=-2),y===f[m+2]&&m++;break;case L.HEADER_FIELD_START:b=L.HEADER_FIELD,P("onHeaderField"),m=0;case L.HEADER_FIELD:if(y===Dr){v("onHeaderField"),b=L.HEADERS_ALMOST_DONE;break}if(m++,y===Nt)break;if(y===Nu){if(m===1)return;N("onHeaderField",!0),b=L.HEADER_VALUE_START;break}if(C=Vu(y),C<Hu||C>Gu)return;break;case L.HEADER_VALUE_START:if(y===Uu)break;P("onHeaderValue"),b=L.HEADER_VALUE;case L.HEADER_VALUE:y===Dr&&(N("onHeaderValue",!0),W("onHeaderEnd"),b=L.HEADER_VALUE_ALMOST_DONE);break;case L.HEADER_VALUE_ALMOST_DONE:if(y!==Wr)return;b=L.HEADER_FIELD_START;break;case L.HEADERS_ALMOST_DONE:if(y!==Wr)return;W("onHeadersEnd"),b=L.PART_DATA_START;break;case L.PART_DATA_START:b=L.PART_DATA,P("onPartData");case L.PART_DATA:if(s=m,m===0){for(o+=S;o<g&&!(r[o]in p);)o+=T;o-=S,y=r[o]}if(m<f.length)f[m]===y?(m===0&&N("onPartData",!0),m++):m=0;else if(m===f.length)m++,y===Dr?w|=qe.PART_BOUNDARY:y===Nt?w|=qe.LAST_BOUNDARY:m=0;else if(m-1===f.length)if(w&qe.PART_BOUNDARY){if(m=0,y===Wr){w&=~qe.PART_BOUNDARY,W("onPartEnd"),W("onPartBegin"),b=L.HEADER_FIELD_START;break}}else w&qe.LAST_BOUNDARY&&y===Nt?(W("onPartEnd"),b=L.END,w=0):m=0;if(m>0)u[m-1]=y;else if(s>0){let k=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);W("onPartData",0,s,k),s=0,P("onPartData"),o--}break;case L.END:break;default:throw new Error(`Unexpected state entered: ${b}`)}N("onHeaderField"),N("onHeaderValue"),N("onPartData"),this.index=m,this.state=b,this.flags=w}end(){if(this.state===L.HEADER_FIELD_START&&this.index===0||this.state===L.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==L.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var ba=A((ch,pa)=>{pa.exports=ma;ma.sync=oc;var da=require("fs");function nc(n,r){var o=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!o||(o=o.split(";"),o.indexOf("")!==-1))return!0;for(var a=0;a<o.length;a++){var s=o[a].toLowerCase();if(s&&n.substr(-s.length).toLowerCase()===s)return!0}return!1}function ha(n,r,o){return!n.isSymbolicLink()&&!n.isFile()?!1:nc(r,o)}function ma(n,r,o){da.stat(n,function(a,s){o(a,a?!1:ha(s,n,r))})}function oc(n,r){return ha(da.statSync(n),n,r)}});var wa=A((fh,_a)=>{_a.exports=ga;ga.sync=ic;var ya=require("fs");function ga(n,r,o){ya.stat(n,function(a,s){o(a,a?!1:Sa(s,r))})}function ic(n,r){return Sa(ya.statSync(n),r)}function Sa(n,r){return n.isFile()&&ac(n,r)}function ac(n,r){var o=n.mode,a=n.uid,s=n.gid,u=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),f=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),p=parseInt("100",8),m=parseInt("010",8),b=parseInt("001",8),w=p|m,T=o&b||o&m&&s===f||o&p&&a===u||o&w&&u===0;return T}});var Ta=A((hh,Ra)=>{var dh=require("fs"),Ur;process.platform==="win32"||global.TESTING_WINDOWS?Ur=ba():Ur=wa();Ra.exports=Nn;Nn.sync=sc;function Nn(n,r,o){if(typeof r=="function"&&(o=r,r={}),!o){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(a,s){Nn(n,r||{},function(u,f){u?s(u):a(f)})})}Ur(n,r||{},function(a,s){a&&(a.code==="EACCES"||r&&r.ignoreErrors)&&(a=null,s=!1),o(a,s)})}function sc(n,r){try{return Ur.sync(n,r||{})}catch(o){if(r&&r.ignoreErrors||o.code==="EACCES")return!1;throw o}}});var ka=A((mh,Ba)=>{var ht=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Ea=require("path"),lc=ht?";":":",Ca=Ta(),Pa=n=>Object.assign(new Error(`not found: ${n}`),{code:"ENOENT"}),Aa=(n,r)=>{let o=r.colon||lc,a=n.match(/\//)||ht&&n.match(/\\/)?[""]:[...ht?[process.cwd()]:[],...(r.path||process.env.PATH||"").split(o)],s=ht?r.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",u=ht?s.split(o):[""];return ht&&n.indexOf(".")!==-1&&u[0]!==""&&u.unshift(""),{pathEnv:a,pathExt:u,pathExtExe:s}},va=(n,r,o)=>{typeof r=="function"&&(o=r,r={}),r||(r={});let{pathEnv:a,pathExt:s,pathExtExe:u}=Aa(n,r),f=[],p=b=>new Promise((w,T)=>{if(b===a.length)return r.all&&f.length?w(f):T(Pa(n));let S=a[b],g=/^".*"$/.test(S)?S.slice(1,-1):S,y=Ea.join(g,n),C=!g&&/^\.[\\\/]/.test(n)?n.slice(0,2)+y:y;w(m(C,b,0))}),m=(b,w,T)=>new Promise((S,g)=>{if(T===s.length)return S(p(w+1));let y=s[T];Ca(b+y,{pathExt:u},(C,P)=>{if(!C&&P)if(r.all)f.push(b+y);else return S(b+y);return S(m(b,w,T+1))})});return o?p(0).then(b=>o(null,b),o):p(0)},uc=(n,r)=>{r=r||{};let{pathEnv:o,pathExt:a,pathExtExe:s}=Aa(n,r),u=[];for(let f=0;f<o.length;f++){let p=o[f],m=/^".*"$/.test(p)?p.slice(1,-1):p,b=Ea.join(m,n),w=!m&&/^\.[\\\/]/.test(n)?n.slice(0,2)+b:b;for(let T=0;T<a.length;T++){let S=w+a[T];try{if(Ca.sync(S,{pathExt:s}))if(r.all)u.push(S);else return S}catch{}}}if(r.all&&u.length)return u;if(r.nothrow)return null;throw Pa(n)};Ba.exports=va;va.sync=uc});var Gn=A((ph,Hn)=>{"use strict";var xa=(n={})=>{let r=n.env||process.env;return(n.platform||process.platform)!=="win32"?"PATH":Object.keys(r).reverse().find(a=>a.toUpperCase()==="PATH")||"Path"};Hn.exports=xa;Hn.exports.default=xa});var Wa=A((bh,qa)=>{"use strict";var Ia=require("path"),cc=ka(),fc=Gn();function Oa(n,r){let o=n.options.env||process.env,a=process.cwd(),s=n.options.cwd!=null,u=s&&process.chdir!==void 0&&!process.chdir.disabled;if(u)try{process.chdir(n.options.cwd)}catch{}let f;try{f=cc.sync(n.command,{path:o[fc({env:o})],pathExt:r?Ia.delimiter:void 0})}catch{}finally{u&&process.chdir(a)}return f&&(f=Ia.resolve(s?n.options.cwd:"",f)),f}function dc(n){return Oa(n)||Oa(n,!0)}qa.exports=dc});var Da=A((yh,Yn)=>{"use strict";var Vn=/([()\][%!^"`<>&|;, *?])/g;function hc(n){return n=n.replace(Vn,"^$1"),n}function mc(n,r){return n=`${n}`,n=n.replace(/(\\*)"/g,'$1$1\\"'),n=n.replace(/(\\*)$/,"$1$1"),n=`"${n}"`,n=n.replace(Vn,"^$1"),r&&(n=n.replace(Vn,"^$1")),n}Yn.exports.command=hc;Yn.exports.argument=mc});var La=A((gh,Fa)=>{"use strict";Fa.exports=/^#!(.*)/});var za=A((Sh,$a)=>{"use strict";var pc=La();$a.exports=(n="")=>{let r=n.match(pc);if(!r)return null;let[o,a]=r[0].replace(/#! ?/,"").split(" "),s=o.split("/").pop();return s==="env"?a:a?`${s} ${a}`:s}});var ja=A((_h,Ma)=>{"use strict";var Qn=require("fs"),bc=za();function yc(n){let r=150,o=Buffer.alloc(r),a;try{a=Qn.openSync(n,"r"),Qn.readSync(a,o,0,r,0),Qn.closeSync(a)}catch{}return bc(o.toString())}Ma.exports=yc});var Ga=A((wh,Ha)=>{"use strict";var gc=require("path"),Ua=Wa(),Na=Da(),Sc=ja(),_c=process.platform==="win32",wc=/\.(?:com|exe)$/i,Rc=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Tc(n){n.file=Ua(n);let r=n.file&&Sc(n.file);return r?(n.args.unshift(n.file),n.command=r,Ua(n)):n.file}function Ec(n){if(!_c)return n;let r=Tc(n),o=!wc.test(r);if(n.options.forceShell||o){let a=Rc.test(r);n.command=gc.normalize(n.command),n.command=Na.command(n.command),n.args=n.args.map(u=>Na.argument(u,a));let s=[n.command].concat(n.args).join(" ");n.args=["/d","/s","/c",`"${s}"`],n.command=process.env.comspec||"cmd.exe",n.options.windowsVerbatimArguments=!0}return n}function Cc(n,r,o){r&&!Array.isArray(r)&&(o=r,r=null),r=r?r.slice(0):[],o=Object.assign({},o);let a={command:n,args:r,options:o,file:void 0,original:{command:n,args:r}};return o.shell?a:Ec(a)}Ha.exports=Cc});var Qa=A((Rh,Ya)=>{"use strict";var Xn=process.platform==="win32";function Kn(n,r){return Object.assign(new Error(`${r} ${n.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${r} ${n.command}`,path:n.command,spawnargs:n.args})}function Pc(n,r){if(!Xn)return;let o=n.emit;n.emit=function(a,s){if(a==="exit"){let u=Va(s,r,"spawn");if(u)return o.call(n,"error",u)}return o.apply(n,arguments)}}function Va(n,r){return Xn&&n===1&&!r.file?Kn(r.original,"spawn"):null}function Ac(n,r){return Xn&&n===1&&!r.file?Kn(r.original,"spawnSync"):null}Ya.exports={hookChildProcess:Pc,verifyENOENT:Va,verifyENOENTSync:Ac,notFoundError:Kn}});var Za=A((Th,mt)=>{"use strict";var Xa=require("child_process"),Zn=Ga(),Jn=Qa();function Ka(n,r,o){let a=Zn(n,r,o),s=Xa.spawn(a.command,a.args,a.options);return Jn.hookChildProcess(s,a),s}function vc(n,r,o){let a=Zn(n,r,o),s=Xa.spawnSync(a.command,a.args,a.options);return s.error=s.error||Jn.verifyENOENTSync(s.status,a),s}mt.exports=Ka;mt.exports.spawn=Ka;mt.exports.sync=vc;mt.exports._parse=Zn;mt.exports._enoent=Jn});var es=A((Eh,Ja)=>{"use strict";Ja.exports=n=>{let r=typeof n=="string"?`
`:`
`.charCodeAt(),o=typeof n=="string"?"\r":"\r".charCodeAt();return n[n.length-1]===r&&(n=n.slice(0,n.length-1)),n[n.length-1]===o&&(n=n.slice(0,n.length-1)),n}});var ns=A((Ch,Yt)=>{"use strict";var Vt=require("path"),ts=Gn(),rs=n=>{n={cwd:process.cwd(),path:process.env[ts()],execPath:process.execPath,...n};let r,o=Vt.resolve(n.cwd),a=[];for(;r!==o;)a.push(Vt.join(o,"node_modules/.bin")),r=o,o=Vt.resolve(o,"..");let s=Vt.resolve(n.cwd,n.execPath,"..");return a.push(s),a.concat(n.path).join(Vt.delimiter)};Yt.exports=rs;Yt.exports.default=rs;Yt.exports.env=n=>{n={env:process.env,...n};let r={...n.env},o=ts({env:r});return n.path=r[o],r[o]=Yt.exports(n),r}});var is=A((Ph,eo)=>{"use strict";var os=(n,r)=>{for(let o of Reflect.ownKeys(r))Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(r,o));return n};eo.exports=os;eo.exports.default=os});var ss=A((Ah,Hr)=>{"use strict";var Bc=is(),Nr=new WeakMap,as=(n,r={})=>{if(typeof n!="function")throw new TypeError("Expected a function");let o,a=0,s=n.displayName||n.name||"<anonymous>",u=function(...f){if(Nr.set(u,++a),a===1)o=n.apply(this,f),n=null;else if(r.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return o};return Bc(u,n),Nr.set(u,a),u};Hr.exports=as;Hr.exports.default=as;Hr.exports.callCount=n=>{if(!Nr.has(n))throw new Error(`The given function \`${n.name}\` is not wrapped by the \`onetime\` package`);return Nr.get(n)}});var ls=A(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.SIGNALS=void 0;var kc=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];Gr.SIGNALS=kc});var to=A(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.SIGRTMAX=pt.getRealtimeSignals=void 0;var xc=function(){let n=cs-us+1;return Array.from({length:n},Ic)};pt.getRealtimeSignals=xc;var Ic=function(n,r){return{name:`SIGRT${r+1}`,number:us+r,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},us=34,cs=64;pt.SIGRTMAX=cs});var fs=A(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.getSignals=void 0;var Oc=require("os"),qc=ls(),Wc=to(),Dc=function(){let n=(0,Wc.getRealtimeSignals)();return[...qc.SIGNALS,...n].map(Fc)};Vr.getSignals=Dc;var Fc=function({name:n,number:r,description:o,action:a,forced:s=!1,standard:u}){let{signals:{[n]:f}}=Oc.constants,p=f!==void 0;return{name:n,number:p?f:r,description:o,supported:p,action:a,forced:s,standard:u}}});var hs=A(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.signalsByNumber=bt.signalsByName=void 0;var Lc=require("os"),ds=fs(),$c=to(),zc=function(){return(0,ds.getSignals)().reduce(Mc,{})},Mc=function(n,{name:r,number:o,description:a,supported:s,action:u,forced:f,standard:p}){return{...n,[r]:{name:r,number:o,description:a,supported:s,action:u,forced:f,standard:p}}},jc=zc();bt.signalsByName=jc;var Uc=function(){let n=(0,ds.getSignals)(),r=$c.SIGRTMAX+1,o=Array.from({length:r},(a,s)=>Nc(s,n));return Object.assign({},...o)},Nc=function(n,r){let o=Hc(n,r);if(o===void 0)return{};let{name:a,description:s,supported:u,action:f,forced:p,standard:m}=o;return{[n]:{name:a,number:n,description:s,supported:u,action:f,forced:p,standard:m}}},Hc=function(n,r){let o=r.find(({name:a})=>Lc.constants.signals[a]===n);return o!==void 0?o:r.find(a=>a.number===n)},Gc=Uc();bt.signalsByNumber=Gc});var ps=A((Ih,ms)=>{"use strict";var{signalsByName:Vc}=hs(),Yc=({timedOut:n,timeout:r,errorCode:o,signal:a,signalDescription:s,exitCode:u,isCanceled:f})=>n?`timed out after ${r} milliseconds`:f?"was canceled":o!==void 0?`failed with ${o}`:a!==void 0?`was killed with ${a} (${s})`:u!==void 0?`failed with exit code ${u}`:"failed",Qc=({stdout:n,stderr:r,all:o,error:a,signal:s,exitCode:u,command:f,escapedCommand:p,timedOut:m,isCanceled:b,killed:w,parsed:{options:{timeout:T}}})=>{u=u===null?void 0:u,s=s===null?void 0:s;let S=s===void 0?void 0:Vc[s].description,g=a&&a.code,C=`Command ${Yc({timedOut:m,timeout:T,errorCode:g,signal:s,signalDescription:S,exitCode:u,isCanceled:b})}: ${f}`,P=Object.prototype.toString.call(a)==="[object Error]",v=P?`${C}
${a.message}`:C,W=[v,r,n].filter(Boolean).join(`
`);return P?(a.originalMessage=a.message,a.message=W):a=new Error(W),a.shortMessage=v,a.command=f,a.escapedCommand=p,a.exitCode=u,a.signal=s,a.signalDescription=S,a.stdout=n,a.stderr=r,o!==void 0&&(a.all=o),"bufferedData"in a&&delete a.bufferedData,a.failed=!0,a.timedOut=Boolean(m),a.isCanceled=b,a.killed=w&&!m,a};ms.exports=Qc});var ys=A((Oh,ro)=>{"use strict";var Yr=["stdin","stdout","stderr"],Xc=n=>Yr.some(r=>n[r]!==void 0),bs=n=>{if(!n)return;let{stdio:r}=n;if(r===void 0)return Yr.map(a=>n[a]);if(Xc(n))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Yr.map(a=>`\`${a}\``).join(", ")}`);if(typeof r=="string")return r;if(!Array.isArray(r))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof r}\``);let o=Math.max(r.length,Yr.length);return Array.from({length:o},(a,s)=>r[s])};ro.exports=bs;ro.exports.node=n=>{let r=bs(n);return r==="ipc"?"ipc":r===void 0||typeof r=="string"?[r,r,r,"ipc"]:r.includes("ipc")?r:[...r,"ipc"]}});var gs=A((qh,Qr)=>{Qr.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Qr.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Qr.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Ts=A((Wh,St)=>{var $=global.process,Ye=function(n){return n&&typeof n=="object"&&typeof n.removeListener=="function"&&typeof n.emit=="function"&&typeof n.reallyExit=="function"&&typeof n.listeners=="function"&&typeof n.kill=="function"&&typeof n.pid=="number"&&typeof n.on=="function"};Ye($)?(Ss=require("assert"),yt=gs(),_s=/^win/i.test($.platform),Qt=require("events"),typeof Qt!="function"&&(Qt=Qt.EventEmitter),$.__signal_exit_emitter__?U=$.__signal_exit_emitter__:(U=$.__signal_exit_emitter__=new Qt,U.count=0,U.emitted={}),U.infinite||(U.setMaxListeners(1/0),U.infinite=!0),St.exports=function(n,r){if(!!Ye(global.process)){Ss.equal(typeof n,"function","a callback must be provided for exit handler"),gt===!1&&no();var o="exit";r&&r.alwaysLast&&(o="afterexit");var a=function(){U.removeListener(o,n),U.listeners("exit").length===0&&U.listeners("afterexit").length===0&&Xr()};return U.on(o,n),a}},Xr=function(){!gt||!Ye(global.process)||(gt=!1,yt.forEach(function(r){try{$.removeListener(r,Kr[r])}catch{}}),$.emit=Zr,$.reallyExit=oo,U.count-=1)},St.exports.unload=Xr,Qe=function(r,o,a){U.emitted[r]||(U.emitted[r]=!0,U.emit(r,o,a))},Kr={},yt.forEach(function(n){Kr[n]=function(){if(!!Ye(global.process)){var o=$.listeners(n);o.length===U.count&&(Xr(),Qe("exit",null,n),Qe("afterexit",null,n),_s&&n==="SIGHUP"&&(n="SIGINT"),$.kill($.pid,n))}}}),St.exports.signals=function(){return yt},gt=!1,no=function(){gt||!Ye(global.process)||(gt=!0,U.count+=1,yt=yt.filter(function(r){try{return $.on(r,Kr[r]),!0}catch{return!1}}),$.emit=Rs,$.reallyExit=ws)},St.exports.load=no,oo=$.reallyExit,ws=function(r){!Ye(global.process)||($.exitCode=r||0,Qe("exit",$.exitCode,null),Qe("afterexit",$.exitCode,null),oo.call($,$.exitCode))},Zr=$.emit,Rs=function(r,o){if(r==="exit"&&Ye(global.process)){o!==void 0&&($.exitCode=o);var a=Zr.apply(this,arguments);return Qe("exit",$.exitCode,null),Qe("afterexit",$.exitCode,null),a}else return Zr.apply(this,arguments)}):St.exports=function(){};var Ss,yt,_s,Qt,U,Xr,Qe,Kr,gt,no,oo,ws,Zr,Rs});var Cs=A((Dh,Es)=>{"use strict";var Kc=require("os"),Zc=Ts(),Jc=1e3*5,ef=(n,r="SIGTERM",o={})=>{let a=n(r);return tf(n,r,o,a),a},tf=(n,r,o,a)=>{if(!rf(r,o,a))return;let s=of(o),u=setTimeout(()=>{n("SIGKILL")},s);u.unref&&u.unref()},rf=(n,{forceKillAfterTimeout:r},o)=>nf(n)&&r!==!1&&o,nf=n=>n===Kc.constants.signals.SIGTERM||typeof n=="string"&&n.toUpperCase()==="SIGTERM",of=({forceKillAfterTimeout:n=!0})=>{if(n===!0)return Jc;if(!Number.isFinite(n)||n<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${n}\` (${typeof n})`);return n},af=(n,r)=>{n.kill()&&(r.isCanceled=!0)},sf=(n,r,o)=>{n.kill(r),o(Object.assign(new Error("Timed out"),{timedOut:!0,signal:r}))},lf=(n,{timeout:r,killSignal:o="SIGTERM"},a)=>{if(r===0||r===void 0)return a;let s,u=new Promise((p,m)=>{s=setTimeout(()=>{sf(n,o,m)},r)}),f=a.finally(()=>{clearTimeout(s)});return Promise.race([u,f])},uf=({timeout:n})=>{if(n!==void 0&&(!Number.isFinite(n)||n<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${n}\` (${typeof n})`)},cf=async(n,{cleanup:r,detached:o},a)=>{if(!r||o)return a;let s=Zc(()=>{n.kill()});return a.finally(()=>{s()})};Es.exports={spawnedKill:ef,spawnedCancel:af,setupTimeout:lf,validateTimeout:uf,setExitHandler:cf}});var As=A((Fh,Ps)=>{"use strict";var be=n=>n!==null&&typeof n=="object"&&typeof n.pipe=="function";be.writable=n=>be(n)&&n.writable!==!1&&typeof n._write=="function"&&typeof n._writableState=="object";be.readable=n=>be(n)&&n.readable!==!1&&typeof n._read=="function"&&typeof n._readableState=="object";be.duplex=n=>be.writable(n)&&be.readable(n);be.transform=n=>be.duplex(n)&&typeof n._transform=="function";Ps.exports=be});var Bs=A((Lh,vs)=>{"use strict";var{PassThrough:ff}=require("stream");vs.exports=n=>{n={...n};let{array:r}=n,{encoding:o}=n,a=o==="buffer",s=!1;r?s=!(o||a):o=o||"utf8",a&&(o=null);let u=new ff({objectMode:s});o&&u.setEncoding(o);let f=0,p=[];return u.on("data",m=>{p.push(m),s?f=p.length:f+=m.length}),u.getBufferedValue=()=>r?p:a?Buffer.concat(p,f):p.join(""),u.getBufferedLength=()=>f,u}});var ks=A(($h,Xt)=>{"use strict";var{constants:df}=require("buffer"),hf=require("stream"),{promisify:mf}=require("util"),pf=Bs(),bf=mf(hf.pipeline),io=class extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}};async function ao(n,r){if(!n)throw new Error("Expected a stream");r={maxBuffer:1/0,...r};let{maxBuffer:o}=r,a=pf(r);return await new Promise((s,u)=>{let f=p=>{p&&a.getBufferedLength()<=df.MAX_LENGTH&&(p.bufferedData=a.getBufferedValue()),u(p)};(async()=>{try{await bf(n,a),s()}catch(p){f(p)}})(),a.on("data",()=>{a.getBufferedLength()>o&&f(new io)})}),a.getBufferedValue()}Xt.exports=ao;Xt.exports.buffer=(n,r)=>ao(n,{...r,encoding:"buffer"});Xt.exports.array=(n,r)=>ao(n,{...r,array:!0});Xt.exports.MaxBufferError=io});var Is=A((zh,xs)=>{"use strict";var{PassThrough:yf}=require("stream");xs.exports=function(){var n=[],r=new yf({objectMode:!0});return r.setMaxListeners(0),r.add=o,r.isEmpty=a,r.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(o),r;function o(u){return Array.isArray(u)?(u.forEach(o),this):(n.push(u),u.once("end",s.bind(null,u)),u.once("error",r.emit.bind(r,"error")),u.pipe(r,{end:!1}),this)}function a(){return n.length==0}function s(u){n=n.filter(function(f){return f!==u}),!n.length&&r.readable&&r.end()}}});var Ds=A((Mh,Ws)=>{"use strict";var Os=As(),qs=ks(),gf=Is(),Sf=(n,r)=>{r===void 0||n.stdin===void 0||(Os(r)?r.pipe(n.stdin):n.stdin.end(r))},_f=(n,{all:r})=>{if(!r||!n.stdout&&!n.stderr)return;let o=gf();return n.stdout&&o.add(n.stdout),n.stderr&&o.add(n.stderr),o},so=async(n,r)=>{if(!!n){n.destroy();try{return await r}catch(o){return o.bufferedData}}},lo=(n,{encoding:r,buffer:o,maxBuffer:a})=>{if(!(!n||!o))return r?qs(n,{encoding:r,maxBuffer:a}):qs.buffer(n,{maxBuffer:a})},wf=async({stdout:n,stderr:r,all:o},{encoding:a,buffer:s,maxBuffer:u},f)=>{let p=lo(n,{encoding:a,buffer:s,maxBuffer:u}),m=lo(r,{encoding:a,buffer:s,maxBuffer:u}),b=lo(o,{encoding:a,buffer:s,maxBuffer:u*2});try{return await Promise.all([f,p,m,b])}catch(w){return Promise.all([{error:w,signal:w.signal,timedOut:w.timedOut},so(n,p),so(r,m),so(o,b)])}},Rf=({input:n})=>{if(Os(n))throw new TypeError("The `input` option cannot be a stream in sync mode")};Ws.exports={handleInput:Sf,makeAllStream:_f,getSpawnedResult:wf,validateInputSync:Rf}});var Ls=A((jh,Fs)=>{"use strict";var Tf=(async()=>{})().constructor.prototype,Ef=["then","catch","finally"].map(n=>[n,Reflect.getOwnPropertyDescriptor(Tf,n)]),Cf=(n,r)=>{for(let[o,a]of Ef){let s=typeof r=="function"?(...u)=>Reflect.apply(a.value,r(),u):a.value.bind(r);Reflect.defineProperty(n,o,{...a,value:s})}return n},Pf=n=>new Promise((r,o)=>{n.on("exit",(a,s)=>{r({exitCode:a,signal:s})}),n.on("error",a=>{o(a)}),n.stdin&&n.stdin.on("error",a=>{o(a)})});Fs.exports={mergePromise:Cf,getSpawnedPromise:Pf}});var Ms=A((Uh,zs)=>{"use strict";var $s=(n,r=[])=>Array.isArray(r)?[n,...r]:[n],Af=/^[\w.-]+$/,vf=/"/g,Bf=n=>typeof n!="string"||Af.test(n)?n:`"${n.replace(vf,'\\"')}"`,kf=(n,r)=>$s(n,r).join(" "),xf=(n,r)=>$s(n,r).map(o=>Bf(o)).join(" "),If=/ +/g,Of=n=>{let r=[];for(let o of n.trim().split(If)){let a=r[r.length-1];a&&a.endsWith("\\")?r[r.length-1]=`${a.slice(0,-1)} ${o}`:r.push(o)}return r};zs.exports={joinCommand:kf,getEscapedCommand:xf,parseCommand:Of}});var Ys=A((Nh,_t)=>{"use strict";var qf=require("path"),uo=require("child_process"),Wf=Za(),Df=es(),Ff=ns(),Lf=ss(),Jr=ps(),js=ys(),{spawnedKill:$f,spawnedCancel:zf,setupTimeout:Mf,validateTimeout:jf,setExitHandler:Uf}=Cs(),{handleInput:Nf,getSpawnedResult:Hf,makeAllStream:Gf,validateInputSync:Vf}=Ds(),{mergePromise:Us,getSpawnedPromise:Yf}=Ls(),{joinCommand:Ns,parseCommand:Hs,getEscapedCommand:Gs}=Ms(),Qf=1e3*1e3*100,Xf=({env:n,extendEnv:r,preferLocal:o,localDir:a,execPath:s})=>{let u=r?{...process.env,...n}:n;return o?Ff.env({env:u,cwd:a,execPath:s}):u},Vs=(n,r,o={})=>{let a=Wf._parse(n,r,o);return n=a.command,r=a.args,o=a.options,o={maxBuffer:Qf,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:o.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...o},o.env=Xf(o),o.stdio=js(o),process.platform==="win32"&&qf.basename(n,".exe")==="cmd"&&r.unshift("/q"),{file:n,args:r,options:o,parsed:a}},Kt=(n,r,o)=>typeof r!="string"&&!Buffer.isBuffer(r)?o===void 0?void 0:"":n.stripFinalNewline?Df(r):r,en=(n,r,o)=>{let a=Vs(n,r,o),s=Ns(n,r),u=Gs(n,r);jf(a.options);let f;try{f=uo.spawn(a.file,a.args,a.options)}catch(g){let y=new uo.ChildProcess,C=Promise.reject(Jr({error:g,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:a,timedOut:!1,isCanceled:!1,killed:!1}));return Us(y,C)}let p=Yf(f),m=Mf(f,a.options,p),b=Uf(f,a.options,m),w={isCanceled:!1};f.kill=$f.bind(null,f.kill.bind(f)),f.cancel=zf.bind(null,f,w);let S=Lf(async()=>{let[{error:g,exitCode:y,signal:C,timedOut:P},v,W,N]=await Hf(f,a.options,b),k=Kt(a.options,v),z=Kt(a.options,W),I=Kt(a.options,N);if(g||y!==0||C!==null){let se=Jr({error:g,exitCode:y,signal:C,stdout:k,stderr:z,all:I,command:s,escapedCommand:u,parsed:a,timedOut:P,isCanceled:w.isCanceled,killed:f.killed});if(!a.options.reject)return se;throw se}return{command:s,escapedCommand:u,exitCode:0,stdout:k,stderr:z,all:I,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Nf(f,a.options.input),f.all=Gf(f,a.options),Us(f,S)};_t.exports=en;_t.exports.sync=(n,r,o)=>{let a=Vs(n,r,o),s=Ns(n,r),u=Gs(n,r);Vf(a.options);let f;try{f=uo.spawnSync(a.file,a.args,a.options)}catch(b){throw Jr({error:b,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:a,timedOut:!1,isCanceled:!1,killed:!1})}let p=Kt(a.options,f.stdout,f.error),m=Kt(a.options,f.stderr,f.error);if(f.error||f.status!==0||f.signal!==null){let b=Jr({stdout:p,stderr:m,error:f.error,signal:f.signal,exitCode:f.status,command:s,escapedCommand:u,parsed:a,timedOut:f.error&&f.error.code==="ETIMEDOUT",isCanceled:!1,killed:f.signal!==null});if(!a.options.reject)return b;throw b}return{command:s,escapedCommand:u,exitCode:0,stdout:p,stderr:m,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};_t.exports.command=(n,r)=>{let[o,...a]=Hs(n);return en(o,a,r)};_t.exports.commandSync=(n,r)=>{let[o,...a]=Hs(n);return en.sync(o,a,r)};_t.exports.node=(n,r,o={})=>{r&&!Array.isArray(r)&&typeof r=="object"&&(o=r,r=[]);let a=js.node(o),s=process.execArgv.filter(p=>!p.startsWith("--inspect")),{nodePath:u=process.execPath,nodeOptions:f=s}=o;return en(u,[...f,n,...Array.isArray(r)?r:[]],{...o,stdin:void 0,stdout:void 0,stderr:void 0,stdio:a,shell:!1})}});var ed={};Ai(ed,{default:()=>Jf});var tl=require("@raycast/api");var tn=require("@raycast/api");var ca=me(require("http"),1),fa=me(require("https"),1),Ve=me(require("zlib"),1),re=me(require("stream"),1),Gt=require("buffer");function Ou(n){if(!/^data:/i.test(n))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');n=n.replace(/\r?\n/g,"");let r=n.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let o=n.substring(5,r).split(";"),a="",s=!1,u=o[0]||"text/plain",f=u;for(let w=1;w<o.length;w++)o[w]==="base64"?s=!0:(f+=`;${o[w]}`,o[w].indexOf("charset=")===0&&(a=o[w].substring(8)));!o[0]&&!a.length&&(f+=";charset=US-ASCII",a="US-ASCII");let p=s?"base64":"ascii",m=unescape(n.substring(r+1)),b=Buffer.from(m,p);return b.type=u,b.typeFull=f,b.charset=a,b}var ki=Ou;var ie=me(require("stream"),1),Ee=require("util"),ee=require("buffer");Lt();Or();var Oe=class extends Error{constructor(r,o){super(r);Error.captureStackTrace(this,this.constructor),this.type=o}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var J=class extends Oe{constructor(r,o,a){super(r,o);a&&(this.code=this.errno=a.code,this.erroredSysCall=a.syscall)}};var qr=Symbol.toStringTag,Ln=n=>typeof n=="object"&&typeof n.append=="function"&&typeof n.delete=="function"&&typeof n.get=="function"&&typeof n.getAll=="function"&&typeof n.has=="function"&&typeof n.set=="function"&&typeof n.sort=="function"&&n[qr]==="URLSearchParams",jt=n=>n&&typeof n=="object"&&typeof n.arrayBuffer=="function"&&typeof n.type=="string"&&typeof n.stream=="function"&&typeof n.constructor=="function"&&/^(Blob|File)$/.test(n[qr]),Mi=n=>typeof n=="object"&&(n[qr]==="AbortSignal"||n[qr]==="EventTarget"),ji=(n,r)=>{let o=new URL(r).hostname,a=new URL(n).hostname;return o===a||o.endsWith(`.${a}`)};var Xu=(0,Ee.promisify)(ie.default.pipeline),Q=Symbol("Body internals"),Ce=class{constructor(r,{size:o=0}={}){let a=null;r===null?r=null:Ln(r)?r=ee.Buffer.from(r.toString()):jt(r)||ee.Buffer.isBuffer(r)||(Ee.types.isAnyArrayBuffer(r)?r=ee.Buffer.from(r):ArrayBuffer.isView(r)?r=ee.Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof ie.default||(r instanceof Ue?(r=$i(r),a=r.type.split("=")[1]):r=ee.Buffer.from(String(r))));let s=r;ee.Buffer.isBuffer(r)?s=ie.default.Readable.from(r):jt(r)&&(s=ie.default.Readable.from(r.stream())),this[Q]={body:r,stream:s,boundary:a,disturbed:!1,error:null},this.size=o,r instanceof ie.default&&r.on("error",u=>{let f=u instanceof Oe?u:new J(`Invalid response body while trying to fetch ${this.url}: ${u.message}`,"system",u);this[Q].error=f})}get body(){return this[Q].stream}get bodyUsed(){return this[Q].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:o,byteLength:a}=await Fr(this);return r.slice(o,o+a)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let a=new Ue,s=new URLSearchParams(await this.text());for(let[u,f]of s)a.append(u,f);return a}let{toFormData:o}=await Promise.resolve().then(()=>(Qi(),Yi));return o(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[Q].body&&this[Q].body.type||"",o=await this.arrayBuffer();return new Re([o],{type:r})}async json(){let r=await Fr(this);return JSON.parse(r.toString())}async text(){return(await Fr(this)).toString()}buffer(){return Fr(this)}};Ce.prototype.buffer=(0,Ee.deprecate)(Ce.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Ce.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Ee.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Fr(n){if(n[Q].disturbed)throw new TypeError(`body used already for: ${n.url}`);if(n[Q].disturbed=!0,n[Q].error)throw n[Q].error;let{body:r}=n;if(r===null)return ee.Buffer.alloc(0);if(!(r instanceof ie.default))return ee.Buffer.alloc(0);let o=[],a=0;try{for await(let s of r){if(n.size>0&&a+s.length>n.size){let u=new J(`content size at ${n.url} over limit: ${n.size}`,"max-size");throw r.destroy(u),u}a+=s.length,o.push(s)}}catch(s){throw s instanceof Oe?s:new J(`Invalid response body while trying to fetch ${n.url}: ${s.message}`,"system",s)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return o.every(s=>typeof s=="string")?ee.Buffer.from(o.join("")):ee.Buffer.concat(o,a)}catch(s){throw new J(`Could not create Buffer from response body for ${n.url}: ${s.message}`,"system",s)}else throw new J(`Premature close of server response while trying to fetch ${n.url}`)}var ft=(n,r)=>{let o,a,{body:s}=n[Q];if(n.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof ie.default&&typeof s.getBoundary!="function"&&(o=new ie.PassThrough({highWaterMark:r}),a=new ie.PassThrough({highWaterMark:r}),s.pipe(o),s.pipe(a),n[Q].stream=o,s=a),s},Ku=(0,Ee.deprecate)(n=>n.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Lr=(n,r)=>n===null?null:typeof n=="string"?"text/plain;charset=UTF-8":Ln(n)?"application/x-www-form-urlencoded;charset=UTF-8":jt(n)?n.type||null:ee.Buffer.isBuffer(n)||Ee.types.isAnyArrayBuffer(n)||ArrayBuffer.isView(n)?null:n instanceof Ue?`multipart/form-data; boundary=${r[Q].boundary}`:n&&typeof n.getBoundary=="function"?`multipart/form-data;boundary=${Ku(n)}`:n instanceof ie.default?null:"text/plain;charset=UTF-8",Xi=n=>{let{body:r}=n[Q];return r===null?0:jt(r)?r.size:ee.Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},Ki=async(n,{body:r})=>{r===null?n.end():await Xu(r,n)};var Mn=require("util"),Ht=me(require("http"),1),$r=typeof Ht.default.validateHeaderName=="function"?Ht.default.validateHeaderName:n=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(n)){let r=new TypeError(`Header name must be a valid HTTP token [${n}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},jn=typeof Ht.default.validateHeaderValue=="function"?Ht.default.validateHeaderValue:(n,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let o=new TypeError(`Invalid character in header content ["${n}"]`);throw Object.defineProperty(o,"code",{value:"ERR_INVALID_CHAR"}),o}},te=class extends URLSearchParams{constructor(r){let o=[];if(r instanceof te){let a=r.raw();for(let[s,u]of Object.entries(a))o.push(...u.map(f=>[s,f]))}else if(r!=null)if(typeof r=="object"&&!Mn.types.isBoxedPrimitive(r)){let a=r[Symbol.iterator];if(a==null)o.push(...Object.entries(r));else{if(typeof a!="function")throw new TypeError("Header pairs must be iterable");o=[...r].map(s=>{if(typeof s!="object"||Mn.types.isBoxedPrimitive(s))throw new TypeError("Each header pair must be an iterable object");return[...s]}).map(s=>{if(s.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...s]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");o=o.length>0?o.map(([a,s])=>($r(a),jn(a,String(s)),[String(a).toLowerCase(),String(s)])):void 0;super(o);return new Proxy(this,{get(a,s,u){switch(s){case"append":case"set":return(f,p)=>($r(f),jn(f,String(p)),URLSearchParams.prototype[s].call(a,String(f).toLowerCase(),String(p)));case"delete":case"has":case"getAll":return f=>($r(f),URLSearchParams.prototype[s].call(a,String(f).toLowerCase()));case"keys":return()=>(a.sort(),new Set(URLSearchParams.prototype.keys.call(a)).keys());default:return Reflect.get(a,s,u)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let o=this.getAll(r);if(o.length===0)return null;let a=o.join(", ");return/^content-encoding$/i.test(r)&&(a=a.toLowerCase()),a}forEach(r,o=void 0){for(let a of this.keys())Reflect.apply(r,o,[this.get(a),a,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,o)=>(r[o]=this.getAll(o),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,o)=>{let a=this.getAll(o);return o==="host"?r[o]=a[0]:r[o]=a.length>1?a:a[0],r},{})}};Object.defineProperties(te.prototype,["get","entries","forEach","values"].reduce((n,r)=>(n[r]={enumerable:!0},n),{}));function Zi(n=[]){return new te(n.reduce((r,o,a,s)=>(a%2===0&&r.push(s.slice(a,a+2)),r),[]).filter(([r,o])=>{try{return $r(r),jn(r,String(o)),!0}catch{return!1}}))}var Zu=new Set([301,302,303,307,308]),zr=n=>Zu.has(n);var de=Symbol("Response internals"),V=class extends Ce{constructor(r=null,o={}){super(r,o);let a=o.status!=null?o.status:200,s=new te(o.headers);if(r!==null&&!s.has("Content-Type")){let u=Lr(r,this);u&&s.append("Content-Type",u)}this[de]={type:"default",url:o.url,status:a,statusText:o.statusText||"",headers:s,counter:o.counter,highWaterMark:o.highWaterMark}}get type(){return this[de].type}get url(){return this[de].url||""}get status(){return this[de].status}get ok(){return this[de].status>=200&&this[de].status<300}get redirected(){return this[de].counter>0}get statusText(){return this[de].statusText}get headers(){return this[de].headers}get highWaterMark(){return this[de].highWaterMark}clone(){return new V(ft(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,o=302){if(!zr(o))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new V(null,{headers:{location:new URL(r).toString()},status:o})}static error(){let r=new V(null,{status:0,statusText:""});return r[de].type="error",r}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(V.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var sa=require("url"),la=require("util");var Ji=n=>{if(n.search)return n.search;let r=n.href.length-1,o=n.hash||(n.href[r]==="#"?"#":"");return n.href[r-o.length]==="?"?"?":""};var ea=require("net");function ta(n,r=!1){return n==null||(n=new URL(n),/^(about|blob|data):$/.test(n.protocol))?"no-referrer":(n.username="",n.password="",n.hash="",r&&(n.pathname="",n.search=""),n)}var ra=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),na="strict-origin-when-cross-origin";function oa(n){if(!ra.has(n))throw new TypeError(`Invalid referrerPolicy: ${n}`);return n}function Ju(n){if(/^(http|ws)s:$/.test(n.protocol))return!0;let r=n.host.replace(/(^\[)|(]$)/g,""),o=(0,ea.isIP)(r);return o===4&&/^127\./.test(r)||o===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:/^(.+\.)*localhost$/.test(n.host)?!1:n.protocol==="file:"}function dt(n){return/^about:(blank|srcdoc)$/.test(n)||n.protocol==="data:"||/^(blob|filesystem):$/.test(n.protocol)?!0:Ju(n)}function ia(n,{referrerURLCallback:r,referrerOriginCallback:o}={}){if(n.referrer==="no-referrer"||n.referrerPolicy==="")return null;let a=n.referrerPolicy;if(n.referrer==="about:client")return"no-referrer";let s=n.referrer,u=ta(s),f=ta(s,!0);u.toString().length>4096&&(u=f),r&&(u=r(u)),o&&(f=o(f));let p=new URL(n.url);switch(a){case"no-referrer":return"no-referrer";case"origin":return f;case"unsafe-url":return u;case"strict-origin":return dt(u)&&!dt(p)?"no-referrer":f.toString();case"strict-origin-when-cross-origin":return u.origin===p.origin?u:dt(u)&&!dt(p)?"no-referrer":f;case"same-origin":return u.origin===p.origin?u:"no-referrer";case"origin-when-cross-origin":return u.origin===p.origin?u:f;case"no-referrer-when-downgrade":return dt(u)&&!dt(p)?"no-referrer":u;default:throw new TypeError(`Invalid referrerPolicy: ${a}`)}}function aa(n){let r=(n.get("referrer-policy")||"").split(/[,\s]+/),o="";for(let a of r)a&&ra.has(a)&&(o=a);return o}var j=Symbol("Request internals"),Mr=n=>typeof n=="object"&&typeof n[j]=="object",ec=(0,la.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),We=class extends Ce{constructor(r,o={}){let a;if(Mr(r)?a=new URL(r.url):(a=new URL(r),r={}),a.username!==""||a.password!=="")throw new TypeError(`${a} is an url with embedded credentails.`);let s=o.method||r.method||"GET";if(s=s.toUpperCase(),"data"in o&&ec(),(o.body!=null||Mr(r)&&r.body!==null)&&(s==="GET"||s==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let u=o.body?o.body:Mr(r)&&r.body!==null?ft(r):null;super(u,{size:o.size||r.size||0});let f=new te(o.headers||r.headers||{});if(u!==null&&!f.has("Content-Type")){let b=Lr(u,this);b&&f.set("Content-Type",b)}let p=Mr(r)?r.signal:null;if("signal"in o&&(p=o.signal),p!=null&&!Mi(p))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let m=o.referrer==null?r.referrer:o.referrer;if(m==="")m="no-referrer";else if(m){let b=new URL(m);m=/^about:(\/\/)?client$/.test(b)?"client":b}else m=void 0;this[j]={method:s,redirect:o.redirect||r.redirect||"follow",headers:f,parsedURL:a,signal:p,referrer:m},this.follow=o.follow===void 0?r.follow===void 0?20:r.follow:o.follow,this.compress=o.compress===void 0?r.compress===void 0?!0:r.compress:o.compress,this.counter=o.counter||r.counter||0,this.agent=o.agent||r.agent,this.highWaterMark=o.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=o.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=o.referrerPolicy||r.referrerPolicy||""}get method(){return this[j].method}get url(){return(0,sa.format)(this[j].parsedURL)}get headers(){return this[j].headers}get redirect(){return this[j].redirect}get signal(){return this[j].signal}get referrer(){if(this[j].referrer==="no-referrer")return"";if(this[j].referrer==="client")return"about:client";if(this[j].referrer)return this[j].referrer.toString()}get referrerPolicy(){return this[j].referrerPolicy}set referrerPolicy(r){this[j].referrerPolicy=oa(r)}clone(){return new We(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(We.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var ua=n=>{let{parsedURL:r}=n[j],o=new te(n[j].headers);o.has("Accept")||o.set("Accept","*/*");let a=null;if(n.body===null&&/^(post|put)$/i.test(n.method)&&(a="0"),n.body!==null){let p=Xi(n);typeof p=="number"&&!Number.isNaN(p)&&(a=String(p))}a&&o.set("Content-Length",a),n.referrerPolicy===""&&(n.referrerPolicy=na),n.referrer&&n.referrer!=="no-referrer"?n[j].referrer=ia(n):n[j].referrer="no-referrer",n[j].referrer instanceof URL&&o.set("Referer",n.referrer),o.has("User-Agent")||o.set("User-Agent","node-fetch"),n.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip,deflate,br");let{agent:s}=n;typeof s=="function"&&(s=s(r)),!o.has("Connection")&&!s&&o.set("Connection","close");let u=Ji(r),f={path:r.pathname+u,method:n.method,headers:o[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:n.insecureHTTPParser,agent:s};return{parsedURL:r,options:f}};var Un=class extends Oe{constructor(r,o="aborted"){super(r,o)}};Or();zn();var tc=new Set(["data:","http:","https:"]);async function jr(n,r){return new Promise((o,a)=>{let s=new We(n,r),{parsedURL:u,options:f}=ua(s);if(!tc.has(u.protocol))throw new TypeError(`node-fetch cannot load ${n}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if(u.protocol==="data:"){let y=ki(s.url),C=new V(y,{headers:{"Content-Type":y.typeFull}});o(C);return}let p=(u.protocol==="https:"?fa.default:ca.default).request,{signal:m}=s,b=null,w=()=>{let y=new Un("The operation was aborted.");a(y),s.body&&s.body instanceof re.default.Readable&&s.body.destroy(y),!(!b||!b.body)&&b.body.emit("error",y)};if(m&&m.aborted){w();return}let T=()=>{w(),g()},S=p(u.toString(),f);m&&m.addEventListener("abort",T);let g=()=>{S.abort(),m&&m.removeEventListener("abort",T)};S.on("error",y=>{a(new J(`request to ${s.url} failed, reason: ${y.message}`,"system",y)),g()}),rc(S,y=>{b.body.destroy(y)}),process.version<"v14"&&S.on("socket",y=>{let C;y.prependListener("end",()=>{C=y._eventsCount}),y.prependListener("close",P=>{if(b&&C<y._eventsCount&&!P){let v=new Error("Premature close");v.code="ERR_STREAM_PREMATURE_CLOSE",b.body.emit("error",v)}})}),S.on("response",y=>{S.setTimeout(0);let C=Zi(y.rawHeaders);if(zr(y.statusCode)){let k=C.get("Location"),z=null;try{z=k===null?null:new URL(k,s.url)}catch{if(s.redirect!=="manual"){a(new J(`uri requested responds with an invalid redirect URL: ${k}`,"invalid-redirect")),g();return}}switch(s.redirect){case"error":a(new J(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),g();return;case"manual":break;case"follow":{if(z===null)break;if(s.counter>=s.follow){a(new J(`maximum redirect reached at: ${s.url}`,"max-redirect")),g();return}let I={headers:new te(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:ft(s),signal:s.signal,size:s.size,referrer:s.referrer,referrerPolicy:s.referrerPolicy};if(!ji(s.url,z))for(let X of["authorization","www-authenticate","cookie","cookie2"])I.headers.delete(X);if(y.statusCode!==303&&s.body&&r.body instanceof re.default.Readable){a(new J("Cannot follow redirect with body being a readable stream","unsupported-redirect")),g();return}(y.statusCode===303||(y.statusCode===301||y.statusCode===302)&&s.method==="POST")&&(I.method="GET",I.body=void 0,I.headers.delete("content-length"));let se=aa(C);se&&(I.referrerPolicy=se),o(jr(new We(z,I))),g();return}default:return a(new TypeError(`Redirect option '${s.redirect}' is not a valid value of RequestRedirect`))}}m&&y.once("end",()=>{m.removeEventListener("abort",T)});let P=(0,re.pipeline)(y,new re.PassThrough,k=>{k&&a(k)});process.version<"v12.10"&&y.on("aborted",T);let v={url:s.url,status:y.statusCode,statusText:y.statusMessage,headers:C,size:s.size,counter:s.counter,highWaterMark:s.highWaterMark},W=C.get("Content-Encoding");if(!s.compress||s.method==="HEAD"||W===null||y.statusCode===204||y.statusCode===304){b=new V(P,v),o(b);return}let N={flush:Ve.default.Z_SYNC_FLUSH,finishFlush:Ve.default.Z_SYNC_FLUSH};if(W==="gzip"||W==="x-gzip"){P=(0,re.pipeline)(P,Ve.default.createGunzip(N),k=>{k&&a(k)}),b=new V(P,v),o(b);return}if(W==="deflate"||W==="x-deflate"){let k=(0,re.pipeline)(y,new re.PassThrough,z=>{z&&a(z)});k.once("data",z=>{(z[0]&15)===8?P=(0,re.pipeline)(P,Ve.default.createInflate(),I=>{I&&a(I)}):P=(0,re.pipeline)(P,Ve.default.createInflateRaw(),I=>{I&&a(I)}),b=new V(P,v),o(b)}),k.once("end",()=>{b||(b=new V(P,v),o(b))});return}if(W==="br"){P=(0,re.pipeline)(P,Ve.default.createBrotliDecompress(),k=>{k&&a(k)}),b=new V(P,v),o(b);return}b=new V(P,v),o(b)}),Ki(S,s).catch(a)})}function rc(n,r){let o=Gt.Buffer.from(`0\r
\r
`),a=!1,s=!1,u;n.on("response",f=>{let{headers:p}=f;a=p["transfer-encoding"]==="chunked"&&!p["content-length"]}),n.on("socket",f=>{let p=()=>{if(a&&!s){let m=new Error("Premature close");m.code="ERR_STREAM_PREMATURE_CLOSE",r(m)}};f.prependListener("close",p),n.on("abort",()=>{f.removeListener("close",p)}),f.on("data",m=>{s=Gt.Buffer.compare(m.slice(-5),o)===0,!s&&u&&(s=Gt.Buffer.compare(u.slice(-3),o.slice(0,3))===0&&Gt.Buffer.compare(m.slice(-2),o.slice(3))===0),u=m})})}var ae=require("@raycast/api");var Qs=me(require("process"),1),Xs=me(Ys(),1);async function Ks(n){if(Qs.default.platform!=="darwin")throw new Error("macOS only");let{stdout:r}=await(0,Xs.default)("osascript",["-e",n]);return r}var Zs=require("fs"),Kf=async({url:n,id:r,useHud:o=!1})=>{let a;o||(a=await(0,ae.showToast)(ae.ToastStyle.Animated,"Downloading and setting wallpaper..."));let{downloadSize:s,applyTo:u}=(0,ae.getPreferenceValues)(),f=ae.environment.supportPath,p=f.endsWith("/")?`${f}${r}-${s}.jpg`:`${f}/${r}-${s}.jpg`;try{let m=p,b=(0,Zs.existsSync)(m)?"":`set cmd to "curl -o " & q_temp_folder & " " & "${n}"
        do shell script cmd`;if(await Ks(`
      set temp_folder to (POSIX path of "${m}")
      set q_temp_folder to quoted form of temp_folder

      ${b}

      set x to alias (POSIX file temp_folder)

      try
        tell application "System Events"
          tell ${u} desktop
            set picture to (x as text)
            return "ok"
          end tell
        end tell
      on error
        set dialogTitle to "Error Setting Wallpaper"
        set dialogText to "Please make sure you have given Raycast the required permission. To make sure, click the button below and grant Raycast the 'System Events' permission."

        display alert dialogTitle message dialogText buttons {"Cancel", "Open Preferences"} default button 2 as informational
          if button returned of result is "Open Preferences" then
            do shell script "open 'x-apple.systempreferences:com.apple.preference.security?Privacy_Automation'"
          end if

        return "error"
      end try
    `)!=="ok")throw new Error("Error setting wallpaper.");o?await(0,ae.showHUD)("Wallpaper set!"):a&&(a.style=ae.ToastStyle.Success,a.title="Wallpaper set!")}catch(m){console.error(m),a&&(a.style=ae.ToastStyle.Failure,a.title="Something went wrong.",a.message="Try with another image or check your internet connection.")}},Js=Kf;var el=async()=>{let{accessKey:n,collections:r,includeDefaults:o}=(0,tn.getPreferenceValues)(),a=r?.split(", "),s=["4324303","8647859","298137","2476111","1065976","3430431","1114848","2063295","9389477","932210"],u=o==="yes"&&a?[...s,...a]:a||s,f=await jr(`https://api.unsplash.com/photos/random?orientation=landscape&collections=${encodeURIComponent(u.join(","))}`,{headers:{Authorization:`Client-ID ${n}`}}).then(async w=>await w.json());if(f.errors){(0,tn.showHUD)(f.errors[0]);return}let{urls:p,id:m}=f,b=p?.raw||p?.full||p?.regular;await Js({url:b,id:String(m),useHud:!0})};var Zf=async()=>{(0,tl.showHUD)("Downloading and setting a new wallpaper..."),await el()},Jf=Zf;module.exports=Iu(ed);0&&(module.exports={});
/*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
