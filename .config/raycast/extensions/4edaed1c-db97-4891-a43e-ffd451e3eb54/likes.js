var vc=Object.create;var Sn=Object.defineProperty;var Tc=Object.getOwnPropertyDescriptor;var Ec=Object.getOwnPropertyNames;var Cc=Object.getPrototypeOf,Pc=Object.prototype.hasOwnProperty;var ua=t=>Sn(t,"__esModule",{value:!0});var br=(t,r)=>()=>(t&&(r=t(t=0)),r);var k=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),la=(t,r)=>{for(var o in r)Sn(t,o,{get:r[o],enumerable:!0})},ca=(t,r,o,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Ec(r))!Pc.call(t,s)&&(o||s!=="default")&&Sn(t,s,{get:()=>r[s],enumerable:!(i=Tc(r,s))||i.enumerable});return t},xe=(t,r)=>ca(ua(Sn(t!=null?vc(Cc(t)):{},"default",!r&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),Ac=(t=>(r,o)=>t&&t.get(r)||(o=ca(ua({}),r,1),t&&t.set(r,o),o))(typeof WeakMap!="undefined"?new WeakMap:0);var fa=(t,r,o)=>{if(!r.has(t))throw TypeError("Cannot "+o)};var $=(t,r,o)=>(fa(t,r,"read from private field"),o?o.call(t):r.get(t)),he=(t,r,o)=>{if(r.has(t))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(t):r.set(t,o)},re=(t,r,o,i)=>(fa(t,r,"write to private field"),i?i.call(t,o):r.set(t,o),o);var ma=k((_n,ha)=>{(function(t,r){typeof _n=="object"&&typeof ha!="undefined"?r(_n):typeof define=="function"&&define.amd?define(["exports"],r):(t=typeof globalThis!="undefined"?globalThis:t||self,r(t.WebStreamsPolyfill={}))})(_n,function(t){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function o(){}function i(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global}let s=i();function u(e){return typeof e=="object"&&e!==null||typeof e=="function"}let c=o,h=Promise,m=Promise.prototype.then,d=Promise.resolve.bind(h),_=Promise.reject.bind(h);function R(e){return new h(e)}function y(e){return d(e)}function g(e){return _(e)}function S(e,n,a){return m.call(e,n,a)}function E(e,n,a){S(S(e,n,a),void 0,c)}function T(e,n){E(e,n)}function w(e,n){E(e,void 0,n)}function x(e,n,a){return S(e,n,a)}function U(e){S(e,void 0,c)}let P=(()=>{let e=s&&s.queueMicrotask;if(typeof e=="function")return e;let n=y(void 0);return a=>S(n,a)})();function D(e,n,a){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,n,a)}function A(e,n,a){try{return y(D(e,n,a))}catch(l){return g(l)}}let V=16384;class Z{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(n){let a=this._back,l=a;a._elements.length===V-1&&(l={_elements:[],_next:void 0}),a._elements.push(n),l!==a&&(this._back=l,a._next=l),++this._size}shift(){let n=this._front,a=n,l=this._cursor,f=l+1,p=n._elements,b=p[l];return f===V&&(a=n._next,f=0),--this._size,this._cursor=f,n!==a&&(this._front=a),p[l]=void 0,b}forEach(n){let a=this._cursor,l=this._front,f=l._elements;for(;(a!==f.length||l._next!==void 0)&&!(a===f.length&&(l=l._next,f=l._elements,a=0,f.length===0));)n(f[a]),++a}peek(){let n=this._front,a=this._cursor;return n._elements[a]}}function Y(e,n){e._ownerReadableStream=n,n._reader=e,n._state==="readable"?Jt(e):n._state==="closed"?Lr(e):ge(e,n._storedError)}function st(e,n){let a=e._ownerReadableStream;return Ee(a,n)}function oe(e){e._ownerReadableStream._state==="readable"?Le(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):$r(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function Fe(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Jt(e){e._closedPromise=R((n,a)=>{e._closedPromise_resolve=n,e._closedPromise_reject=a})}function ge(e,n){Jt(e),Le(e,n)}function Lr(e){Jt(e),zr(e)}function Le(e,n){e._closedPromise_reject!==void 0&&(U(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function $r(e,n){ge(e,n)}function zr(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let Pt=r("[[AbortSteps]]"),At=r("[[ErrorSteps]]"),Ae=r("[[CancelSteps]]"),ut=r("[[PullSteps]]"),lt=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},$e=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Vn(e){return typeof e=="object"||typeof e=="function"}function H(e,n){if(e!==void 0&&!Vn(e))throw new TypeError(`${n} is not an object.`)}function j(e,n){if(typeof e!="function")throw new TypeError(`${n} is not a function.`)}function ie(e){return typeof e=="object"&&e!==null||typeof e=="function"}function ae(e,n){if(!ie(e))throw new TypeError(`${n} is not an object.`)}function ee(e,n,a){if(e===void 0)throw new TypeError(`Parameter ${n} is required in '${a}'.`)}function ze(e,n,a){if(e===void 0)throw new TypeError(`${n} is required in '${a}'.`)}function se(e){return Number(e)}function Q(e){return e===0?0:e}function Ie(e){return Q($e(e))}function fe(e,n){let a=0,l=Number.MAX_SAFE_INTEGER,f=Number(e);if(f=Q(f),!lt(f))throw new TypeError(`${n} is not a finite number`);if(f=Ie(f),f<a||f>l)throw new TypeError(`${n} is outside the accepted range of ${a} to ${l}, inclusive`);return!lt(f)||f===0?0:f}function ct(e,n){if(!Je(e))throw new TypeError(`${n} is not a ReadableStream.`)}function Se(e){return new tr(e)}function Ye(e,n){e._reader._readRequests.push(n)}function ft(e,n,a){let f=e._reader._readRequests.shift();a?f._closeSteps():f._chunkSteps(n)}function ke(e){return e._reader._readRequests.length}function er(e){let n=e._reader;return!(n===void 0||!Qe(n))}class tr{constructor(n){if(ee(n,1,"ReadableStreamDefaultReader"),ct(n,"First parameter"),et(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Y(this,n),this._readRequests=new Z}get closed(){return Qe(this)?this._closedPromise:g(Mr("closed"))}cancel(n=void 0){return Qe(this)?this._ownerReadableStream===void 0?g(Fe("cancel")):st(this,n):g(Mr("cancel"))}read(){if(!Qe(this))return g(Mr("read"));if(this._ownerReadableStream===void 0)return g(Fe("read from"));let n,a,l=R((p,b)=>{n=p,a=b});return rr(this,{_chunkSteps:p=>n({value:p,done:!1}),_closeSteps:()=>n({value:void 0,done:!0}),_errorSteps:p=>a(p)}),l}releaseLock(){if(!Qe(this))throw Mr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");oe(this)}}}Object.defineProperties(tr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(tr.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Qe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof tr}function rr(e,n){let a=e._ownerReadableStream;a._disturbed=!0,a._state==="closed"?n._closeSteps():a._state==="errored"?n._errorSteps(a._storedError):a._readableStreamController[ut](n)}function Mr(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let oi=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class ii{constructor(n,a){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=n,this._preventCancel=a}next(){let n=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?x(this._ongoingPromise,n,n):n(),this._ongoingPromise}return(n){let a=()=>this._returnSteps(n);return this._ongoingPromise?x(this._ongoingPromise,a,a):a()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let n=this._reader;if(n._ownerReadableStream===void 0)return g(Fe("iterate"));let a,l,f=R((b,v)=>{a=b,l=v});return rr(n,{_chunkSteps:b=>{this._ongoingPromise=void 0,P(()=>a({value:b,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,oe(n),a({value:void 0,done:!0})},_errorSteps:b=>{this._ongoingPromise=void 0,this._isFinished=!0,oe(n),l(b)}}),f}_returnSteps(n){if(this._isFinished)return Promise.resolve({value:n,done:!0});this._isFinished=!0;let a=this._reader;if(a._ownerReadableStream===void 0)return g(Fe("finish iterating"));if(!this._preventCancel){let l=st(a,n);return oe(a),x(l,()=>({value:n,done:!0}))}return oe(a),y({value:n,done:!0})}}let ai={next(){return si(this)?this._asyncIteratorImpl.next():g(ui("next"))},return(e){return si(this)?this._asyncIteratorImpl.return(e):g(ui("return"))}};oi!==void 0&&Object.setPrototypeOf(ai,oi);function ol(e,n){let a=Se(e),l=new ii(a,n),f=Object.create(ai);return f._asyncIteratorImpl=l,f}function si(e){if(!u(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ii}catch{return!1}}function ui(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let li=Number.isNaN||function(e){return e!==e};function nr(e){return e.slice()}function ci(e,n,a,l,f){new Uint8Array(e).set(new Uint8Array(a,l,f),n)}function wh(e){return e}function Ur(e){return!1}function fi(e,n,a){if(e.slice)return e.slice(n,a);let l=a-n,f=new ArrayBuffer(l);return ci(f,0,e,n,l),f}function il(e){return!(typeof e!="number"||li(e)||e<0)}function di(e){let n=fi(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(n)}function Yn(e){let n=e._queue.shift();return e._queueTotalSize-=n.size,e._queueTotalSize<0&&(e._queueTotalSize=0),n.value}function Qn(e,n,a){if(!il(a)||a===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:n,size:a}),e._queueTotalSize+=a}function al(e){return e._queue.peek().value}function Xe(e){e._queue=new Z,e._queueTotalSize=0}class or{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Xn(this))throw eo("view");return this._view}respond(n){if(!Xn(this))throw eo("respond");if(ee(n,1,"respond"),n=fe(n,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Ur(this._view.buffer),Vr(this._associatedReadableByteStreamController,n)}respondWithNewView(n){if(!Xn(this))throw eo("respondWithNewView");if(ee(n,1,"respondWithNewView"),!ArrayBuffer.isView(n))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Ur(n.buffer),Yr(this._associatedReadableByteStreamController,n)}}Object.defineProperties(or.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(or.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class It{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!dt(this))throw ar("byobRequest");return Jn(this)}get desiredSize(){if(!dt(this))throw ar("desiredSize");return _i(this)}close(){if(!dt(this))throw ar("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let n=this._controlledReadableByteStream._state;if(n!=="readable")throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be closed`);ir(this)}enqueue(n){if(!dt(this))throw ar("enqueue");if(ee(n,1,"enqueue"),!ArrayBuffer.isView(n))throw new TypeError("chunk must be an array buffer view");if(n.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(n.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let a=this._controlledReadableByteStream._state;if(a!=="readable")throw new TypeError(`The stream (in ${a} state) is not in the readable state and cannot be enqueued to`);Gr(this,n)}error(n=void 0){if(!dt(this))throw ar("error");Te(this,n)}[Ae](n){hi(this),Xe(this);let a=this._cancelAlgorithm(n);return Hr(this),a}[ut](n){let a=this._controlledReadableByteStream;if(this._queueTotalSize>0){let f=this._queue.shift();this._queueTotalSize-=f.byteLength,yi(this);let p=new Uint8Array(f.buffer,f.byteOffset,f.byteLength);n._chunkSteps(p);return}let l=this._autoAllocateChunkSize;if(l!==void 0){let f;try{f=new ArrayBuffer(l)}catch(b){n._errorSteps(b);return}let p={buffer:f,bufferByteLength:l,byteOffset:0,byteLength:l,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(p)}Ye(a,n),ht(this)}}Object.defineProperties(It.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(It.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function dt(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof It}function Xn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof or}function ht(e){if(!cl(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let a=e._pullAlgorithm();E(a,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ht(e))},l=>{Te(e,l)})}function hi(e){Zn(e),e._pendingPullIntos=new Z}function Kn(e,n){let a=!1;e._state==="closed"&&(a=!0);let l=mi(n);n.readerType==="default"?ft(e,l,a):hl(e,l,a)}function mi(e){let n=e.bytesFilled,a=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,n/a)}function jr(e,n,a,l){e._queue.push({buffer:n,byteOffset:a,byteLength:l}),e._queueTotalSize+=l}function pi(e,n){let a=n.elementSize,l=n.bytesFilled-n.bytesFilled%a,f=Math.min(e._queueTotalSize,n.byteLength-n.bytesFilled),p=n.bytesFilled+f,b=p-p%a,v=f,I=!1;b>l&&(v=b-n.bytesFilled,I=!0);let B=e._queue;for(;v>0;){let q=B.peek(),W=Math.min(v,q.byteLength),G=n.byteOffset+n.bytesFilled;ci(n.buffer,G,q.buffer,q.byteOffset,W),q.byteLength===W?B.shift():(q.byteOffset+=W,q.byteLength-=W),e._queueTotalSize-=W,bi(e,W,n),v-=W}return I}function bi(e,n,a){a.bytesFilled+=n}function yi(e){e._queueTotalSize===0&&e._closeRequested?(Hr(e),mr(e._controlledReadableByteStream)):ht(e)}function Zn(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function gi(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let n=e._pendingPullIntos.peek();pi(e,n)&&(Nr(e),Kn(e._controlledReadableByteStream,n))}}function sl(e,n,a){let l=e._controlledReadableByteStream,f=1;n.constructor!==DataView&&(f=n.constructor.BYTES_PER_ELEMENT);let p=n.constructor,b=n.buffer,v={buffer:b,bufferByteLength:b.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:f,viewConstructor:p,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(v),vi(l,a);return}if(l._state==="closed"){let I=new p(v.buffer,v.byteOffset,0);a._closeSteps(I);return}if(e._queueTotalSize>0){if(pi(e,v)){let I=mi(v);yi(e),a._chunkSteps(I);return}if(e._closeRequested){let I=new TypeError("Insufficient bytes to fill elements in the given buffer");Te(e,I),a._errorSteps(I);return}}e._pendingPullIntos.push(v),vi(l,a),ht(e)}function ul(e,n){let a=e._controlledReadableByteStream;if(to(a))for(;Ti(a)>0;){let l=Nr(e);Kn(a,l)}}function ll(e,n,a){if(bi(e,n,a),a.bytesFilled<a.elementSize)return;Nr(e);let l=a.bytesFilled%a.elementSize;if(l>0){let f=a.byteOffset+a.bytesFilled,p=fi(a.buffer,f-l,f);jr(e,p,0,p.byteLength)}a.bytesFilled-=l,Kn(e._controlledReadableByteStream,a),gi(e)}function Si(e,n){let a=e._pendingPullIntos.peek();Zn(e),e._controlledReadableByteStream._state==="closed"?ul(e):ll(e,n,a),ht(e)}function Nr(e){return e._pendingPullIntos.shift()}function cl(e){let n=e._controlledReadableByteStream;return n._state!=="readable"||e._closeRequested||!e._started?!1:!!(er(n)&&ke(n)>0||to(n)&&Ti(n)>0||_i(e)>0)}function Hr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function ir(e){let n=e._controlledReadableByteStream;if(!(e._closeRequested||n._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let l=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Te(e,l),l}Hr(e),mr(n)}}function Gr(e,n){let a=e._controlledReadableByteStream;if(e._closeRequested||a._state!=="readable")return;let l=n.buffer,f=n.byteOffset,p=n.byteLength,b=l;if(e._pendingPullIntos.length>0){let v=e._pendingPullIntos.peek();Ur(v.buffer),v.buffer=v.buffer}if(Zn(e),er(a))if(ke(a)===0)jr(e,b,f,p);else{e._pendingPullIntos.length>0&&Nr(e);let v=new Uint8Array(b,f,p);ft(a,v,!1)}else to(a)?(jr(e,b,f,p),gi(e)):jr(e,b,f,p);ht(e)}function Te(e,n){let a=e._controlledReadableByteStream;a._state==="readable"&&(hi(e),Xe(e),Hr(e),Yi(a,n))}function Jn(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let n=e._pendingPullIntos.peek(),a=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),l=Object.create(or.prototype);dl(l,e,a),e._byobRequest=l}return e._byobRequest}function _i(e){let n=e._controlledReadableByteStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function Vr(e,n){let a=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(n!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(n===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(a.bytesFilled+n>a.byteLength)throw new RangeError("bytesWritten out of range")}a.buffer=a.buffer,Si(e,n)}function Yr(e,n){let a=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(n.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(n.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(a.byteOffset+a.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(a.bytesFilled+n.byteLength>a.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let f=n.byteLength;a.buffer=n.buffer,Si(e,f)}function wi(e,n,a,l,f,p,b){n._controlledReadableByteStream=e,n._pullAgain=!1,n._pulling=!1,n._byobRequest=null,n._queue=n._queueTotalSize=void 0,Xe(n),n._closeRequested=!1,n._started=!1,n._strategyHWM=p,n._pullAlgorithm=l,n._cancelAlgorithm=f,n._autoAllocateChunkSize=b,n._pendingPullIntos=new Z,e._readableStreamController=n;let v=a();E(y(v),()=>{n._started=!0,ht(n)},I=>{Te(n,I)})}function fl(e,n,a){let l=Object.create(It.prototype),f=()=>{},p=()=>y(void 0),b=()=>y(void 0);n.start!==void 0&&(f=()=>n.start(l)),n.pull!==void 0&&(p=()=>n.pull(l)),n.cancel!==void 0&&(b=I=>n.cancel(I));let v=n.autoAllocateChunkSize;if(v===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");wi(e,l,f,p,b,a,v)}function dl(e,n,a){e._associatedReadableByteStreamController=n,e._view=a}function eo(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function ar(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Ri(e){return new sr(e)}function vi(e,n){e._reader._readIntoRequests.push(n)}function hl(e,n,a){let f=e._reader._readIntoRequests.shift();a?f._closeSteps(n):f._chunkSteps(n)}function Ti(e){return e._reader._readIntoRequests.length}function to(e){let n=e._reader;return!(n===void 0||!mt(n))}class sr{constructor(n){if(ee(n,1,"ReadableStreamBYOBReader"),ct(n,"First parameter"),et(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!dt(n._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Y(this,n),this._readIntoRequests=new Z}get closed(){return mt(this)?this._closedPromise:g(Qr("closed"))}cancel(n=void 0){return mt(this)?this._ownerReadableStream===void 0?g(Fe("cancel")):st(this,n):g(Qr("cancel"))}read(n){if(!mt(this))return g(Qr("read"));if(!ArrayBuffer.isView(n))return g(new TypeError("view must be an array buffer view"));if(n.byteLength===0)return g(new TypeError("view must have non-zero byteLength"));if(n.buffer.byteLength===0)return g(new TypeError("view's buffer must have non-zero byteLength"));if(Ur(n.buffer),this._ownerReadableStream===void 0)return g(Fe("read from"));let a,l,f=R((b,v)=>{a=b,l=v});return Ei(this,n,{_chunkSteps:b=>a({value:b,done:!1}),_closeSteps:b=>a({value:b,done:!0}),_errorSteps:b=>l(b)}),f}releaseLock(){if(!mt(this))throw Qr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");oe(this)}}}Object.defineProperties(sr.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(sr.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function mt(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof sr}function Ei(e,n,a){let l=e._ownerReadableStream;l._disturbed=!0,l._state==="errored"?a._errorSteps(l._storedError):sl(l._readableStreamController,n,a)}function Qr(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function ur(e,n){let{highWaterMark:a}=e;if(a===void 0)return n;if(li(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function Xr(e){let{size:n}=e;return n||(()=>1)}function Kr(e,n){H(e,n);let a=e==null?void 0:e.highWaterMark,l=e==null?void 0:e.size;return{highWaterMark:a===void 0?void 0:se(a),size:l===void 0?void 0:ml(l,`${n} has member 'size' that`)}}function ml(e,n){return j(e,n),a=>se(e(a))}function pl(e,n){H(e,n);let a=e==null?void 0:e.abort,l=e==null?void 0:e.close,f=e==null?void 0:e.start,p=e==null?void 0:e.type,b=e==null?void 0:e.write;return{abort:a===void 0?void 0:bl(a,e,`${n} has member 'abort' that`),close:l===void 0?void 0:yl(l,e,`${n} has member 'close' that`),start:f===void 0?void 0:gl(f,e,`${n} has member 'start' that`),write:b===void 0?void 0:Sl(b,e,`${n} has member 'write' that`),type:p}}function bl(e,n,a){return j(e,a),l=>A(e,n,[l])}function yl(e,n,a){return j(e,a),()=>A(e,n,[])}function gl(e,n,a){return j(e,a),l=>D(e,n,[l])}function Sl(e,n,a){return j(e,a),(l,f)=>A(e,n,[l,f])}function Ci(e,n){if(!kt(e))throw new TypeError(`${n} is not a WritableStream.`)}function _l(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let wl=typeof AbortController=="function";function Rl(){if(wl)return new AbortController}class lr{constructor(n={},a={}){n===void 0?n=null:ae(n,"First parameter");let l=Kr(a,"Second parameter"),f=pl(n,"First parameter");if(Ai(this),f.type!==void 0)throw new RangeError("Invalid type is specified");let b=Xr(l),v=ur(l,1);Wl(this,f,v,b)}get locked(){if(!kt(this))throw rn("locked");return Ot(this)}abort(n=void 0){return kt(this)?Ot(this)?g(new TypeError("Cannot abort a stream that already has a writer")):Zr(this,n):g(rn("abort"))}close(){return kt(this)?Ot(this)?g(new TypeError("Cannot close a stream that already has a writer")):Oe(this)?g(new TypeError("Cannot close an already-closing stream")):Ii(this):g(rn("close"))}getWriter(){if(!kt(this))throw rn("getWriter");return Pi(this)}}Object.defineProperties(lr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(lr.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function Pi(e){return new cr(e)}function vl(e,n,a,l,f=1,p=()=>1){let b=Object.create(lr.prototype);Ai(b);let v=Object.create(xt.prototype);return qi(b,v,e,n,a,l,f,p),b}function Ai(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new Z,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function kt(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof lr}function Ot(e){return e._writer!==void 0}function Zr(e,n){var a;if(e._state==="closed"||e._state==="errored")return y(void 0);e._writableStreamController._abortReason=n,(a=e._writableStreamController._abortController)===null||a===void 0||a.abort();let l=e._state;if(l==="closed"||l==="errored")return y(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let f=!1;l==="erroring"&&(f=!0,n=void 0);let p=R((b,v)=>{e._pendingAbortRequest={_promise:void 0,_resolve:b,_reject:v,_reason:n,_wasAlreadyErroring:f}});return e._pendingAbortRequest._promise=p,f||no(e,n),p}function Ii(e){let n=e._state;if(n==="closed"||n==="errored")return g(new TypeError(`The stream (in ${n} state) is not in the writable state and cannot be closed`));let a=R((f,p)=>{let b={_resolve:f,_reject:p};e._closeRequest=b}),l=e._writer;return l!==void 0&&e._backpressure&&n==="writable"&&ho(l),Fl(e._writableStreamController),a}function Tl(e){return R((a,l)=>{let f={_resolve:a,_reject:l};e._writeRequests.push(f)})}function ro(e,n){if(e._state==="writable"){no(e,n);return}oo(e)}function no(e,n){let a=e._writableStreamController;e._state="erroring",e._storedError=n;let l=e._writer;l!==void 0&&Oi(l,n),!Il(e)&&a._started&&oo(e)}function oo(e){e._state="errored",e._writableStreamController[At]();let n=e._storedError;if(e._writeRequests.forEach(f=>{f._reject(n)}),e._writeRequests=new Z,e._pendingAbortRequest===void 0){Jr(e);return}let a=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,a._wasAlreadyErroring){a._reject(n),Jr(e);return}let l=e._writableStreamController[Pt](a._reason);E(l,()=>{a._resolve(),Jr(e)},f=>{a._reject(f),Jr(e)})}function El(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function Cl(e,n){e._inFlightWriteRequest._reject(n),e._inFlightWriteRequest=void 0,ro(e,n)}function Pl(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let a=e._writer;a!==void 0&&$i(a)}function Al(e,n){e._inFlightCloseRequest._reject(n),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(n),e._pendingAbortRequest=void 0),ro(e,n)}function Oe(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Il(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function kl(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Ol(e){e._inFlightWriteRequest=e._writeRequests.shift()}function Jr(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let n=e._writer;n!==void 0&&co(n,e._storedError)}function io(e,n){let a=e._writer;a!==void 0&&n!==e._backpressure&&(n?Nl(a):ho(a)),e._backpressure=n}class cr{constructor(n){if(ee(n,1,"WritableStreamDefaultWriter"),Ci(n,"First parameter"),Ot(n))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=n,n._writer=this;let a=n._state;if(a==="writable")!Oe(n)&&n._backpressure?on(this):zi(this),nn(this);else if(a==="erroring")fo(this,n._storedError),nn(this);else if(a==="closed")zi(this),Ul(this);else{let l=n._storedError;fo(this,l),Li(this,l)}}get closed(){return pt(this)?this._closedPromise:g(bt("closed"))}get desiredSize(){if(!pt(this))throw bt("desiredSize");if(this._ownerWritableStream===void 0)throw fr("desiredSize");return ql(this)}get ready(){return pt(this)?this._readyPromise:g(bt("ready"))}abort(n=void 0){return pt(this)?this._ownerWritableStream===void 0?g(fr("abort")):xl(this,n):g(bt("abort"))}close(){if(!pt(this))return g(bt("close"));let n=this._ownerWritableStream;return n===void 0?g(fr("close")):Oe(n)?g(new TypeError("Cannot close an already-closing stream")):ki(this)}releaseLock(){if(!pt(this))throw bt("releaseLock");this._ownerWritableStream!==void 0&&xi(this)}write(n=void 0){return pt(this)?this._ownerWritableStream===void 0?g(fr("write to")):Bi(this,n):g(bt("write"))}}Object.defineProperties(cr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(cr.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function pt(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof cr}function xl(e,n){let a=e._ownerWritableStream;return Zr(a,n)}function ki(e){let n=e._ownerWritableStream;return Ii(n)}function Bl(e){let n=e._ownerWritableStream,a=n._state;return Oe(n)||a==="closed"?y(void 0):a==="errored"?g(n._storedError):ki(e)}function Dl(e,n){e._closedPromiseState==="pending"?co(e,n):jl(e,n)}function Oi(e,n){e._readyPromiseState==="pending"?Mi(e,n):Hl(e,n)}function ql(e){let n=e._ownerWritableStream,a=n._state;return a==="errored"||a==="erroring"?null:a==="closed"?0:Wi(n._writableStreamController)}function xi(e){let n=e._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Oi(e,a),Dl(e,a),n._writer=void 0,e._ownerWritableStream=void 0}function Bi(e,n){let a=e._ownerWritableStream,l=a._writableStreamController,f=Ll(l,n);if(a!==e._ownerWritableStream)return g(fr("write to"));let p=a._state;if(p==="errored")return g(a._storedError);if(Oe(a)||p==="closed")return g(new TypeError("The stream is closing or closed and cannot be written to"));if(p==="erroring")return g(a._storedError);let b=Tl(a);return $l(l,n,f),b}let Di={};class xt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!ao(this))throw lo("abortReason");return this._abortReason}get signal(){if(!ao(this))throw lo("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(n=void 0){if(!ao(this))throw lo("error");this._controlledWritableStream._state==="writable"&&Fi(this,n)}[Pt](n){let a=this._abortAlgorithm(n);return en(this),a}[At](){Xe(this)}}Object.defineProperties(xt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(xt.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function ao(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof xt}function qi(e,n,a,l,f,p,b,v){n._controlledWritableStream=e,e._writableStreamController=n,n._queue=void 0,n._queueTotalSize=void 0,Xe(n),n._abortReason=void 0,n._abortController=Rl(),n._started=!1,n._strategySizeAlgorithm=v,n._strategyHWM=b,n._writeAlgorithm=l,n._closeAlgorithm=f,n._abortAlgorithm=p;let I=uo(n);io(e,I);let B=a(),q=y(B);E(q,()=>{n._started=!0,tn(n)},W=>{n._started=!0,ro(e,W)})}function Wl(e,n,a,l){let f=Object.create(xt.prototype),p=()=>{},b=()=>y(void 0),v=()=>y(void 0),I=()=>y(void 0);n.start!==void 0&&(p=()=>n.start(f)),n.write!==void 0&&(b=B=>n.write(B,f)),n.close!==void 0&&(v=()=>n.close()),n.abort!==void 0&&(I=B=>n.abort(B)),qi(e,f,p,b,v,I,a,l)}function en(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Fl(e){Qn(e,Di,0),tn(e)}function Ll(e,n){try{return e._strategySizeAlgorithm(n)}catch(a){return so(e,a),1}}function Wi(e){return e._strategyHWM-e._queueTotalSize}function $l(e,n,a){try{Qn(e,n,a)}catch(f){so(e,f);return}let l=e._controlledWritableStream;if(!Oe(l)&&l._state==="writable"){let f=uo(e);io(l,f)}tn(e)}function tn(e){let n=e._controlledWritableStream;if(!e._started||n._inFlightWriteRequest!==void 0)return;if(n._state==="erroring"){oo(n);return}if(e._queue.length===0)return;let l=al(e);l===Di?zl(e):Ml(e,l)}function so(e,n){e._controlledWritableStream._state==="writable"&&Fi(e,n)}function zl(e){let n=e._controlledWritableStream;kl(n),Yn(e);let a=e._closeAlgorithm();en(e),E(a,()=>{Pl(n)},l=>{Al(n,l)})}function Ml(e,n){let a=e._controlledWritableStream;Ol(a);let l=e._writeAlgorithm(n);E(l,()=>{El(a);let f=a._state;if(Yn(e),!Oe(a)&&f==="writable"){let p=uo(e);io(a,p)}tn(e)},f=>{a._state==="writable"&&en(e),Cl(a,f)})}function uo(e){return Wi(e)<=0}function Fi(e,n){let a=e._controlledWritableStream;en(e),no(a,n)}function rn(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function lo(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function bt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function fr(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function nn(e){e._closedPromise=R((n,a)=>{e._closedPromise_resolve=n,e._closedPromise_reject=a,e._closedPromiseState="pending"})}function Li(e,n){nn(e),co(e,n)}function Ul(e){nn(e),$i(e)}function co(e,n){e._closedPromise_reject!==void 0&&(U(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function jl(e,n){Li(e,n)}function $i(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function on(e){e._readyPromise=R((n,a)=>{e._readyPromise_resolve=n,e._readyPromise_reject=a}),e._readyPromiseState="pending"}function fo(e,n){on(e),Mi(e,n)}function zi(e){on(e),ho(e)}function Mi(e,n){e._readyPromise_reject!==void 0&&(U(e._readyPromise),e._readyPromise_reject(n),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Nl(e){on(e)}function Hl(e,n){fo(e,n)}function ho(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let Ui=typeof DOMException!="undefined"?DOMException:void 0;function Gl(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function Vl(){let e=function(a,l){this.message=a||"",this.name=l||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let Yl=Gl(Ui)?Ui:Vl();function ji(e,n,a,l,f,p){let b=Se(e),v=Pi(n);e._disturbed=!0;let I=!1,B=y(void 0);return R((q,W)=>{let G;if(p!==void 0){if(G=()=>{let C=new Yl("Aborted","AbortError"),O=[];l||O.push(()=>n._state==="writable"?Zr(n,C):y(void 0)),f||O.push(()=>e._state==="readable"?Ee(e,C):y(void 0)),ue(()=>Promise.all(O.map(z=>z())),!0,C)},p.aborted){G();return}p.addEventListener("abort",G)}function Ce(){return R((C,O)=>{function z(de){de?C():S(qt(),z,O)}z(!1)})}function qt(){return I?y(!0):S(v._readyPromise,()=>R((C,O)=>{rr(b,{_chunkSteps:z=>{B=S(Bi(v,z),void 0,o),C(!1)},_closeSteps:()=>C(!0),_errorSteps:O})}))}if(Me(e,b._closedPromise,C=>{l?_e(!0,C):ue(()=>Zr(n,C),!0,C)}),Me(n,v._closedPromise,C=>{f?_e(!0,C):ue(()=>Ee(e,C),!0,C)}),te(e,b._closedPromise,()=>{a?_e():ue(()=>Bl(v))}),Oe(n)||n._state==="closed"){let C=new TypeError("the destination writable stream closed before all data could be piped to it");f?_e(!0,C):ue(()=>Ee(e,C),!0,C)}U(Ce());function tt(){let C=B;return S(B,()=>C!==B?tt():void 0)}function Me(C,O,z){C._state==="errored"?z(C._storedError):w(O,z)}function te(C,O,z){C._state==="closed"?z():T(O,z)}function ue(C,O,z){if(I)return;I=!0,n._state==="writable"&&!Oe(n)?T(tt(),de):de();function de(){E(C(),()=>Ue(O,z),Wt=>Ue(!0,Wt))}}function _e(C,O){I||(I=!0,n._state==="writable"&&!Oe(n)?T(tt(),()=>Ue(C,O)):Ue(C,O))}function Ue(C,O){xi(v),oe(b),p!==void 0&&p.removeEventListener("abort",G),C?W(O):q(void 0)}})}class Bt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!an(this))throw ln("desiredSize");return mo(this)}close(){if(!an(this))throw ln("close");if(!Dt(this))throw new TypeError("The stream is not in a state that permits close");hr(this)}enqueue(n=void 0){if(!an(this))throw ln("enqueue");if(!Dt(this))throw new TypeError("The stream is not in a state that permits enqueue");return un(this,n)}error(n=void 0){if(!an(this))throw ln("error");Ke(this,n)}[Ae](n){Xe(this);let a=this._cancelAlgorithm(n);return sn(this),a}[ut](n){let a=this._controlledReadableStream;if(this._queue.length>0){let l=Yn(this);this._closeRequested&&this._queue.length===0?(sn(this),mr(a)):dr(this),n._chunkSteps(l)}else Ye(a,n),dr(this)}}Object.defineProperties(Bt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Bt.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function an(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof Bt}function dr(e){if(!Ni(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let a=e._pullAlgorithm();E(a,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,dr(e))},l=>{Ke(e,l)})}function Ni(e){let n=e._controlledReadableStream;return!Dt(e)||!e._started?!1:!!(et(n)&&ke(n)>0||mo(e)>0)}function sn(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function hr(e){if(!Dt(e))return;let n=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(sn(e),mr(n))}function un(e,n){if(!Dt(e))return;let a=e._controlledReadableStream;if(et(a)&&ke(a)>0)ft(a,n,!1);else{let l;try{l=e._strategySizeAlgorithm(n)}catch(f){throw Ke(e,f),f}try{Qn(e,n,l)}catch(f){throw Ke(e,f),f}}dr(e)}function Ke(e,n){let a=e._controlledReadableStream;a._state==="readable"&&(Xe(e),sn(e),Yi(a,n))}function mo(e){let n=e._controlledReadableStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function Ql(e){return!Ni(e)}function Dt(e){let n=e._controlledReadableStream._state;return!e._closeRequested&&n==="readable"}function Hi(e,n,a,l,f,p,b){n._controlledReadableStream=e,n._queue=void 0,n._queueTotalSize=void 0,Xe(n),n._started=!1,n._closeRequested=!1,n._pullAgain=!1,n._pulling=!1,n._strategySizeAlgorithm=b,n._strategyHWM=p,n._pullAlgorithm=l,n._cancelAlgorithm=f,e._readableStreamController=n;let v=a();E(y(v),()=>{n._started=!0,dr(n)},I=>{Ke(n,I)})}function Xl(e,n,a,l){let f=Object.create(Bt.prototype),p=()=>{},b=()=>y(void 0),v=()=>y(void 0);n.start!==void 0&&(p=()=>n.start(f)),n.pull!==void 0&&(b=()=>n.pull(f)),n.cancel!==void 0&&(v=I=>n.cancel(I)),Hi(e,f,p,b,v,a,l)}function ln(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Kl(e,n){return dt(e._readableStreamController)?Jl(e):Zl(e)}function Zl(e,n){let a=Se(e),l=!1,f=!1,p=!1,b=!1,v,I,B,q,W,G=R(te=>{W=te});function Ce(){return l?(f=!0,y(void 0)):(l=!0,rr(a,{_chunkSteps:ue=>{P(()=>{f=!1;let _e=ue,Ue=ue;p||un(B._readableStreamController,_e),b||un(q._readableStreamController,Ue),l=!1,f&&Ce()})},_closeSteps:()=>{l=!1,p||hr(B._readableStreamController),b||hr(q._readableStreamController),(!p||!b)&&W(void 0)},_errorSteps:()=>{l=!1}}),y(void 0))}function qt(te){if(p=!0,v=te,b){let ue=nr([v,I]),_e=Ee(e,ue);W(_e)}return G}function tt(te){if(b=!0,I=te,p){let ue=nr([v,I]),_e=Ee(e,ue);W(_e)}return G}function Me(){}return B=po(Me,Ce,qt),q=po(Me,Ce,tt),w(a._closedPromise,te=>{Ke(B._readableStreamController,te),Ke(q._readableStreamController,te),(!p||!b)&&W(void 0)}),[B,q]}function Jl(e){let n=Se(e),a=!1,l=!1,f=!1,p=!1,b=!1,v,I,B,q,W,G=R(C=>{W=C});function Ce(C){w(C._closedPromise,O=>{C===n&&(Te(B._readableStreamController,O),Te(q._readableStreamController,O),(!p||!b)&&W(void 0))})}function qt(){mt(n)&&(oe(n),n=Se(e),Ce(n)),rr(n,{_chunkSteps:O=>{P(()=>{l=!1,f=!1;let z=O,de=O;if(!p&&!b)try{de=di(O)}catch(Wt){Te(B._readableStreamController,Wt),Te(q._readableStreamController,Wt),W(Ee(e,Wt));return}p||Gr(B._readableStreamController,z),b||Gr(q._readableStreamController,de),a=!1,l?Me():f&&te()})},_closeSteps:()=>{a=!1,p||ir(B._readableStreamController),b||ir(q._readableStreamController),B._readableStreamController._pendingPullIntos.length>0&&Vr(B._readableStreamController,0),q._readableStreamController._pendingPullIntos.length>0&&Vr(q._readableStreamController,0),(!p||!b)&&W(void 0)},_errorSteps:()=>{a=!1}})}function tt(C,O){Qe(n)&&(oe(n),n=Ri(e),Ce(n));let z=O?q:B,de=O?B:q;Ei(n,C,{_chunkSteps:Ft=>{P(()=>{l=!1,f=!1;let Lt=O?b:p;if(O?p:b)Lt||Yr(z._readableStreamController,Ft);else{let sa;try{sa=di(Ft)}catch(yo){Te(z._readableStreamController,yo),Te(de._readableStreamController,yo),W(Ee(e,yo));return}Lt||Yr(z._readableStreamController,Ft),Gr(de._readableStreamController,sa)}a=!1,l?Me():f&&te()})},_closeSteps:Ft=>{a=!1;let Lt=O?b:p,gn=O?p:b;Lt||ir(z._readableStreamController),gn||ir(de._readableStreamController),Ft!==void 0&&(Lt||Yr(z._readableStreamController,Ft),!gn&&de._readableStreamController._pendingPullIntos.length>0&&Vr(de._readableStreamController,0)),(!Lt||!gn)&&W(void 0)},_errorSteps:()=>{a=!1}})}function Me(){if(a)return l=!0,y(void 0);a=!0;let C=Jn(B._readableStreamController);return C===null?qt():tt(C._view,!1),y(void 0)}function te(){if(a)return f=!0,y(void 0);a=!0;let C=Jn(q._readableStreamController);return C===null?qt():tt(C._view,!0),y(void 0)}function ue(C){if(p=!0,v=C,b){let O=nr([v,I]),z=Ee(e,O);W(z)}return G}function _e(C){if(b=!0,I=C,p){let O=nr([v,I]),z=Ee(e,O);W(z)}return G}function Ue(){}return B=Vi(Ue,Me,ue),q=Vi(Ue,te,_e),Ce(n),[B,q]}function ec(e,n){H(e,n);let a=e,l=a==null?void 0:a.autoAllocateChunkSize,f=a==null?void 0:a.cancel,p=a==null?void 0:a.pull,b=a==null?void 0:a.start,v=a==null?void 0:a.type;return{autoAllocateChunkSize:l===void 0?void 0:fe(l,`${n} has member 'autoAllocateChunkSize' that`),cancel:f===void 0?void 0:tc(f,a,`${n} has member 'cancel' that`),pull:p===void 0?void 0:rc(p,a,`${n} has member 'pull' that`),start:b===void 0?void 0:nc(b,a,`${n} has member 'start' that`),type:v===void 0?void 0:oc(v,`${n} has member 'type' that`)}}function tc(e,n,a){return j(e,a),l=>A(e,n,[l])}function rc(e,n,a){return j(e,a),l=>A(e,n,[l])}function nc(e,n,a){return j(e,a),l=>D(e,n,[l])}function oc(e,n){if(e=`${e}`,e!=="bytes")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function ic(e,n){H(e,n);let a=e==null?void 0:e.mode;return{mode:a===void 0?void 0:ac(a,`${n} has member 'mode' that`)}}function ac(e,n){if(e=`${e}`,e!=="byob")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function sc(e,n){H(e,n);let a=e==null?void 0:e.preventCancel;return{preventCancel:Boolean(a)}}function Gi(e,n){H(e,n);let a=e==null?void 0:e.preventAbort,l=e==null?void 0:e.preventCancel,f=e==null?void 0:e.preventClose,p=e==null?void 0:e.signal;return p!==void 0&&uc(p,`${n} has member 'signal' that`),{preventAbort:Boolean(a),preventCancel:Boolean(l),preventClose:Boolean(f),signal:p}}function uc(e,n){if(!_l(e))throw new TypeError(`${n} is not an AbortSignal.`)}function lc(e,n){H(e,n);let a=e==null?void 0:e.readable;ze(a,"readable","ReadableWritablePair"),ct(a,`${n} has member 'readable' that`);let l=e==null?void 0:e.writable;return ze(l,"writable","ReadableWritablePair"),Ci(l,`${n} has member 'writable' that`),{readable:a,writable:l}}class Ze{constructor(n={},a={}){n===void 0?n=null:ae(n,"First parameter");let l=Kr(a,"Second parameter"),f=ec(n,"First parameter");if(bo(this),f.type==="bytes"){if(l.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let p=ur(l,0);fl(this,f,p)}else{let p=Xr(l),b=ur(l,1);Xl(this,f,b,p)}}get locked(){if(!Je(this))throw yt("locked");return et(this)}cancel(n=void 0){return Je(this)?et(this)?g(new TypeError("Cannot cancel a stream that already has a reader")):Ee(this,n):g(yt("cancel"))}getReader(n=void 0){if(!Je(this))throw yt("getReader");return ic(n,"First parameter").mode===void 0?Se(this):Ri(this)}pipeThrough(n,a={}){if(!Je(this))throw yt("pipeThrough");ee(n,1,"pipeThrough");let l=lc(n,"First parameter"),f=Gi(a,"Second parameter");if(et(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ot(l.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let p=ji(this,l.writable,f.preventClose,f.preventAbort,f.preventCancel,f.signal);return U(p),l.readable}pipeTo(n,a={}){if(!Je(this))return g(yt("pipeTo"));if(n===void 0)return g("Parameter 1 is required in 'pipeTo'.");if(!kt(n))return g(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let l;try{l=Gi(a,"Second parameter")}catch(f){return g(f)}return et(this)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ot(n)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ji(this,n,l.preventClose,l.preventAbort,l.preventCancel,l.signal)}tee(){if(!Je(this))throw yt("tee");let n=Kl(this);return nr(n)}values(n=void 0){if(!Je(this))throw yt("values");let a=sc(n,"First parameter");return ol(this,a.preventCancel)}}Object.defineProperties(Ze.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ze.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(Ze.prototype,r.asyncIterator,{value:Ze.prototype.values,writable:!0,configurable:!0});function po(e,n,a,l=1,f=()=>1){let p=Object.create(Ze.prototype);bo(p);let b=Object.create(Bt.prototype);return Hi(p,b,e,n,a,l,f),p}function Vi(e,n,a){let l=Object.create(Ze.prototype);bo(l);let f=Object.create(It.prototype);return wi(l,f,e,n,a,0,void 0),l}function bo(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Je(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Ze}function et(e){return e._reader!==void 0}function Ee(e,n){if(e._disturbed=!0,e._state==="closed")return y(void 0);if(e._state==="errored")return g(e._storedError);mr(e);let a=e._reader;a!==void 0&&mt(a)&&(a._readIntoRequests.forEach(f=>{f._closeSteps(void 0)}),a._readIntoRequests=new Z);let l=e._readableStreamController[Ae](n);return x(l,o)}function mr(e){e._state="closed";let n=e._reader;n!==void 0&&(zr(n),Qe(n)&&(n._readRequests.forEach(a=>{a._closeSteps()}),n._readRequests=new Z))}function Yi(e,n){e._state="errored",e._storedError=n;let a=e._reader;a!==void 0&&(Le(a,n),Qe(a)?(a._readRequests.forEach(l=>{l._errorSteps(n)}),a._readRequests=new Z):(a._readIntoRequests.forEach(l=>{l._errorSteps(n)}),a._readIntoRequests=new Z))}function yt(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Qi(e,n){H(e,n);let a=e==null?void 0:e.highWaterMark;return ze(a,"highWaterMark","QueuingStrategyInit"),{highWaterMark:se(a)}}let Xi=e=>e.byteLength;Object.defineProperty(Xi,"name",{value:"size",configurable:!0});class cn{constructor(n){ee(n,1,"ByteLengthQueuingStrategy"),n=Qi(n,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!Zi(this))throw Ki("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Zi(this))throw Ki("size");return Xi}}Object.defineProperties(cn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(cn.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Ki(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Zi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof cn}let Ji=()=>1;Object.defineProperty(Ji,"name",{value:"size",configurable:!0});class fn{constructor(n){ee(n,1,"CountQueuingStrategy"),n=Qi(n,"First parameter"),this._countQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!ta(this))throw ea("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ta(this))throw ea("size");return Ji}}Object.defineProperties(fn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(fn.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function ea(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function ta(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof fn}function cc(e,n){H(e,n);let a=e==null?void 0:e.flush,l=e==null?void 0:e.readableType,f=e==null?void 0:e.start,p=e==null?void 0:e.transform,b=e==null?void 0:e.writableType;return{flush:a===void 0?void 0:fc(a,e,`${n} has member 'flush' that`),readableType:l,start:f===void 0?void 0:dc(f,e,`${n} has member 'start' that`),transform:p===void 0?void 0:hc(p,e,`${n} has member 'transform' that`),writableType:b}}function fc(e,n,a){return j(e,a),l=>A(e,n,[l])}function dc(e,n,a){return j(e,a),l=>D(e,n,[l])}function hc(e,n,a){return j(e,a),(l,f)=>A(e,n,[l,f])}class dn{constructor(n={},a={},l={}){n===void 0&&(n=null);let f=Kr(a,"Second parameter"),p=Kr(l,"Third parameter"),b=cc(n,"First parameter");if(b.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(b.writableType!==void 0)throw new RangeError("Invalid writableType specified");let v=ur(p,0),I=Xr(p),B=ur(f,1),q=Xr(f),W,G=R(Ce=>{W=Ce});mc(this,G,B,q,v,I),bc(this,b),b.start!==void 0?W(b.start(this._transformStreamController)):W(void 0)}get readable(){if(!ra(this))throw aa("readable");return this._readable}get writable(){if(!ra(this))throw aa("writable");return this._writable}}Object.defineProperties(dn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(dn.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function mc(e,n,a,l,f,p){function b(){return n}function v(G){return Sc(e,G)}function I(G){return _c(e,G)}function B(){return wc(e)}e._writable=vl(b,v,B,I,a,l);function q(){return Rc(e)}function W(G){return mn(e,G),y(void 0)}e._readable=po(b,q,W,f,p),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,pn(e,!0),e._transformStreamController=void 0}function ra(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof dn}function hn(e,n){Ke(e._readable._readableStreamController,n),mn(e,n)}function mn(e,n){na(e._transformStreamController),so(e._writable._writableStreamController,n),e._backpressure&&pn(e,!1)}function pn(e,n){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=R(a=>{e._backpressureChangePromise_resolve=a}),e._backpressure=n}class pr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!bn(this))throw yn("desiredSize");let n=this._controlledTransformStream._readable._readableStreamController;return mo(n)}enqueue(n=void 0){if(!bn(this))throw yn("enqueue");oa(this,n)}error(n=void 0){if(!bn(this))throw yn("error");yc(this,n)}terminate(){if(!bn(this))throw yn("terminate");gc(this)}}Object.defineProperties(pr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(pr.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function bn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof pr}function pc(e,n,a,l){n._controlledTransformStream=e,e._transformStreamController=n,n._transformAlgorithm=a,n._flushAlgorithm=l}function bc(e,n){let a=Object.create(pr.prototype),l=p=>{try{return oa(a,p),y(void 0)}catch(b){return g(b)}},f=()=>y(void 0);n.transform!==void 0&&(l=p=>n.transform(p,a)),n.flush!==void 0&&(f=()=>n.flush(a)),pc(e,a,l,f)}function na(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function oa(e,n){let a=e._controlledTransformStream,l=a._readable._readableStreamController;if(!Dt(l))throw new TypeError("Readable side is not in a state that permits enqueue");try{un(l,n)}catch(p){throw mn(a,p),a._readable._storedError}Ql(l)!==a._backpressure&&pn(a,!0)}function yc(e,n){hn(e._controlledTransformStream,n)}function ia(e,n){let a=e._transformAlgorithm(n);return x(a,void 0,l=>{throw hn(e._controlledTransformStream,l),l})}function gc(e){let n=e._controlledTransformStream,a=n._readable._readableStreamController;hr(a);let l=new TypeError("TransformStream terminated");mn(n,l)}function Sc(e,n){let a=e._transformStreamController;if(e._backpressure){let l=e._backpressureChangePromise;return x(l,()=>{let f=e._writable;if(f._state==="erroring")throw f._storedError;return ia(a,n)})}return ia(a,n)}function _c(e,n){return hn(e,n),y(void 0)}function wc(e){let n=e._readable,a=e._transformStreamController,l=a._flushAlgorithm();return na(a),x(l,()=>{if(n._state==="errored")throw n._storedError;hr(n._readableStreamController)},f=>{throw hn(e,f),n._storedError})}function Rc(e){return pn(e,!1),e._backpressureChangePromise}function yn(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function aa(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}t.ByteLengthQueuingStrategy=cn,t.CountQueuingStrategy=fn,t.ReadableByteStreamController=It,t.ReadableStream=Ze,t.ReadableStreamBYOBReader=sr,t.ReadableStreamBYOBRequest=or,t.ReadableStreamDefaultController=Bt,t.ReadableStreamDefaultReader=tr,t.TransformStream=dn,t.TransformStreamDefaultController=pr,t.WritableStream=lr,t.WritableStreamDefaultController=xt,t.WritableStreamDefaultWriter=cr,Object.defineProperty(t,"__esModule",{value:!0})})});var pa=k(()=>{var kc=65536;if(!globalThis.ReadableStream)try{let t=require("process"),{emitWarning:r}=t;try{t.emitWarning=()=>{},Object.assign(globalThis,require("stream/web")),t.emitWarning=r}catch(o){throw t.emitWarning=r,o}}catch{Object.assign(globalThis,ma())}try{let{Blob:t}=require("buffer");t&&!t.prototype.stream&&(t.prototype.stream=function(o){let i=0,s=this;return new ReadableStream({type:"bytes",async pull(u){let h=await s.slice(i,Math.min(s.size,i+kc)).arrayBuffer();i+=h.byteLength,u.enqueue(new Uint8Array(h)),i===s.size&&u.close()}})})}catch{}});async function*go(t,r=!0){for(let o of t)if("stream"in o)yield*o.stream();else if(ArrayBuffer.isView(o))if(r){let i=o.byteOffset,s=o.byteOffset+o.byteLength;for(;i!==s;){let u=Math.min(s-i,ba),c=o.buffer.slice(i,i+u);i+=c.byteLength,yield new Uint8Array(c)}}else yield o;else{let i=0,s=o;for(;i!==s.size;){let c=await s.slice(i,Math.min(s.size,i+ba)).arrayBuffer();i+=c.byteLength,yield new Uint8Array(c)}}}var Ch,ba,Ne,yr,$t,wn,zt,ya,Oc,je,gr=br(()=>{Ch=xe(pa(),1);ba=65536;ya=(zt=class{constructor(r=[],o={}){he(this,Ne,[]);he(this,yr,"");he(this,$t,0);he(this,wn,"transparent");if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof o!="object"&&typeof o!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");o===null&&(o={});let i=new TextEncoder;for(let u of r){let c;ArrayBuffer.isView(u)?c=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?c=new Uint8Array(u.slice(0)):u instanceof zt?c=u:c=i.encode(`${u}`),re(this,$t,$(this,$t)+(ArrayBuffer.isView(c)?c.byteLength:c.size)),$(this,Ne).push(c)}re(this,wn,`${o.endings===void 0?"transparent":o.endings}`);let s=o.type===void 0?"":String(o.type);re(this,yr,/^[\x20-\x7E]*$/.test(s)?s:"")}get size(){return $(this,$t)}get type(){return $(this,yr)}async text(){let r=new TextDecoder,o="";for await(let i of go($(this,Ne),!1))o+=r.decode(i,{stream:!0});return o+=r.decode(),o}async arrayBuffer(){let r=new Uint8Array(this.size),o=0;for await(let i of go($(this,Ne),!1))r.set(i,o),o+=i.length;return r.buffer}stream(){let r=go($(this,Ne),!0);return new globalThis.ReadableStream({type:"bytes",async pull(o){let i=await r.next();i.done?o.close():o.enqueue(i.value)},async cancel(){await r.return()}})}slice(r=0,o=this.size,i=""){let{size:s}=this,u=r<0?Math.max(s+r,0):Math.min(r,s),c=o<0?Math.max(s+o,0):Math.min(o,s),h=Math.max(c-u,0),m=$(this,Ne),d=[],_=0;for(let y of m){if(_>=h)break;let g=ArrayBuffer.isView(y)?y.byteLength:y.size;if(u&&g<=u)u-=g,c-=g;else{let S;ArrayBuffer.isView(y)?(S=y.subarray(u,Math.min(g,c)),_+=S.byteLength):(S=y.slice(u,Math.min(g,c)),_+=S.size),c-=g,d.push(S),u=0}}let R=new zt([],{type:String(i).toLowerCase()});return re(R,$t,h),re(R,Ne,d),R}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}},Ne=new WeakMap,yr=new WeakMap,$t=new WeakMap,wn=new WeakMap,zt);Object.defineProperties(ya.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Oc=ya,je=Oc});var Sr,_r,ga,xc,Bc,Mt,So=br(()=>{gr();xc=(ga=class extends je{constructor(r,o,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,i);he(this,Sr,0);he(this,_r,"");i===null&&(i={});let s=i.lastModified===void 0?Date.now():Number(i.lastModified);Number.isNaN(s)||re(this,Sr,s),re(this,_r,String(o))}get name(){return $(this,_r)}get lastModified(){return $(this,Sr)}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof je&&/^(File)$/.test(r[Symbol.toStringTag])}},Sr=new WeakMap,_r=new WeakMap,ga),Bc=xc,Mt=Bc});function wa(t,r=je){var o=`${Sa()}${Sa()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],s=`--${o}\r
Content-Disposition: form-data; name="`;return t.forEach((u,c)=>typeof u=="string"?i.push(s+_o(c)+`"\r
\r
${u.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):i.push(s+_o(c)+`"; filename="${_o(u.name,1)}"\r
Content-Type: ${u.type||"application/octet-stream"}\r
\r
`,u,`\r
`)),i.push(`--${o}--`),new r(i,{type:"multipart/form-data; boundary="+o})}var wr,Dc,qc,Sa,Wc,_a,_o,gt,we,Ra,St,Rn=br(()=>{gr();So();({toStringTag:wr,iterator:Dc,hasInstance:qc}=Symbol),Sa=Math.random,Wc="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),_a=(t,r,o)=>(t+="",/^(Blob|File)$/.test(r&&r[wr])?[(o=o!==void 0?o+"":r[wr]=="File"?r.name:"blob",t),r.name!==o||r[wr]=="blob"?new Mt([r],o,r):r]:[t,r+""]),_o=(t,r)=>(r?t:t.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),gt=(t,r,o)=>{if(r.length<o)throw new TypeError(`Failed to execute '${t}' on 'FormData': ${o} arguments required, but only ${r.length} present.`)},St=(Ra=class{constructor(...r){he(this,we,[]);if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[wr](){return"FormData"}[Dc](){return this.entries()}static[qc](r){return r&&typeof r=="object"&&r[wr]==="FormData"&&!Wc.some(o=>typeof r[o]!="function")}append(...r){gt("append",arguments,2),$(this,we).push(_a(...r))}delete(r){gt("delete",arguments,1),r+="",re(this,we,$(this,we).filter(([o])=>o!==r))}get(r){gt("get",arguments,1),r+="";for(var o=$(this,we),i=o.length,s=0;s<i;s++)if(o[s][0]===r)return o[s][1];return null}getAll(r,o){return gt("getAll",arguments,1),o=[],r+="",$(this,we).forEach(i=>i[0]===r&&o.push(i[1])),o}has(r){return gt("has",arguments,1),r+="",$(this,we).some(o=>o[0]===r)}forEach(r,o){gt("forEach",arguments,1);for(var[i,s]of this)r.call(o,s,i,this)}set(...r){gt("set",arguments,2);var o=[],i=!0;r=_a(...r),$(this,we).forEach(s=>{s[0]===r[0]?i&&(i=!o.push(r)):o.push(s)}),i&&o.push(r),re(this,we,o)}*entries(){yield*$(this,we)}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}},we=new WeakMap,Ra)});var Ca=k(($h,Ea)=>{if(!globalThis.DOMException)try{let{MessageChannel:t}=require("worker_threads"),r=new t().port1,o=new ArrayBuffer;r.postMessage(o,[o,o])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}Ea.exports=globalThis.DOMException});var vr,Pa,Fc,_t,wt,Ro,Lc,vo=br(()=>{vr=require("fs"),Pa=xe(Ca(),1);So();gr();({stat:Fc}=vr.promises),Ro=class{constructor(r){he(this,_t,void 0);he(this,wt,void 0);re(this,_t,r.path),re(this,wt,r.start),this.size=r.size,this.lastModified=r.lastModified}slice(r,o){return new Ro({path:$(this,_t),lastModified:this.lastModified,size:o-r,start:$(this,wt)+r})}async*stream(){let{mtimeMs:r}=await Fc($(this,_t));if(r>this.lastModified)throw new Pa.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,vr.createReadStream)($(this,_t),{start:$(this,wt),end:$(this,wt)+this.size-1})}get[Symbol.toStringTag](){return"Blob"}},Lc=Ro;_t=new WeakMap,wt=new WeakMap});var ka={};la(ka,{toFormData:()=>Hc});function Nc(t){let r=t.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let o=r[2]||r[3]||"",i=o.slice(o.lastIndexOf("\\")+1);return i=i.replace(/%22/g,'"'),i=i.replace(/&#(\d{4});/g,(s,u)=>String.fromCharCode(u)),i}async function Hc(t,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let o=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!o)throw new TypeError("no or bad content-type header, no multipart boundary");let i=new Ia(o[1]||o[2]),s,u,c,h,m,d,_=[],R=new St,y=w=>{c+=T.decode(w,{stream:!0})},g=w=>{_.push(w)},S=()=>{let w=new Mt(_,d,{type:m});R.append(h,w)},E=()=>{R.append(h,c)},T=new TextDecoder("utf-8");T.decode(),i.onPartBegin=function(){i.onPartData=y,i.onPartEnd=E,s="",u="",c="",h="",m="",d=null,_.length=0},i.onHeaderField=function(w){s+=T.decode(w,{stream:!0})},i.onHeaderValue=function(w){u+=T.decode(w,{stream:!0})},i.onHeaderEnd=function(){if(u+=T.decode(),s=s.toLowerCase(),s==="content-disposition"){let w=u.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);w&&(h=w[2]||w[3]||""),d=Nc(u),d&&(i.onPartData=g,i.onPartEnd=S)}else s==="content-type"&&(m=u);u="",s=""};for await(let w of t)i.write(w);return i.end(),R}var Be,M,Aa,nt,Tn,En,$c,Tr,zc,Mc,Uc,jc,Rt,Ia,Oa=br(()=>{vo();Rn();Be=0,M={START_BOUNDARY:Be++,HEADER_FIELD_START:Be++,HEADER_FIELD:Be++,HEADER_VALUE_START:Be++,HEADER_VALUE:Be++,HEADER_VALUE_ALMOST_DONE:Be++,HEADERS_ALMOST_DONE:Be++,PART_DATA_START:Be++,PART_DATA:Be++,END:Be++},Aa=1,nt={PART_BOUNDARY:Aa,LAST_BOUNDARY:Aa*=2},Tn=10,En=13,$c=32,Tr=45,zc=58,Mc=97,Uc=122,jc=t=>t|32,Rt=()=>{},Ia=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=Rt,this.onHeaderField=Rt,this.onHeadersEnd=Rt,this.onHeaderValue=Rt,this.onPartBegin=Rt,this.onPartData=Rt,this.onPartEnd=Rt,this.boundaryChars={},r=`\r
--`+r;let o=new Uint8Array(r.length);for(let i=0;i<r.length;i++)o[i]=r.charCodeAt(i),this.boundaryChars[o[i]]=!0;this.boundary=o,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=M.START_BOUNDARY}write(r){let o=0,i=r.length,s=this.index,{lookbehind:u,boundary:c,boundaryChars:h,index:m,state:d,flags:_}=this,R=this.boundary.length,y=R-1,g=r.length,S,E,T=P=>{this[P+"Mark"]=o},w=P=>{delete this[P+"Mark"]},x=(P,D,A,V)=>{(D===void 0||D!==A)&&this[P](V&&V.subarray(D,A))},U=(P,D)=>{let A=P+"Mark";A in this&&(D?(x(P,this[A],o,r),delete this[A]):(x(P,this[A],r.length,r),this[A]=0))};for(o=0;o<i;o++)switch(S=r[o],d){case M.START_BOUNDARY:if(m===c.length-2){if(S===Tr)_|=nt.LAST_BOUNDARY;else if(S!==En)return;m++;break}else if(m-1===c.length-2){if(_&nt.LAST_BOUNDARY&&S===Tr)d=M.END,_=0;else if(!(_&nt.LAST_BOUNDARY)&&S===Tn)m=0,x("onPartBegin"),d=M.HEADER_FIELD_START;else return;break}S!==c[m+2]&&(m=-2),S===c[m+2]&&m++;break;case M.HEADER_FIELD_START:d=M.HEADER_FIELD,T("onHeaderField"),m=0;case M.HEADER_FIELD:if(S===En){w("onHeaderField"),d=M.HEADERS_ALMOST_DONE;break}if(m++,S===Tr)break;if(S===zc){if(m===1)return;U("onHeaderField",!0),d=M.HEADER_VALUE_START;break}if(E=jc(S),E<Mc||E>Uc)return;break;case M.HEADER_VALUE_START:if(S===$c)break;T("onHeaderValue"),d=M.HEADER_VALUE;case M.HEADER_VALUE:S===En&&(U("onHeaderValue",!0),x("onHeaderEnd"),d=M.HEADER_VALUE_ALMOST_DONE);break;case M.HEADER_VALUE_ALMOST_DONE:if(S!==Tn)return;d=M.HEADER_FIELD_START;break;case M.HEADERS_ALMOST_DONE:if(S!==Tn)return;x("onHeadersEnd"),d=M.PART_DATA_START;break;case M.PART_DATA_START:d=M.PART_DATA,T("onPartData");case M.PART_DATA:if(s=m,m===0){for(o+=y;o<g&&!(r[o]in h);)o+=R;o-=y,S=r[o]}if(m<c.length)c[m]===S?(m===0&&U("onPartData",!0),m++):m=0;else if(m===c.length)m++,S===En?_|=nt.PART_BOUNDARY:S===Tr?_|=nt.LAST_BOUNDARY:m=0;else if(m-1===c.length)if(_&nt.PART_BOUNDARY){if(m=0,S===Tn){_&=~nt.PART_BOUNDARY,x("onPartEnd"),x("onPartBegin"),d=M.HEADER_FIELD_START;break}}else _&nt.LAST_BOUNDARY&&S===Tr?(x("onPartEnd"),d=M.END,_=0):m=0;if(m>0)u[m-1]=S;else if(s>0){let P=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);x("onPartData",0,s,P),s=0,T("onPartData"),o--}break;case M.END:break;default:throw new Error(`Unexpected state entered: ${d}`)}U("onHeaderField"),U("onHeaderValue"),U("onPartData"),this.index=m,this.state=d,this.flags=_}end(){if(this.state===M.HEADER_FIELD_START&&this.index===0||this.state===M.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==M.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var bs=k((qm,ps)=>{ps.exports=ms;ms.sync=Rf;var ds=require("fs");function wf(t,r){var o=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!o||(o=o.split(";"),o.indexOf("")!==-1))return!0;for(var i=0;i<o.length;i++){var s=o[i].toLowerCase();if(s&&t.substr(-s.length).toLowerCase()===s)return!0}return!1}function hs(t,r,o){return!t.isSymbolicLink()&&!t.isFile()?!1:wf(r,o)}function ms(t,r,o){ds.stat(t,function(i,s){o(i,i?!1:hs(s,t,r))})}function Rf(t,r){return hs(ds.statSync(t),t,r)}});var ws=k((Wm,_s)=>{_s.exports=gs;gs.sync=vf;var ys=require("fs");function gs(t,r,o){ys.stat(t,function(i,s){o(i,i?!1:Ss(s,r))})}function vf(t,r){return Ss(ys.statSync(t),r)}function Ss(t,r){return t.isFile()&&Tf(t,r)}function Tf(t,r){var o=t.mode,i=t.uid,s=t.gid,u=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),c=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),h=parseInt("100",8),m=parseInt("010",8),d=parseInt("001",8),_=h|m,R=o&d||o&m&&s===c||o&h&&i===u||o&_&&u===0;return R}});var vs=k((Lm,Rs)=>{var Fm=require("fs"),Dn;process.platform==="win32"||global.TESTING_WINDOWS?Dn=bs():Dn=ws();Rs.exports=Lo;Lo.sync=Ef;function Lo(t,r,o){if(typeof r=="function"&&(o=r,r={}),!o){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(i,s){Lo(t,r||{},function(u,c){u?s(u):i(c)})})}Dn(t,r||{},function(i,s){i&&(i.code==="EACCES"||r&&r.ignoreErrors)&&(i=null,s=!1),o(i,s)})}function Ef(t,r){try{return Dn.sync(t,r||{})}catch(o){if(r&&r.ignoreErrors||o.code==="EACCES")return!1;throw o}}});var ks=k(($m,Is)=>{var Nt=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Ts=require("path"),Cf=Nt?";":":",Es=vs(),Cs=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),Ps=(t,r)=>{let o=r.colon||Cf,i=t.match(/\//)||Nt&&t.match(/\\/)?[""]:[...Nt?[process.cwd()]:[],...(r.path||process.env.PATH||"").split(o)],s=Nt?r.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",u=Nt?s.split(o):[""];return Nt&&t.indexOf(".")!==-1&&u[0]!==""&&u.unshift(""),{pathEnv:i,pathExt:u,pathExtExe:s}},As=(t,r,o)=>{typeof r=="function"&&(o=r,r={}),r||(r={});let{pathEnv:i,pathExt:s,pathExtExe:u}=Ps(t,r),c=[],h=d=>new Promise((_,R)=>{if(d===i.length)return r.all&&c.length?_(c):R(Cs(t));let y=i[d],g=/^".*"$/.test(y)?y.slice(1,-1):y,S=Ts.join(g,t),E=!g&&/^\.[\\\/]/.test(t)?t.slice(0,2)+S:S;_(m(E,d,0))}),m=(d,_,R)=>new Promise((y,g)=>{if(R===s.length)return y(h(_+1));let S=s[R];Es(d+S,{pathExt:u},(E,T)=>{if(!E&&T)if(r.all)c.push(d+S);else return y(d+S);return y(m(d,_,R+1))})});return o?h(0).then(d=>o(null,d),o):h(0)},Pf=(t,r)=>{r=r||{};let{pathEnv:o,pathExt:i,pathExtExe:s}=Ps(t,r),u=[];for(let c=0;c<o.length;c++){let h=o[c],m=/^".*"$/.test(h)?h.slice(1,-1):h,d=Ts.join(m,t),_=!m&&/^\.[\\\/]/.test(t)?t.slice(0,2)+d:d;for(let R=0;R<i.length;R++){let y=_+i[R];try{if(Es.sync(y,{pathExt:s}))if(r.all)u.push(y);else return y}catch{}}}if(r.all&&u.length)return u;if(r.nothrow)return null;throw Cs(t)};Is.exports=As;As.sync=Pf});var zo=k((zm,$o)=>{"use strict";var Os=(t={})=>{let r=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(r).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};$o.exports=Os;$o.exports.default=Os});var qs=k((Mm,Ds)=>{"use strict";var xs=require("path"),Af=ks(),If=zo();function Bs(t,r){let o=t.options.env||process.env,i=process.cwd(),s=t.options.cwd!=null,u=s&&process.chdir!==void 0&&!process.chdir.disabled;if(u)try{process.chdir(t.options.cwd)}catch{}let c;try{c=Af.sync(t.command,{path:o[If({env:o})],pathExt:r?xs.delimiter:void 0})}catch{}finally{u&&process.chdir(i)}return c&&(c=xs.resolve(s?t.options.cwd:"",c)),c}function kf(t){return Bs(t)||Bs(t,!0)}Ds.exports=kf});var Ws=k((Um,Uo)=>{"use strict";var Mo=/([()\][%!^"`<>&|;, *?])/g;function Of(t){return t=t.replace(Mo,"^$1"),t}function xf(t,r){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(Mo,"^$1"),r&&(t=t.replace(Mo,"^$1")),t}Uo.exports.command=Of;Uo.exports.argument=xf});var Ls=k((jm,Fs)=>{"use strict";Fs.exports=/^#!(.*)/});var zs=k((Nm,$s)=>{"use strict";var Bf=Ls();$s.exports=(t="")=>{let r=t.match(Bf);if(!r)return null;let[o,i]=r[0].replace(/#! ?/,"").split(" "),s=o.split("/").pop();return s==="env"?i:i?`${s} ${i}`:s}});var Us=k((Hm,Ms)=>{"use strict";var jo=require("fs"),Df=zs();function qf(t){let r=150,o=Buffer.alloc(r),i;try{i=jo.openSync(t,"r"),jo.readSync(i,o,0,r,0),jo.closeSync(i)}catch{}return Df(o.toString())}Ms.exports=qf});var Gs=k((Gm,Hs)=>{"use strict";var Wf=require("path"),js=qs(),Ns=Ws(),Ff=Us(),Lf=process.platform==="win32",$f=/\.(?:com|exe)$/i,zf=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Mf(t){t.file=js(t);let r=t.file&&Ff(t.file);return r?(t.args.unshift(t.file),t.command=r,js(t)):t.file}function Uf(t){if(!Lf)return t;let r=Mf(t),o=!$f.test(r);if(t.options.forceShell||o){let i=zf.test(r);t.command=Wf.normalize(t.command),t.command=Ns.command(t.command),t.args=t.args.map(u=>Ns.argument(u,i));let s=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${s}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function jf(t,r,o){r&&!Array.isArray(r)&&(o=r,r=null),r=r?r.slice(0):[],o=Object.assign({},o);let i={command:t,args:r,options:o,file:void 0,original:{command:t,args:r}};return o.shell?i:Uf(i)}Hs.exports=jf});var Qs=k((Vm,Ys)=>{"use strict";var No=process.platform==="win32";function Ho(t,r){return Object.assign(new Error(`${r} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${r} ${t.command}`,path:t.command,spawnargs:t.args})}function Nf(t,r){if(!No)return;let o=t.emit;t.emit=function(i,s){if(i==="exit"){let u=Vs(s,r,"spawn");if(u)return o.call(t,"error",u)}return o.apply(t,arguments)}}function Vs(t,r){return No&&t===1&&!r.file?Ho(r.original,"spawn"):null}function Hf(t,r){return No&&t===1&&!r.file?Ho(r.original,"spawnSync"):null}Ys.exports={hookChildProcess:Nf,verifyENOENT:Vs,verifyENOENTSync:Hf,notFoundError:Ho}});var Zs=k((Ym,Ht)=>{"use strict";var Xs=require("child_process"),Go=Gs(),Vo=Qs();function Ks(t,r,o){let i=Go(t,r,o),s=Xs.spawn(i.command,i.args,i.options);return Vo.hookChildProcess(s,i),s}function Gf(t,r,o){let i=Go(t,r,o),s=Xs.spawnSync(i.command,i.args,i.options);return s.error=s.error||Vo.verifyENOENTSync(s.status,i),s}Ht.exports=Ks;Ht.exports.spawn=Ks;Ht.exports.sync=Gf;Ht.exports._parse=Go;Ht.exports._enoent=Vo});var eu=k((Qm,Js)=>{"use strict";Js.exports=t=>{let r=typeof t=="string"?`
`:`
`.charCodeAt(),o=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t[t.length-1]===o&&(t=t.slice(0,t.length-1)),t}});var nu=k((Xm,Br)=>{"use strict";var xr=require("path"),tu=zo(),ru=t=>{t={cwd:process.cwd(),path:process.env[tu()],execPath:process.execPath,...t};let r,o=xr.resolve(t.cwd),i=[];for(;r!==o;)i.push(xr.join(o,"node_modules/.bin")),r=o,o=xr.resolve(o,"..");let s=xr.resolve(t.cwd,t.execPath,"..");return i.push(s),i.concat(t.path).join(xr.delimiter)};Br.exports=ru;Br.exports.default=ru;Br.exports.env=t=>{t={env:process.env,...t};let r={...t.env},o=tu({env:r});return t.path=r[o],r[o]=Br.exports(t),r}});var iu=k((Km,Yo)=>{"use strict";var ou=(t,r)=>{for(let o of Reflect.ownKeys(r))Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o));return t};Yo.exports=ou;Yo.exports.default=ou});var su=k((Zm,Wn)=>{"use strict";var Vf=iu(),qn=new WeakMap,au=(t,r={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let o,i=0,s=t.displayName||t.name||"<anonymous>",u=function(...c){if(qn.set(u,++i),i===1)o=t.apply(this,c),t=null;else if(r.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return o};return Vf(u,t),qn.set(u,i),u};Wn.exports=au;Wn.exports.default=au;Wn.exports.callCount=t=>{if(!qn.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return qn.get(t)}});var uu=k(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.SIGNALS=void 0;var Yf=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];Fn.SIGNALS=Yf});var Qo=k(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.SIGRTMAX=Gt.getRealtimeSignals=void 0;var Qf=function(){let t=cu-lu+1;return Array.from({length:t},Xf)};Gt.getRealtimeSignals=Qf;var Xf=function(t,r){return{name:`SIGRT${r+1}`,number:lu+r,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},lu=34,cu=64;Gt.SIGRTMAX=cu});var fu=k(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.getSignals=void 0;var Kf=require("os"),Zf=uu(),Jf=Qo(),ed=function(){let t=(0,Jf.getRealtimeSignals)();return[...Zf.SIGNALS,...t].map(td)};Ln.getSignals=ed;var td=function({name:t,number:r,description:o,action:i,forced:s=!1,standard:u}){let{signals:{[t]:c}}=Kf.constants,h=c!==void 0;return{name:t,number:h?c:r,description:o,supported:h,action:i,forced:s,standard:u}}});var hu=k(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.signalsByNumber=Vt.signalsByName=void 0;var rd=require("os"),du=fu(),nd=Qo(),od=function(){return(0,du.getSignals)().reduce(id,{})},id=function(t,{name:r,number:o,description:i,supported:s,action:u,forced:c,standard:h}){return{...t,[r]:{name:r,number:o,description:i,supported:s,action:u,forced:c,standard:h}}},ad=od();Vt.signalsByName=ad;var sd=function(){let t=(0,du.getSignals)(),r=nd.SIGRTMAX+1,o=Array.from({length:r},(i,s)=>ud(s,t));return Object.assign({},...o)},ud=function(t,r){let o=ld(t,r);if(o===void 0)return{};let{name:i,description:s,supported:u,action:c,forced:h,standard:m}=o;return{[t]:{name:i,number:t,description:s,supported:u,action:c,forced:h,standard:m}}},ld=function(t,r){let o=r.find(({name:i})=>rd.constants.signals[i]===t);return o!==void 0?o:r.find(i=>i.number===t)},cd=sd();Vt.signalsByNumber=cd});var pu=k((np,mu)=>{"use strict";var{signalsByName:fd}=hu(),dd=({timedOut:t,timeout:r,errorCode:o,signal:i,signalDescription:s,exitCode:u,isCanceled:c})=>t?`timed out after ${r} milliseconds`:c?"was canceled":o!==void 0?`failed with ${o}`:i!==void 0?`was killed with ${i} (${s})`:u!==void 0?`failed with exit code ${u}`:"failed",hd=({stdout:t,stderr:r,all:o,error:i,signal:s,exitCode:u,command:c,escapedCommand:h,timedOut:m,isCanceled:d,killed:_,parsed:{options:{timeout:R}}})=>{u=u===null?void 0:u,s=s===null?void 0:s;let y=s===void 0?void 0:fd[s].description,g=i&&i.code,E=`Command ${dd({timedOut:m,timeout:R,errorCode:g,signal:s,signalDescription:y,exitCode:u,isCanceled:d})}: ${c}`,T=Object.prototype.toString.call(i)==="[object Error]",w=T?`${E}
${i.message}`:E,x=[w,r,t].filter(Boolean).join(`
`);return T?(i.originalMessage=i.message,i.message=x):i=new Error(x),i.shortMessage=w,i.command=c,i.escapedCommand=h,i.exitCode=u,i.signal=s,i.signalDescription=y,i.stdout=t,i.stderr=r,o!==void 0&&(i.all=o),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=Boolean(m),i.isCanceled=d,i.killed=_&&!m,i};mu.exports=hd});var yu=k((op,Xo)=>{"use strict";var $n=["stdin","stdout","stderr"],md=t=>$n.some(r=>t[r]!==void 0),bu=t=>{if(!t)return;let{stdio:r}=t;if(r===void 0)return $n.map(i=>t[i]);if(md(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${$n.map(i=>`\`${i}\``).join(", ")}`);if(typeof r=="string")return r;if(!Array.isArray(r))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof r}\``);let o=Math.max(r.length,$n.length);return Array.from({length:o},(i,s)=>r[s])};Xo.exports=bu;Xo.exports.node=t=>{let r=bu(t);return r==="ipc"?"ipc":r===void 0||typeof r=="string"?[r,r,r,"ipc"]:r.includes("ipc")?r:[...r,"ipc"]}});var gu=k((ip,zn)=>{zn.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&zn.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&zn.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var vu=k((ap,Xt)=>{var N=global.process,Et=function(t){return t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function"};Et(N)?(Su=require("assert"),Yt=gu(),_u=/^win/i.test(N.platform),Dr=require("events"),typeof Dr!="function"&&(Dr=Dr.EventEmitter),N.__signal_exit_emitter__?K=N.__signal_exit_emitter__:(K=N.__signal_exit_emitter__=new Dr,K.count=0,K.emitted={}),K.infinite||(K.setMaxListeners(1/0),K.infinite=!0),Xt.exports=function(t,r){if(!!Et(global.process)){Su.equal(typeof t,"function","a callback must be provided for exit handler"),Qt===!1&&Ko();var o="exit";r&&r.alwaysLast&&(o="afterexit");var i=function(){K.removeListener(o,t),K.listeners("exit").length===0&&K.listeners("afterexit").length===0&&Mn()};return K.on(o,t),i}},Mn=function(){!Qt||!Et(global.process)||(Qt=!1,Yt.forEach(function(r){try{N.removeListener(r,Un[r])}catch{}}),N.emit=jn,N.reallyExit=Zo,K.count-=1)},Xt.exports.unload=Mn,Ct=function(r,o,i){K.emitted[r]||(K.emitted[r]=!0,K.emit(r,o,i))},Un={},Yt.forEach(function(t){Un[t]=function(){if(!!Et(global.process)){var o=N.listeners(t);o.length===K.count&&(Mn(),Ct("exit",null,t),Ct("afterexit",null,t),_u&&t==="SIGHUP"&&(t="SIGINT"),N.kill(N.pid,t))}}}),Xt.exports.signals=function(){return Yt},Qt=!1,Ko=function(){Qt||!Et(global.process)||(Qt=!0,K.count+=1,Yt=Yt.filter(function(r){try{return N.on(r,Un[r]),!0}catch{return!1}}),N.emit=Ru,N.reallyExit=wu)},Xt.exports.load=Ko,Zo=N.reallyExit,wu=function(r){!Et(global.process)||(N.exitCode=r||0,Ct("exit",N.exitCode,null),Ct("afterexit",N.exitCode,null),Zo.call(N,N.exitCode))},jn=N.emit,Ru=function(r,o){if(r==="exit"&&Et(global.process)){o!==void 0&&(N.exitCode=o);var i=jn.apply(this,arguments);return Ct("exit",N.exitCode,null),Ct("afterexit",N.exitCode,null),i}else return jn.apply(this,arguments)}):Xt.exports=function(){};var Su,Yt,_u,Dr,K,Mn,Ct,Un,Qt,Ko,Zo,wu,jn,Ru});var Eu=k((sp,Tu)=>{"use strict";var pd=require("os"),bd=vu(),yd=1e3*5,gd=(t,r="SIGTERM",o={})=>{let i=t(r);return Sd(t,r,o,i),i},Sd=(t,r,o,i)=>{if(!_d(r,o,i))return;let s=Rd(o),u=setTimeout(()=>{t("SIGKILL")},s);u.unref&&u.unref()},_d=(t,{forceKillAfterTimeout:r},o)=>wd(t)&&r!==!1&&o,wd=t=>t===pd.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",Rd=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return yd;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},vd=(t,r)=>{t.kill()&&(r.isCanceled=!0)},Td=(t,r,o)=>{t.kill(r),o(Object.assign(new Error("Timed out"),{timedOut:!0,signal:r}))},Ed=(t,{timeout:r,killSignal:o="SIGTERM"},i)=>{if(r===0||r===void 0)return i;let s,u=new Promise((h,m)=>{s=setTimeout(()=>{Td(t,o,m)},r)}),c=i.finally(()=>{clearTimeout(s)});return Promise.race([u,c])},Cd=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},Pd=async(t,{cleanup:r,detached:o},i)=>{if(!r||o)return i;let s=bd(()=>{t.kill()});return i.finally(()=>{s()})};Tu.exports={spawnedKill:gd,spawnedCancel:vd,setupTimeout:Ed,validateTimeout:Cd,setExitHandler:Pd}});var Pu=k((up,Cu)=>{"use strict";var We=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";We.writable=t=>We(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";We.readable=t=>We(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";We.duplex=t=>We.writable(t)&&We.readable(t);We.transform=t=>We.duplex(t)&&typeof t._transform=="function";Cu.exports=We});var Iu=k((lp,Au)=>{"use strict";var{PassThrough:Ad}=require("stream");Au.exports=t=>{t={...t};let{array:r}=t,{encoding:o}=t,i=o==="buffer",s=!1;r?s=!(o||i):o=o||"utf8",i&&(o=null);let u=new Ad({objectMode:s});o&&u.setEncoding(o);let c=0,h=[];return u.on("data",m=>{h.push(m),s?c=h.length:c+=m.length}),u.getBufferedValue=()=>r?h:i?Buffer.concat(h,c):h.join(""),u.getBufferedLength=()=>c,u}});var ku=k((cp,qr)=>{"use strict";var{constants:Id}=require("buffer"),kd=require("stream"),{promisify:Od}=require("util"),xd=Iu(),Bd=Od(kd.pipeline),Jo=class extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}};async function ei(t,r){if(!t)throw new Error("Expected a stream");r={maxBuffer:1/0,...r};let{maxBuffer:o}=r,i=xd(r);return await new Promise((s,u)=>{let c=h=>{h&&i.getBufferedLength()<=Id.MAX_LENGTH&&(h.bufferedData=i.getBufferedValue()),u(h)};(async()=>{try{await Bd(t,i),s()}catch(h){c(h)}})(),i.on("data",()=>{i.getBufferedLength()>o&&c(new Jo)})}),i.getBufferedValue()}qr.exports=ei;qr.exports.buffer=(t,r)=>ei(t,{...r,encoding:"buffer"});qr.exports.array=(t,r)=>ei(t,{...r,array:!0});qr.exports.MaxBufferError=Jo});var xu=k((fp,Ou)=>{"use strict";var{PassThrough:Dd}=require("stream");Ou.exports=function(){var t=[],r=new Dd({objectMode:!0});return r.setMaxListeners(0),r.add=o,r.isEmpty=i,r.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(o),r;function o(u){return Array.isArray(u)?(u.forEach(o),this):(t.push(u),u.once("end",s.bind(null,u)),u.once("error",r.emit.bind(r,"error")),u.pipe(r,{end:!1}),this)}function i(){return t.length==0}function s(u){t=t.filter(function(c){return c!==u}),!t.length&&r.readable&&r.end()}}});var Wu=k((dp,qu)=>{"use strict";var Bu=Pu(),Du=ku(),qd=xu(),Wd=(t,r)=>{r===void 0||t.stdin===void 0||(Bu(r)?r.pipe(t.stdin):t.stdin.end(r))},Fd=(t,{all:r})=>{if(!r||!t.stdout&&!t.stderr)return;let o=qd();return t.stdout&&o.add(t.stdout),t.stderr&&o.add(t.stderr),o},ti=async(t,r)=>{if(!!t){t.destroy();try{return await r}catch(o){return o.bufferedData}}},ri=(t,{encoding:r,buffer:o,maxBuffer:i})=>{if(!(!t||!o))return r?Du(t,{encoding:r,maxBuffer:i}):Du.buffer(t,{maxBuffer:i})},Ld=async({stdout:t,stderr:r,all:o},{encoding:i,buffer:s,maxBuffer:u},c)=>{let h=ri(t,{encoding:i,buffer:s,maxBuffer:u}),m=ri(r,{encoding:i,buffer:s,maxBuffer:u}),d=ri(o,{encoding:i,buffer:s,maxBuffer:u*2});try{return await Promise.all([c,h,m,d])}catch(_){return Promise.all([{error:_,signal:_.signal,timedOut:_.timedOut},ti(t,h),ti(r,m),ti(o,d)])}},$d=({input:t})=>{if(Bu(t))throw new TypeError("The `input` option cannot be a stream in sync mode")};qu.exports={handleInput:Wd,makeAllStream:Fd,getSpawnedResult:Ld,validateInputSync:$d}});var Lu=k((hp,Fu)=>{"use strict";var zd=(async()=>{})().constructor.prototype,Md=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(zd,t)]),Ud=(t,r)=>{for(let[o,i]of Md){let s=typeof r=="function"?(...u)=>Reflect.apply(i.value,r(),u):i.value.bind(r);Reflect.defineProperty(t,o,{...i,value:s})}return t},jd=t=>new Promise((r,o)=>{t.on("exit",(i,s)=>{r({exitCode:i,signal:s})}),t.on("error",i=>{o(i)}),t.stdin&&t.stdin.on("error",i=>{o(i)})});Fu.exports={mergePromise:Ud,getSpawnedPromise:jd}});var Mu=k((mp,zu)=>{"use strict";var $u=(t,r=[])=>Array.isArray(r)?[t,...r]:[t],Nd=/^[\w.-]+$/,Hd=/"/g,Gd=t=>typeof t!="string"||Nd.test(t)?t:`"${t.replace(Hd,'\\"')}"`,Vd=(t,r)=>$u(t,r).join(" "),Yd=(t,r)=>$u(t,r).map(o=>Gd(o)).join(" "),Qd=/ +/g,Xd=t=>{let r=[];for(let o of t.trim().split(Qd)){let i=r[r.length-1];i&&i.endsWith("\\")?r[r.length-1]=`${i.slice(0,-1)} ${o}`:r.push(o)}return r};zu.exports={joinCommand:Vd,getEscapedCommand:Yd,parseCommand:Xd}});var Yu=k((pp,Kt)=>{"use strict";var Kd=require("path"),ni=require("child_process"),Zd=Zs(),Jd=eu(),eh=nu(),th=su(),Nn=pu(),Uu=yu(),{spawnedKill:rh,spawnedCancel:nh,setupTimeout:oh,validateTimeout:ih,setExitHandler:ah}=Eu(),{handleInput:sh,getSpawnedResult:uh,makeAllStream:lh,validateInputSync:ch}=Wu(),{mergePromise:ju,getSpawnedPromise:fh}=Lu(),{joinCommand:Nu,parseCommand:Hu,getEscapedCommand:Gu}=Mu(),dh=1e3*1e3*100,hh=({env:t,extendEnv:r,preferLocal:o,localDir:i,execPath:s})=>{let u=r?{...process.env,...t}:t;return o?eh.env({env:u,cwd:i,execPath:s}):u},Vu=(t,r,o={})=>{let i=Zd._parse(t,r,o);return t=i.command,r=i.args,o=i.options,o={maxBuffer:dh,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:o.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...o},o.env=hh(o),o.stdio=Uu(o),process.platform==="win32"&&Kd.basename(t,".exe")==="cmd"&&r.unshift("/q"),{file:t,args:r,options:o,parsed:i}},Wr=(t,r,o)=>typeof r!="string"&&!Buffer.isBuffer(r)?o===void 0?void 0:"":t.stripFinalNewline?Jd(r):r,Hn=(t,r,o)=>{let i=Vu(t,r,o),s=Nu(t,r),u=Gu(t,r);ih(i.options);let c;try{c=ni.spawn(i.file,i.args,i.options)}catch(g){let S=new ni.ChildProcess,E=Promise.reject(Nn({error:g,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:i,timedOut:!1,isCanceled:!1,killed:!1}));return ju(S,E)}let h=fh(c),m=oh(c,i.options,h),d=ah(c,i.options,m),_={isCanceled:!1};c.kill=rh.bind(null,c.kill.bind(c)),c.cancel=nh.bind(null,c,_);let y=th(async()=>{let[{error:g,exitCode:S,signal:E,timedOut:T},w,x,U]=await uh(c,i.options,d),P=Wr(i.options,w),D=Wr(i.options,x),A=Wr(i.options,U);if(g||S!==0||E!==null){let V=Nn({error:g,exitCode:S,signal:E,stdout:P,stderr:D,all:A,command:s,escapedCommand:u,parsed:i,timedOut:T,isCanceled:_.isCanceled,killed:c.killed});if(!i.options.reject)return V;throw V}return{command:s,escapedCommand:u,exitCode:0,stdout:P,stderr:D,all:A,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return sh(c,i.options.input),c.all=lh(c,i.options),ju(c,y)};Kt.exports=Hn;Kt.exports.sync=(t,r,o)=>{let i=Vu(t,r,o),s=Nu(t,r),u=Gu(t,r);ch(i.options);let c;try{c=ni.spawnSync(i.file,i.args,i.options)}catch(d){throw Nn({error:d,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:i,timedOut:!1,isCanceled:!1,killed:!1})}let h=Wr(i.options,c.stdout,c.error),m=Wr(i.options,c.stderr,c.error);if(c.error||c.status!==0||c.signal!==null){let d=Nn({stdout:h,stderr:m,error:c.error,signal:c.signal,exitCode:c.status,command:s,escapedCommand:u,parsed:i,timedOut:c.error&&c.error.code==="ETIMEDOUT",isCanceled:!1,killed:c.signal!==null});if(!i.options.reject)return d;throw d}return{command:s,escapedCommand:u,exitCode:0,stdout:h,stderr:m,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};Kt.exports.command=(t,r)=>{let[o,...i]=Hu(t);return Hn(o,i,r)};Kt.exports.commandSync=(t,r)=>{let[o,...i]=Hu(t);return Hn.sync(o,i,r)};Kt.exports.node=(t,r,o={})=>{r&&!Array.isArray(r)&&typeof r=="object"&&(o=r,r=[]);let i=Uu.node(o),s=process.execArgv.filter(h=>!h.startsWith("--inspect")),{nodePath:u=process.execPath,nodeOptions:c=s}=o;return Hn(u,[...c,t,...Array.isArray(r)?r:[]],{...o,stdin:void 0,stdout:void 0,stderr:void 0,stdio:i,shell:!1})}});var _h={};la(_h,{default:()=>Sh});var at=require("@raycast/api");var qe=require("@raycast/api"),Fo=require("react");var Ga=xe(require("http"),1),Va=xe(require("https"),1),vt=xe(require("zlib"),1),ye=xe(require("stream"),1),Cr=require("buffer");function Ic(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let r=t.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let o=t.substring(5,r).split(";"),i="",s=!1,u=o[0]||"text/plain",c=u;for(let _=1;_<o.length;_++)o[_]==="base64"?s=!0:(c+=`;${o[_]}`,o[_].indexOf("charset=")===0&&(i=o[_].substring(8)));!o[0]&&!i.length&&(c+=";charset=US-ASCII",i="US-ASCII");let h=s?"base64":"ascii",m=unescape(t.substring(r+1)),d=Buffer.from(m,h);return d.type=u,d.typeFull=c,d.charset=i,d}var da=Ic;var Re=xe(require("stream"),1),He=require("util"),pe=require("buffer");gr();Rn();var rt=class extends Error{constructor(r,o){super(r);Error.captureStackTrace(this,this.constructor),this.type=o}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var me=class extends rt{constructor(r,o,i){super(r,o);i&&(this.code=this.errno=i.code,this.erroredSysCall=i.syscall)}};var vn=Symbol.toStringTag,wo=t=>typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&typeof t.sort=="function"&&t[vn]==="URLSearchParams",Rr=t=>t&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[vn]),va=t=>typeof t=="object"&&(t[vn]==="AbortSignal"||t[vn]==="EventTarget"),Ta=(t,r)=>{let o=new URL(r).hostname,i=new URL(t).hostname;return o===i||o.endsWith(`.${i}`)};var Gc=(0,He.promisify)(Re.default.pipeline),le=Symbol("Body internals"),Ge=class{constructor(r,{size:o=0}={}){let i=null;r===null?r=null:wo(r)?r=pe.Buffer.from(r.toString()):Rr(r)||pe.Buffer.isBuffer(r)||(He.types.isAnyArrayBuffer(r)?r=pe.Buffer.from(r):ArrayBuffer.isView(r)?r=pe.Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof Re.default||(r instanceof St?(r=wa(r),i=r.type.split("=")[1]):r=pe.Buffer.from(String(r))));let s=r;pe.Buffer.isBuffer(r)?s=Re.default.Readable.from(r):Rr(r)&&(s=Re.default.Readable.from(r.stream())),this[le]={body:r,stream:s,boundary:i,disturbed:!1,error:null},this.size=o,r instanceof Re.default&&r.on("error",u=>{let c=u instanceof rt?u:new me(`Invalid response body while trying to fetch ${this.url}: ${u.message}`,"system",u);this[le].error=c})}get body(){return this[le].stream}get bodyUsed(){return this[le].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:o,byteLength:i}=await Cn(this);return r.slice(o,o+i)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let i=new St,s=new URLSearchParams(await this.text());for(let[u,c]of s)i.append(u,c);return i}let{toFormData:o}=await Promise.resolve().then(()=>(Oa(),ka));return o(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[le].body&&this[le].body.type||"",o=await this.arrayBuffer();return new je([o],{type:r})}async json(){let r=await Cn(this);return JSON.parse(r.toString())}async text(){return(await Cn(this)).toString()}buffer(){return Cn(this)}};Ge.prototype.buffer=(0,He.deprecate)(Ge.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Ge.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,He.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function Cn(t){if(t[le].disturbed)throw new TypeError(`body used already for: ${t.url}`);if(t[le].disturbed=!0,t[le].error)throw t[le].error;let{body:r}=t;if(r===null)return pe.Buffer.alloc(0);if(!(r instanceof Re.default))return pe.Buffer.alloc(0);let o=[],i=0;try{for await(let s of r){if(t.size>0&&i+s.length>t.size){let u=new me(`content size at ${t.url} over limit: ${t.size}`,"max-size");throw r.destroy(u),u}i+=s.length,o.push(s)}}catch(s){throw s instanceof rt?s:new me(`Invalid response body while trying to fetch ${t.url}: ${s.message}`,"system",s)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return o.every(s=>typeof s=="string")?pe.Buffer.from(o.join("")):pe.Buffer.concat(o,i)}catch(s){throw new me(`Could not create Buffer from response body for ${t.url}: ${s.message}`,"system",s)}else throw new me(`Premature close of server response while trying to fetch ${t.url}`)}var Ut=(t,r)=>{let o,i,{body:s}=t[le];if(t.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof Re.default&&typeof s.getBoundary!="function"&&(o=new Re.PassThrough({highWaterMark:r}),i=new Re.PassThrough({highWaterMark:r}),s.pipe(o),s.pipe(i),t[le].stream=o,s=i),s},Vc=(0,He.deprecate)(t=>t.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Pn=(t,r)=>t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":wo(t)?"application/x-www-form-urlencoded;charset=UTF-8":Rr(t)?t.type||null:pe.Buffer.isBuffer(t)||He.types.isAnyArrayBuffer(t)||ArrayBuffer.isView(t)?null:t instanceof St?`multipart/form-data; boundary=${r[le].boundary}`:t&&typeof t.getBoundary=="function"?`multipart/form-data;boundary=${Vc(t)}`:t instanceof Re.default?null:"text/plain;charset=UTF-8",xa=t=>{let{body:r}=t[le];return r===null?0:Rr(r)?r.size:pe.Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},Ba=async(t,{body:r})=>{r===null?t.end():await Gc(r,t)};var To=require("util"),Er=xe(require("http"),1),An=typeof Er.default.validateHeaderName=="function"?Er.default.validateHeaderName:t=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},Eo=typeof Er.default.validateHeaderValue=="function"?Er.default.validateHeaderValue:(t,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let o=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(o,"code",{value:"ERR_INVALID_CHAR"}),o}},be=class extends URLSearchParams{constructor(r){let o=[];if(r instanceof be){let i=r.raw();for(let[s,u]of Object.entries(i))o.push(...u.map(c=>[s,c]))}else if(r!=null)if(typeof r=="object"&&!To.types.isBoxedPrimitive(r)){let i=r[Symbol.iterator];if(i==null)o.push(...Object.entries(r));else{if(typeof i!="function")throw new TypeError("Header pairs must be iterable");o=[...r].map(s=>{if(typeof s!="object"||To.types.isBoxedPrimitive(s))throw new TypeError("Each header pair must be an iterable object");return[...s]}).map(s=>{if(s.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...s]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");o=o.length>0?o.map(([i,s])=>(An(i),Eo(i,String(s)),[String(i).toLowerCase(),String(s)])):void 0;super(o);return new Proxy(this,{get(i,s,u){switch(s){case"append":case"set":return(c,h)=>(An(c),Eo(c,String(h)),URLSearchParams.prototype[s].call(i,String(c).toLowerCase(),String(h)));case"delete":case"has":case"getAll":return c=>(An(c),URLSearchParams.prototype[s].call(i,String(c).toLowerCase()));case"keys":return()=>(i.sort(),new Set(URLSearchParams.prototype.keys.call(i)).keys());default:return Reflect.get(i,s,u)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let o=this.getAll(r);if(o.length===0)return null;let i=o.join(", ");return/^content-encoding$/i.test(r)&&(i=i.toLowerCase()),i}forEach(r,o=void 0){for(let i of this.keys())Reflect.apply(r,o,[this.get(i),i,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,o)=>(r[o]=this.getAll(o),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,o)=>{let i=this.getAll(o);return o==="host"?r[o]=i[0]:r[o]=i.length>1?i:i[0],r},{})}};Object.defineProperties(be.prototype,["get","entries","forEach","values"].reduce((t,r)=>(t[r]={enumerable:!0},t),{}));function Da(t=[]){return new be(t.reduce((r,o,i,s)=>(i%2===0&&r.push(s.slice(i,i+2)),r),[]).filter(([r,o])=>{try{return An(r),Eo(r,String(o)),!0}catch{return!1}}))}var Yc=new Set([301,302,303,307,308]),In=t=>Yc.has(t);var Pe=Symbol("Response internals"),ne=class extends Ge{constructor(r=null,o={}){super(r,o);let i=o.status!=null?o.status:200,s=new be(o.headers);if(r!==null&&!s.has("Content-Type")){let u=Pn(r,this);u&&s.append("Content-Type",u)}this[Pe]={type:"default",url:o.url,status:i,statusText:o.statusText||"",headers:s,counter:o.counter,highWaterMark:o.highWaterMark}}get type(){return this[Pe].type}get url(){return this[Pe].url||""}get status(){return this[Pe].status}get ok(){return this[Pe].status>=200&&this[Pe].status<300}get redirected(){return this[Pe].counter>0}get statusText(){return this[Pe].statusText}get headers(){return this[Pe].headers}get highWaterMark(){return this[Pe].highWaterMark}clone(){return new ne(Ut(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,o=302){if(!In(o))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new ne(null,{headers:{location:new URL(r).toString()},status:o})}static error(){let r=new ne(null,{status:0,statusText:""});return r[Pe].type="error",r}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(ne.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var ja=require("url"),Na=require("util");var qa=t=>{if(t.search)return t.search;let r=t.href.length-1,o=t.hash||(t.href[r]==="#"?"#":"");return t.href[r-o.length]==="?"?"?":""};var Wa=require("net");function Fa(t,r=!1){return t==null||(t=new URL(t),/^(about|blob|data):$/.test(t.protocol))?"no-referrer":(t.username="",t.password="",t.hash="",r&&(t.pathname="",t.search=""),t)}var La=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),$a="strict-origin-when-cross-origin";function za(t){if(!La.has(t))throw new TypeError(`Invalid referrerPolicy: ${t}`);return t}function Qc(t){if(/^(http|ws)s:$/.test(t.protocol))return!0;let r=t.host.replace(/(^\[)|(]$)/g,""),o=(0,Wa.isIP)(r);return o===4&&/^127\./.test(r)||o===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:/^(.+\.)*localhost$/.test(t.host)?!1:t.protocol==="file:"}function jt(t){return/^about:(blank|srcdoc)$/.test(t)||t.protocol==="data:"||/^(blob|filesystem):$/.test(t.protocol)?!0:Qc(t)}function Ma(t,{referrerURLCallback:r,referrerOriginCallback:o}={}){if(t.referrer==="no-referrer"||t.referrerPolicy==="")return null;let i=t.referrerPolicy;if(t.referrer==="about:client")return"no-referrer";let s=t.referrer,u=Fa(s),c=Fa(s,!0);u.toString().length>4096&&(u=c),r&&(u=r(u)),o&&(c=o(c));let h=new URL(t.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return c;case"unsafe-url":return u;case"strict-origin":return jt(u)&&!jt(h)?"no-referrer":c.toString();case"strict-origin-when-cross-origin":return u.origin===h.origin?u:jt(u)&&!jt(h)?"no-referrer":c;case"same-origin":return u.origin===h.origin?u:"no-referrer";case"origin-when-cross-origin":return u.origin===h.origin?u:c;case"no-referrer-when-downgrade":return jt(u)&&!jt(h)?"no-referrer":u;default:throw new TypeError(`Invalid referrerPolicy: ${i}`)}}function Ua(t){let r=(t.get("referrer-policy")||"").split(/[,\s]+/),o="";for(let i of r)i&&La.has(i)&&(o=i);return o}var X=Symbol("Request internals"),kn=t=>typeof t=="object"&&typeof t[X]=="object",Xc=(0,Na.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),ot=class extends Ge{constructor(r,o={}){let i;if(kn(r)?i=new URL(r.url):(i=new URL(r),r={}),i.username!==""||i.password!=="")throw new TypeError(`${i} is an url with embedded credentails.`);let s=o.method||r.method||"GET";if(s=s.toUpperCase(),"data"in o&&Xc(),(o.body!=null||kn(r)&&r.body!==null)&&(s==="GET"||s==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let u=o.body?o.body:kn(r)&&r.body!==null?Ut(r):null;super(u,{size:o.size||r.size||0});let c=new be(o.headers||r.headers||{});if(u!==null&&!c.has("Content-Type")){let d=Pn(u,this);d&&c.set("Content-Type",d)}let h=kn(r)?r.signal:null;if("signal"in o&&(h=o.signal),h!=null&&!va(h))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let m=o.referrer==null?r.referrer:o.referrer;if(m==="")m="no-referrer";else if(m){let d=new URL(m);m=/^about:(\/\/)?client$/.test(d)?"client":d}else m=void 0;this[X]={method:s,redirect:o.redirect||r.redirect||"follow",headers:c,parsedURL:i,signal:h,referrer:m},this.follow=o.follow===void 0?r.follow===void 0?20:r.follow:o.follow,this.compress=o.compress===void 0?r.compress===void 0?!0:r.compress:o.compress,this.counter=o.counter||r.counter||0,this.agent=o.agent||r.agent,this.highWaterMark=o.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=o.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=o.referrerPolicy||r.referrerPolicy||""}get method(){return this[X].method}get url(){return(0,ja.format)(this[X].parsedURL)}get headers(){return this[X].headers}get redirect(){return this[X].redirect}get signal(){return this[X].signal}get referrer(){if(this[X].referrer==="no-referrer")return"";if(this[X].referrer==="client")return"about:client";if(this[X].referrer)return this[X].referrer.toString()}get referrerPolicy(){return this[X].referrerPolicy}set referrerPolicy(r){this[X].referrerPolicy=za(r)}clone(){return new ot(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(ot.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var Ha=t=>{let{parsedURL:r}=t[X],o=new be(t[X].headers);o.has("Accept")||o.set("Accept","*/*");let i=null;if(t.body===null&&/^(post|put)$/i.test(t.method)&&(i="0"),t.body!==null){let h=xa(t);typeof h=="number"&&!Number.isNaN(h)&&(i=String(h))}i&&o.set("Content-Length",i),t.referrerPolicy===""&&(t.referrerPolicy=$a),t.referrer&&t.referrer!=="no-referrer"?t[X].referrer=Ma(t):t[X].referrer="no-referrer",t[X].referrer instanceof URL&&o.set("Referer",t.referrer),o.has("User-Agent")||o.set("User-Agent","node-fetch"),t.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip,deflate,br");let{agent:s}=t;typeof s=="function"&&(s=s(r)),!o.has("Connection")&&!s&&o.set("Connection","close");let u=qa(r),c={path:r.pathname+u,method:t.method,headers:o[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:t.insecureHTTPParser,agent:s};return{parsedURL:r,options:c}};var Co=class extends rt{constructor(r,o="aborted"){super(r,o)}};Rn();vo();var Kc=new Set(["data:","http:","https:"]);async function On(t,r){return new Promise((o,i)=>{let s=new ot(t,r),{parsedURL:u,options:c}=Ha(s);if(!Kc.has(u.protocol))throw new TypeError(`node-fetch cannot load ${t}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if(u.protocol==="data:"){let S=da(s.url),E=new ne(S,{headers:{"Content-Type":S.typeFull}});o(E);return}let h=(u.protocol==="https:"?Va.default:Ga.default).request,{signal:m}=s,d=null,_=()=>{let S=new Co("The operation was aborted.");i(S),s.body&&s.body instanceof ye.default.Readable&&s.body.destroy(S),!(!d||!d.body)&&d.body.emit("error",S)};if(m&&m.aborted){_();return}let R=()=>{_(),g()},y=h(u.toString(),c);m&&m.addEventListener("abort",R);let g=()=>{y.abort(),m&&m.removeEventListener("abort",R)};y.on("error",S=>{i(new me(`request to ${s.url} failed, reason: ${S.message}`,"system",S)),g()}),Zc(y,S=>{d.body.destroy(S)}),process.version<"v14"&&y.on("socket",S=>{let E;S.prependListener("end",()=>{E=S._eventsCount}),S.prependListener("close",T=>{if(d&&E<S._eventsCount&&!T){let w=new Error("Premature close");w.code="ERR_STREAM_PREMATURE_CLOSE",d.body.emit("error",w)}})}),y.on("response",S=>{y.setTimeout(0);let E=Da(S.rawHeaders);if(In(S.statusCode)){let P=E.get("Location"),D=null;try{D=P===null?null:new URL(P,s.url)}catch{if(s.redirect!=="manual"){i(new me(`uri requested responds with an invalid redirect URL: ${P}`,"invalid-redirect")),g();return}}switch(s.redirect){case"error":i(new me(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),g();return;case"manual":break;case"follow":{if(D===null)break;if(s.counter>=s.follow){i(new me(`maximum redirect reached at: ${s.url}`,"max-redirect")),g();return}let A={headers:new be(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:Ut(s),signal:s.signal,size:s.size,referrer:s.referrer,referrerPolicy:s.referrerPolicy};if(!Ta(s.url,D))for(let Z of["authorization","www-authenticate","cookie","cookie2"])A.headers.delete(Z);if(S.statusCode!==303&&s.body&&r.body instanceof ye.default.Readable){i(new me("Cannot follow redirect with body being a readable stream","unsupported-redirect")),g();return}(S.statusCode===303||(S.statusCode===301||S.statusCode===302)&&s.method==="POST")&&(A.method="GET",A.body=void 0,A.headers.delete("content-length"));let V=Ua(E);V&&(A.referrerPolicy=V),o(On(new ot(D,A))),g();return}default:return i(new TypeError(`Redirect option '${s.redirect}' is not a valid value of RequestRedirect`))}}m&&S.once("end",()=>{m.removeEventListener("abort",R)});let T=(0,ye.pipeline)(S,new ye.PassThrough,P=>{P&&i(P)});process.version<"v12.10"&&S.on("aborted",R);let w={url:s.url,status:S.statusCode,statusText:S.statusMessage,headers:E,size:s.size,counter:s.counter,highWaterMark:s.highWaterMark},x=E.get("Content-Encoding");if(!s.compress||s.method==="HEAD"||x===null||S.statusCode===204||S.statusCode===304){d=new ne(T,w),o(d);return}let U={flush:vt.default.Z_SYNC_FLUSH,finishFlush:vt.default.Z_SYNC_FLUSH};if(x==="gzip"||x==="x-gzip"){T=(0,ye.pipeline)(T,vt.default.createGunzip(U),P=>{P&&i(P)}),d=new ne(T,w),o(d);return}if(x==="deflate"||x==="x-deflate"){let P=(0,ye.pipeline)(S,new ye.PassThrough,D=>{D&&i(D)});P.once("data",D=>{(D[0]&15)===8?T=(0,ye.pipeline)(T,vt.default.createInflate(),A=>{A&&i(A)}):T=(0,ye.pipeline)(T,vt.default.createInflateRaw(),A=>{A&&i(A)}),d=new ne(T,w),o(d)}),P.once("end",()=>{d||(d=new ne(T,w),o(d))});return}if(x==="br"){T=(0,ye.pipeline)(T,vt.default.createBrotliDecompress(),P=>{P&&i(P)}),d=new ne(T,w),o(d);return}d=new ne(T,w),o(d)}),Ba(y,s).catch(i)})}function Zc(t,r){let o=Cr.Buffer.from(`0\r
\r
`),i=!1,s=!1,u;t.on("response",c=>{let{headers:h}=c;i=h["transfer-encoding"]==="chunked"&&!h["content-length"]}),t.on("socket",c=>{let h=()=>{if(i&&!s){let m=new Error("Premature close");m.code="ERR_STREAM_PREMATURE_CLOSE",r(m)}};c.prependListener("close",h),t.on("abort",()=>{c.removeListener("close",h)}),c.on("data",m=>{s=Cr.Buffer.compare(m.slice(-5),o)===0,!s&&u&&(s=Cr.Buffer.compare(u.slice(-3),o.slice(0,3))===0&&Cr.Buffer.compare(m.slice(-2),o.slice(3))===0),u=m})})}var L=require("react");function Ya(t,r,o,i){function s(u){return u instanceof o?u:new o(function(c){c(u)})}return new(o||(o=Promise))(function(u,c){function h(_){try{d(i.next(_))}catch(R){c(R)}}function m(_){try{d(i.throw(_))}catch(R){c(R)}}function d(_){_.done?u(_.value):s(_.value).then(h,m)}d((i=i.apply(t,r||[])).next())})}function Qa(t,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,s,u,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(d){return function(_){return m([d,_])}}function m(d){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,s&&(u=d[0]&2?s.return:d[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,d[1])).done)return u;switch(s=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,s=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){o=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){o.label=d[1];break}if(d[0]===6&&o.label<u[1]){o.label=u[1],u=d;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(d);break}u[2]&&o.ops.pop(),o.trys.pop();continue}d=r.call(t,o)}catch(_){d=[6,_],s=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var De=function(){},J=De(),Pr=Object,ce=function(t){return t===J},Ar=function(t){return typeof t=="function"},Ve=function(t,r){return Pr.assign({},t,r)},Po="undefined",Ao=function(){return typeof window!=Po},Jc=function(){return typeof document!=Po},ef=function(){return Ao()&&typeof window.requestAnimationFrame!=Po},xn=new WeakMap,tf=0,Ir=function(t){var r=typeof t,o=t&&t.constructor,i=o==Date,s,u;if(Pr(t)===t&&!i&&o!=RegExp){if(s=xn.get(t),s)return s;if(s=++tf+"~",xn.set(t,s),o==Array){for(s="@",u=0;u<t.length;u++)s+=Ir(t[u])+",";xn.set(t,s)}if(o==Pr){s="#";for(var c=Pr.keys(t).sort();!ce(u=c.pop());)ce(t[u])||(s+=u+":"+Ir(t[u])+",");xn.set(t,s)}}else s=i?t.toJSON():r=="symbol"?t.toString():r=="string"?JSON.stringify(t):""+t;return s},Io=!0,rf=function(){return Io},Xa=Ao(),ko=Jc(),Oo=Xa&&window.addEventListener?window.addEventListener.bind(window):De,nf=ko?document.addEventListener.bind(document):De,xo=Xa&&window.removeEventListener?window.removeEventListener.bind(window):De,of=ko?document.removeEventListener.bind(document):De,af=function(){var t=ko&&document.visibilityState;return ce(t)||t!=="hidden"},sf=function(t){return nf("visibilitychange",t),Oo("focus",t),function(){of("visibilitychange",t),xo("focus",t)}},uf=function(t){var r=function(){Io=!0,t()},o=function(){Io=!1};return Oo("online",r),Oo("offline",o),function(){xo("online",r),xo("offline",o)}},lf={isOnline:rf,isVisible:af},cf={initFocus:sf,initReconnect:uf},Bn=!Ao()||"Deno"in window,ff=function(t){return ef()?window.requestAnimationFrame(t):setTimeout(t,1)},kr=Bn?L.useEffect:L.useLayoutEffect,Bo=typeof navigator!="undefined"&&navigator.connection,Ka=!Bn&&Bo&&(["slow-2g","2g"].includes(Bo.effectiveType)||Bo.saveData),Za=function(t){if(Ar(t))try{t=t()}catch{t=""}var r=[].concat(t);t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?Ir(t):"";var o=t?"$swr$"+t:"";return[t,r,o]},Tt=new WeakMap,Ja=0,es=1,ts=2,Or=function(t,r,o,i,s,u,c){c===void 0&&(c=!0);var h=Tt.get(t),m=h[0],d=h[1],_=h[3],R=m[r],y=d[r];if(c&&y)for(var g=0;g<y.length;++g)y[g](o,i,s);return u&&(delete _[r],R&&R[0])?R[0](ts).then(function(){return t.get(r)}):t.get(r)},df=0,Do=function(){return++df},rs=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Ya(void 0,void 0,void 0,function(){var o,i,s,u,c,h,m,d,_,R,y,g,S,E,T,w,x,U,P,D;return Qa(this,function(A){switch(A.label){case 0:if(o=t[0],i=t[1],s=t[2],u=t[3],c=typeof u=="boolean"?{revalidate:u}:u||{},h=c.populateCache!==!1,m=c.revalidate!==!1,d=c.rollbackOnError!==!1,_=c.optimisticData,R=Za(i),y=R[0],g=R[2],!y)return[2];if(S=Tt.get(o),E=S[2],t.length<3)return[2,Or(o,y,o.get(y),J,J,m,h)];if(T=s,x=Do(),E[y]=[x,0],U=!ce(_),P=o.get(y),U&&(o.set(y,_),Or(o,y,_)),Ar(T))try{T=T(o.get(y))}catch(V){w=V}return T&&Ar(T.then)?[4,T.catch(function(V){w=V})]:[3,2];case 1:if(T=A.sent(),x!==E[y][0]){if(w)throw w;return[2,T]}else w&&U&&d&&(h=!0,T=P,o.set(y,P));A.label=2;case 2:return h&&(w||o.set(y,T),o.set(g,Ve(o.get(g),{error:w}))),E[y][1]=Do(),[4,Or(o,y,T,w,J,m,h)];case 3:if(D=A.sent(),w)throw w;return[2,h?D:T]}})})},ns=function(t,r){for(var o in t)t[o][0]&&t[o][0](r)},os=function(t,r){if(!Tt.has(t)){var o=Ve(cf,r),i={},s=rs.bind(J,t),u=De;if(Tt.set(t,[i,{},{},{},s]),!Bn){var c=o.initFocus(setTimeout.bind(J,ns.bind(J,i,Ja))),h=o.initReconnect(setTimeout.bind(J,ns.bind(J,i,es)));u=function(){c&&c(),h&&h(),Tt.delete(t)}}return[t,s,u]}return[t,Tt.get(t)[4]]},hf=function(t,r,o,i,s){var u=o.errorRetryCount,c=s.retryCount,h=~~((Math.random()+.5)*(1<<(c<8?c:8)))*o.errorRetryInterval;!ce(u)&&c>u||setTimeout(i,h,s)},is=os(new Map),as=is[0],mf=is[1],ss=Ve({onLoadingSlow:De,onSuccess:De,onError:De,onErrorRetry:hf,onDiscarded:De,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ka?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Ka?5e3:3e3,compare:function(t,r){return Ir(t)==Ir(r)},isPaused:function(){return!1},cache:as,mutate:mf,fallback:{}},lf),us=function(t,r){var o=Ve(t,r);if(r){var i=t.use,s=t.fallback,u=r.use,c=r.fallback;i&&u&&(o.use=i.concat(u)),s&&c&&(o.fallback=Ve(s,c))}return o},qo=(0,L.createContext)({}),pf=function(t){var r=t.value,o=us((0,L.useContext)(qo),r),i=r&&r.provider,s=(0,L.useState)(function(){return i?os(i(o.cache||as),r):J})[0];return s&&(o.cache=s[0],o.mutate=s[1]),kr(function(){return s?s[2]:J},[]),(0,L.createElement)(qo.Provider,Ve(t,{value:o}))},bf=function(t,r){var o=(0,L.useState)({})[1],i=(0,L.useRef)(t),s=(0,L.useRef)({data:!1,error:!1,isValidating:!1}),u=(0,L.useCallback)(function(c){var h=!1,m=i.current;for(var d in c){var _=d;m[_]!==c[_]&&(m[_]=c[_],s.current[_]&&(h=!0))}h&&!r.current&&o({})},[]);return kr(function(){i.current=t}),[i,s.current,u]},yf=function(t){return Ar(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}]},gf=function(){return Ve(ss,(0,L.useContext)(qo))},Sf=function(t){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=gf(),u=yf(o),c=u[0],h=u[1],m=u[2],d=us(s,m),_=t,R=d.use;if(R)for(var y=R.length;y-- >0;)_=R[y](_);return _(c,h||d.fetcher,d)}},ls=function(t,r,o){var i=r[t]||(r[t]=[]);return i.push(o),function(){var s=i.indexOf(o);s>=0&&(i[s]=i[i.length-1],i.pop())}},Wo={dedupe:!0},_f=function(t,r,o){var i=o.cache,s=o.compare,u=o.fallbackData,c=o.suspense,h=o.revalidateOnMount,m=o.refreshInterval,d=o.refreshWhenHidden,_=o.refreshWhenOffline,R=Tt.get(i),y=R[0],g=R[1],S=R[2],E=R[3],T=Za(t),w=T[0],x=T[1],U=T[2],P=(0,L.useRef)(!1),D=(0,L.useRef)(!1),A=(0,L.useRef)(w),V=(0,L.useRef)(r),Z=(0,L.useRef)(o),Y=function(){return Z.current},st=function(){return Y().isVisible()&&Y().isOnline()},oe=function(H){return i.set(U,Ve(i.get(U),H))},Fe=i.get(w),Jt=ce(u)?o.fallback[w]:u,ge=ce(Fe)?Jt:Fe,Lr=i.get(U)||{},Le=Lr.error,$r=function(){return ce(h)?Y().isPaused()?!1:c?!ce(ge):ce(ge)||o.revalidateIfStale:h},zr=function(){return!w||!r?!1:Lr.isValidating?!0:!P.current&&$r()},Pt=zr(),At=bf({data:ge,error:Le,isValidating:Pt},D),Ae=At[0],ut=At[1],lt=At[2],$e=(0,L.useCallback)(function(H){return Ya(void 0,void 0,void 0,function(){var j,ie,ae,ee,ze,se,Q,Ie,fe,ct,Se,Ye,ft;return Qa(this,function(ke){switch(ke.label){case 0:if(j=V.current,!w||!j||D.current||Y().isPaused())return[2,!1];ee=!0,ze=H||{},se=!E[w]||!ze.dedupe,Q=function(){return!D.current&&w===A.current&&P.current},Ie=function(){var er=E[w];er&&er[1]===ae&&delete E[w]},fe={isValidating:!1},ct=function(){oe({isValidating:!1}),Q()&&lt(fe)},oe({isValidating:!0}),lt({isValidating:!0}),ke.label=1;case 1:return ke.trys.push([1,3,,4]),se&&(Or(i,w,Ae.current.data,Ae.current.error,!0),o.loadingTimeout&&!i.get(w)&&setTimeout(function(){ee&&Q()&&Y().onLoadingSlow(w,o)},o.loadingTimeout),E[w]=[j.apply(void 0,x),Do()]),ft=E[w],ie=ft[0],ae=ft[1],[4,ie];case 2:return ie=ke.sent(),se&&setTimeout(Ie,o.dedupingInterval),!E[w]||E[w][1]!==ae?(se&&Q()&&Y().onDiscarded(w),[2,!1]):(oe({error:J}),fe.error=J,Se=S[w],!ce(Se)&&(ae<=Se[0]||ae<=Se[1]||Se[1]===0)?(ct(),se&&Q()&&Y().onDiscarded(w),[2,!1]):(s(Ae.current.data,ie)?fe.data=Ae.current.data:fe.data=ie,s(i.get(w),ie)||i.set(w,ie),se&&Q()&&Y().onSuccess(ie,w,o),[3,4]));case 3:return Ye=ke.sent(),Ie(),Y().isPaused()||(oe({error:Ye}),fe.error=Ye,se&&Q()&&(Y().onError(Ye,w,o),o.shouldRetryOnError&&st()&&Y().onErrorRetry(Ye,w,o,$e,{retryCount:(ze.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return ee=!1,ct(),Q()&&se&&Or(i,w,fe.data,fe.error,!1),[2,!0]}})})},[w]),Vn=(0,L.useCallback)(rs.bind(J,i,function(){return A.current}),[]);if(kr(function(){V.current=r,Z.current=o}),kr(function(){if(!!w){var H=P.current,j=$e.bind(J,Wo),ie=function(Q,Ie,fe){lt(Ve({error:Ie,isValidating:fe},s(Ae.current.data,Q)?J:{data:Q}))},ae=0,ee=function(Q){if(Q==Ja){var Ie=Date.now();Y().revalidateOnFocus&&Ie>ae&&st()&&(ae=Ie+Y().focusThrottleInterval,j())}else if(Q==es)Y().revalidateOnReconnect&&st()&&j();else if(Q==ts)return $e()},ze=ls(w,g,ie),se=ls(w,y,ee);return D.current=!1,A.current=w,P.current=!0,H&&lt({data:ge,error:Le,isValidating:Pt}),$r()&&(ce(ge)||Bn?j():ff(j)),function(){D.current=!0,ze(),se()}}},[w,$e]),kr(function(){var H;function j(){var ae=Ar(m)?m(ge):m;ae&&H!==-1&&(H=setTimeout(ie,ae))}function ie(){!Ae.current.error&&(d||Y().isVisible())&&(_||Y().isOnline())?$e(Wo).then(j):j()}return j(),function(){H&&(clearTimeout(H),H=-1)}},[m,d,_,$e]),(0,L.useDebugValue)(ge),c&&ce(ge)&&w)throw V.current=r,Z.current=o,ce(Le)?$e(Wo):Le;return{mutate:Vn,get data(){return ut.data=!0,ge},get error(){return ut.error=!0,Le},get isValidating(){return ut.isValidating=!0,Pt}}},km=Pr.defineProperty(pf,"default",{value:ss});var cs=Sf(_f);var fs=()=>{let{accessKey:t,username:r}=(0,qe.getPreferenceValues)();r||(0,qe.showToast)(qe.ToastStyle.Failure,"Username is missing.","Please set a username from extension settings.");let[o,i]=(0,Fo.useState)(!0),[s,u]=(0,Fo.useState)([]),c=h=>On(h,{headers:{Authorization:`Client-ID ${t}`}}).then(m=>m.json());return cs(`https://api.unsplash.com/users/${r}/likes`,c,{onSuccess:h=>{h.errors?(i(!1),(0,qe.showToast)(qe.ToastStyle.Failure,"Failed to fetch likes.",h.errors?.join(`
`))):u(h),i(!1)},onError:h=>{(0,qe.showToast)(qe.ToastStyle.Failure,"Something went wrong.",String(h)),i(!1)}}),{loading:o,likes:s}};var F=require("@raycast/api");var Fr=require("@raycast/api");var Qu=xe(require("process"),1),Xu=xe(Yu(),1);async function Zt(t){if(Qu.default.platform!=="darwin")throw new Error("macOS only");let{stdout:r}=await(0,Xu.default)("osascript",["-e",t]);return r}var Ku=async({url:t,id:r})=>{let{downloadSize:o}=(0,Fr.getPreferenceValues)();try{await(0,Fr.showHUD)("Please select a location to save the image..."),await Zt(`
      set outputFolder to choose folder with prompt "Please select an output folder:"
      set temp_folder to (POSIX path of outputFolder) & "${r}-${o}.jpg"
      set q_temp_folder to quoted form of temp_folder

      set cmd to "curl -o " & q_temp_folder & " " & "${t}"
        do shell script cmd
    `)}catch(i){console.error(i),await(0,Fr.showHUD)("Couldn't save the image...")}};var ve=require("@raycast/api");var Zu=require("fs"),Ju=async({url:t,id:r,useHud:o=!1})=>{let i;o||(i=await(0,ve.showToast)(ve.ToastStyle.Animated,"Downloading and setting wallpaper..."));let{downloadSize:s,applyTo:u}=(0,ve.getPreferenceValues)(),c=ve.environment.supportPath,h=c.endsWith("/")?`${c}${r}-${s}.jpg`:`${c}/${r}-${s}.jpg`;try{let m=h,d=(0,Zu.existsSync)(m)?"":`set cmd to "curl -o " & q_temp_folder & " " & "${t}"
        do shell script cmd`;if(await Zt(`
      set temp_folder to (POSIX path of "${m}")
      set q_temp_folder to quoted form of temp_folder

      ${d}

      set x to alias (POSIX file temp_folder)

      try
        tell application "System Events"
          tell ${u} desktop
            set picture to (x as text)
            return "ok"
          end tell
        end tell
      on error
        set dialogTitle to "Error Setting Wallpaper"
        set dialogText to "Please make sure you have given Raycast the required permission. To make sure, click the button below and grant Raycast the 'System Events' permission."

        display alert dialogTitle message dialogText buttons {"Cancel", "Open Preferences"} default button 2 as informational
          if button returned of result is "Open Preferences" then
            do shell script "open 'x-apple.systempreferences:com.apple.preference.security?Privacy_Automation'"
          end if

        return "error"
      end try
    `)!=="ok")throw new Error("Error setting wallpaper.");o?await(0,ve.showHUD)("Wallpaper set!"):i&&(i.style=ve.ToastStyle.Success,i.title="Wallpaper set!")}catch(m){console.error(m),i&&(i.style=ve.ToastStyle.Failure,i.title="Something went wrong.",i.message="Try with another image or check your internet connection.")}};var it=require("@raycast/api");var el=require("fs"),tl=async({url:t,id:r})=>{let o=await(0,it.showToast)(it.ToastStyle.Animated,"Downloading and copying image..."),i=it.environment.supportPath,s=i.endsWith("/")?`${i}${r}.jpg`:`${i}/${r}.jpg`;try{let u=s,c=(0,el.existsSync)(u)?"":`set cmd to "curl -o " & q_temp_folder & " " & "${t}"
        do shell script cmd`;await Zt(`
      set temp_folder to (POSIX path of "${u}")
      set q_temp_folder to quoted form of temp_folder

      ${c}

      set x to alias (POSIX file temp_folder)
      set the clipboard to (read (contents of x) as JPEG picture)
    `),o.style=it.ToastStyle.Success,o.title="Image copied to the clipboard!"}catch(u){console.error(u),o.style=it.ToastStyle.Failure,o.title="Something went wrong.",o.message="Try with another image or check your internet connection."}};var rl=require("@raycast/api");var mh=({result:t})=>{let r=t.urls?.regular||t.urls?.small||t.urls?.thumb,o=t.created_at?new Date(t.created_at).toLocaleString():"Unknown",i=[t.description&&`# ${t.description}`,t.user?.name&&`**Photo by [${t.user.name}](${t.user.links.html})**`,r&&`![image](${r})`,t.alt_description&&`**Description**: ${t.alt_description}`,t.created_at&&`**Uploaded On**: ${o}`,t.likes&&`**Likes**: ${t.likes}`,t.width&&t.height&&`**Ratio**: ${t.width}x${t.height}`];return _jsx(rl.Detail,{markdown:i.filter(s=>s).map(s=>s+`
`).join(`
`),navigationTitle:t.user?.name,actions:_jsx(Gn,{item:t})})},nl=mh;var ph=({details:t=!1,item:r})=>_jsx(F.ActionPanel,null,_jsx(bh,{details:t,item:r})),bh=({details:t=!1,item:r})=>{let{push:o}=(0,F.useNavigation)(),{downloadSize:i}=(0,F.getPreferenceValues)(),s=r.urls?.raw||r.urls?.full||r.urls?.regular||r.urls?.small,u={url:r.urls?.[i]||s,id:`${r.id}-${i}`};return _jsx(_jsxFragment,null,_jsx(F.ActionPanel.Section,null,t&&_jsx(F.ActionPanel.Item,{title:"Show Details",icon:F.Icon.List,onAction:()=>o(_jsx(nl,{result:r}))}),r.links?.html&&_jsx(F.OpenInBrowserAction,{url:r.links.html,title:"Open Original"}),r.user?.links?.html&&_jsx(F.OpenInBrowserAction,{url:r.user.links.html,icon:F.Icon.Person,shortcut:{modifiers:["cmd"],key:"o"},title:"Open Author"})),_jsx(F.ActionPanel.Section,{title:"Image"},s&&_jsx(_jsxFragment,null,_jsx(F.ActionPanel.Item,{title:"Copy to Clipboard",icon:F.Icon.Clipboard,shortcut:{modifiers:["cmd","shift"],key:"c"},onAction:()=>tl(u)}),_jsx(F.ActionPanel.Item,{title:"Set as Desktop Wallpaper",icon:F.Icon.Desktop,shortcut:{modifiers:["cmd","shift"],key:"w"},onAction:()=>Ju({url:s,id:String(r.id)})}),_jsx(F.ActionPanel.Item,{title:"Download Image",icon:F.Icon.Desktop,shortcut:{modifiers:["cmd","shift"],key:"d"},onAction:()=>Ku({url:s,id:String(r.id)})}))),_jsx(F.ActionPanel.Section,{title:"Links"},r.links?.html&&_jsx(F.CopyToClipboardAction,{content:r.links.html,title:"Copy URL to Clipboard",icon:F.Icon.Clipboard}),s&&_jsx(F.CopyToClipboardAction,{content:s,title:"Copy Image URL to Clipboard",icon:F.Icon.Clipboard}),r.user?.links?.html&&_jsx(F.CopyToClipboardAction,{content:r.user.links.html,title:"Copy Author URL to Clipboard",icon:F.Icon.Clipboard})))},Gn=ph;var yh=()=>{let{loading:t,likes:r}=fs();return _jsx(at.List,{isLoading:t,searchBarPlaceholder:"Search your likes..."},_jsx(at.List.Section,{title:"Results",subtitle:String(r?.length)},r?.map(o=>_jsx(gh,{key:o.id,item:o}))))},gh=({item:t})=>{let[r,o,i]=[t.title||t.description||t.user.name||"No Name",t.urls?.thumb||t.urls?.small||t.urls?.regular,t.user?.profile_image?.small],s={...t,title:r,alt_description:""};return _jsx(at.List.Item,{title:r,icon:o,accessoryTitle:t.user.name,accessoryIcon:{source:i||at.Icon.Person,mask:at.ImageMask.Circle},actions:_jsx(Gn,{item:s,details:!0})})},Sh=yh;module.exports=Ac(_h);0&&(module.exports={});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
