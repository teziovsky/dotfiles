"use strict";var I=Object.defineProperty;var ne=Object.getOwnPropertyDescriptor;var se=Object.getOwnPropertyNames;var ae=Object.prototype.hasOwnProperty;var oe=(t,e)=>{for(var s in e)I(t,s,{get:e[s],enumerable:!0})},re=(t,e,s,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of se(e))!ae.call(t,r)&&r!==s&&I(t,r,{get:()=>e[r],enumerable:!(o=ne(e,r))||o.enumerable});return t};var ce=t=>re(I({},"__esModule",{value:!0}),t);var Ie={};oe(Ie,{default:()=>te});module.exports=ce(Ie);var n=require("@raycast/api"),g=require("react");var ie=new RegExp("([\\p{Ll}\\d])(\\p{Lu})","gu"),le=new RegExp("(\\p{Lu})([\\p{Lu}][\\p{Ll}])","gu"),Ce=new RegExp("(\\d)\\p{Ll}|(\\p{L})\\d","u"),fe=/[^\p{L}\d]+/giu,X="$1\0$2",J="";function W(t){let e=t.trim();e=e.replace(ie,X).replace(le,X),e=e.replace(fe,"\0");let s=0,o=e.length;for(;e.charAt(s)==="\0";)s++;if(s===o)return[];for(;e.charAt(o-1)==="\0";)o--;return e.slice(s,o).split(/\0/g)}function ue(t){let e=W(t);for(let s=0;s<e.length;s++){let o=e[s],r=Ce.exec(o);if(r){let i=r.index+(r[1]??r[2]).length;e.splice(s,1,o.slice(0,i),o.slice(i))}}return e}function T(t,e){let[s,o,r]=R(t,e);return s+o.map(b(e?.locale)).join(e?.delimiter??" ")+r}function H(t,e){let[s,o,r]=R(t,e),i=b(e?.locale),C=E(e?.locale),u=e?.mergeAmbiguousCharacters?O(i,C):G(i,C);return s+o.map((d,p)=>p===0?i(d):u(d,p)).join(e?.delimiter??"")+r}function K(t,e){let[s,o,r]=R(t,e),i=b(e?.locale),C=E(e?.locale),u=e?.mergeAmbiguousCharacters?O(i,C):G(i,C);return s+o.map(u).join(e?.delimiter??"")+r}function B(t,e){return L(t,{delimiter:"_",...e})}function L(t,e){let[s,o,r]=R(t,e),i=b(e?.locale),C=E(e?.locale);return s+o.map(O(i,C)).join(e?.delimiter??" ")+r}function U(t,e){let[s,o,r]=R(t,e);return s+o.map(E(e?.locale)).join(e?.delimiter??"_")+r}function Q(t,e){return T(t,{delimiter:".",...e})}function N(t,e){return T(t,{delimiter:"-",...e})}function V(t,e){return T(t,{delimiter:"/",...e})}function q(t,e){return T(t,{delimiter:"_",...e})}function v(t,e){return L(t,{delimiter:"-",...e})}function b(t){return t===!1?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t)}function E(t){return t===!1?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t)}function O(t,e){return s=>`${e(s[0])}${t(s.slice(1))}`}function G(t,e){return(s,o)=>{let r=s[0];return(o>0&&r>="0"&&r<="9"?"_"+r:e(r))+t(s.slice(1))}}function R(t,e={}){let s=e.split??(e.separateNumbers?ue:W),o=e.prefixCharacters??J,r=e.suffixCharacters??J,i=0,C=t.length;for(;i<t.length;){let u=t.charAt(i);if(!o.includes(u))break;i++}for(;C>i;){let u=C-1,d=t.charAt(u);if(!r.includes(d))break;C=u}return[t.slice(0,i),s(t.slice(i,C)),t.slice(C)]}function M(t,e){let s="";for(let o of t)s+=Math.random()>.5?o.toLocaleUpperCase(e):o.toLocaleLowerCase(e);return s}function Y(t,e){let s="";for(let o of t){let r=o.toLocaleLowerCase(e);s+=o===r?o.toLocaleUpperCase(e):r}return s}var de=/(\S+)|(.)/g,me=new RegExp("[\\.#]\\p{Alphabetic}","u"),he=new RegExp("\\p{Ll}(?=[\\p{Lu}])","u"),ge=new RegExp("\\p{Alphabetic}+","gu"),Ae=new RegExp("^(\\P{Alphabetic})*(?:\\p{Alphabetic}\\.){2,}(\\P{Alphabetic})*$","u"),Se=new Set(["\u2014","\u2013","-","\u2015","/"]),Z=new Set([".","!","?"]),xe=new Set([...Z,":",'"',"'","\u201D"]),we=new Set(["a","an","and","as","at","because","but","by","en","for","if","in","neither","nor","of","on","only","or","over","per","so","some","than","that","the","to","up","upon","v","versus","via","vs","when","with","without","yet"]);function $(t,e={}){let{locale:s=void 0,sentenceCase:o=!1,sentenceTerminators:r=Z,titleTerminators:i=xe,smallWords:C=we,wordSeparators:u=Se}=typeof e=="string"||Array.isArray(e)?{locale:e}:e,d=o?r:i,p="",m=!0;for(let h of t.matchAll(de)){let{1:f,2:P,index:F=0}=h;if(P){p+=P;continue}if(me.test(f)){let A=f.match(Ae);if(A){let[w,a="",l=""]=A;p+=o&&!m?f:z(f,a.length,s),m=d.has(l.charAt(0));continue}p+=f,m=d.has(f.charAt(f.length-1))}else{let A=Array.from(f.matchAll(ge)),w=f,a=!1;for(let l=0;l<A.length;l++){let{0:S,index:x=0}=A[l],D=f.charAt(x+S.length);if(a=d.has(D),m)m=!1;else{if(o||he.test(S))continue;if(A.length===1){if(C.has(S)&&!(F+f.length===t.length)&&!a)continue}else if(l>0&&(!u.has(f.charAt(x-1))||C.has(S)&&u.has(D)))continue}w=z(w,x,s)}p+=w,m=a||d.has(f.charAt(f.length-1))}}return p}function z(t,e,s){return t.slice(0,e)+t.charAt(e).toLocaleUpperCase(s)+t.slice(e+1)}var Te=t=>t.toLowerCase(),ye=t=>t.length<=1?t.toLowerCase():t[0].toLowerCase()+t.slice(1),Pe=t=>$(t,{sentenceCase:!0}),Re=t=>t.toUpperCase(),Le=t=>t.length<=1?t.toUpperCase():t[0].toUpperCase()+t.slice(1),y={"Camel Case":H,"Capital Case":L,"Constant Case":U,"Dot Case":Q,"Header Case":v,"Kebab Case":N,"Lower Case":Te,"Lower First":ye,"Macro Case":U,"No Case":T,"Param Case":N,"Pascal Case":K,"Pascal Snake Case":B,"Path Case":V,"Random Case":M,"Sentence Case":Pe,"Snake Case":q,"Swap Case":Y,"Title Case":$,"Upper Case":Re,"Upper First":Le,"Sponge Case":M,"Train Case":v},Xe=Object.keys(y);var c=require("react/jsx-runtime"),k=class t extends Error{constructor(){super("No text"),Object.setPrototypeOf(this,t.prototype)}};async function be(){try{return await(0,n.getSelectedText)()}catch{return""}}async function ee(t){let e=await n.Clipboard.readText(),s=await be();if(t==="clipboard"){if(e)return e;if(s)return s}else{if(s)return s;if(e)return e}throw new k}function j(t,e){let s=[],o=[],r=t.split(`
`);for(let i of r){let C=e(i);s.push(C),o.push((C.length===0?"\u200B":C)+`
`)}return{rawText:s.join(`
`),markdown:o.join(`
`)}}var _=new n.Cache,Ee=()=>{let t=_.get("pinned");return t?JSON.parse(t):[]},ke=()=>{let t=_.get("recent");return t?JSON.parse(t):[]},_e=t=>{_.set("pinned",JSON.stringify(t))},Fe=t=>{_.set("recent",JSON.stringify(t))};function te(t){let e=(0,n.getPreferenceValues)(),s=e.source,o=e.action,r=t.launchContext?.case;if(r){(async()=>{let a=await ee(s),l=y[r](a);o==="paste"?n.Clipboard.paste(l):n.Clipboard.copy(l),(0,n.showHUD)(`Converted to ${r}`),(0,n.popToRoot)()})();return}let[i,C]=(0,g.useState)(""),[u,d]=(0,g.useState)(),[p,m]=(0,g.useState)([]),[h,f]=(0,g.useState)([]);(0,g.useEffect)(()=>{m(Ee()),f(ke()),(0,n.getFrontmostApplication)().then(d)},[]),(0,g.useEffect)(()=>{_e(p)},[p]),(0,g.useEffect)(()=>{Fe(h)},[h]);let P=async()=>{try{C(await ee(s))}catch(a){a instanceof k&&(0,n.showToast)({style:n.Toast.Style.Failure,title:"Nothing to convert",message:"Please ensure that text is either selected or copied"})}};(0,g.useEffect)(()=>{P()},[]);let F=a=>(0,c.jsx)(n.Action,{title:"Copy to Clipboard",icon:n.Icon.Clipboard,onAction:()=>{a.pinned||f([a.case,...h.filter(l=>l!==a.case)].slice(0,4)),(0,n.showHUD)("Copied to Clipboard"),n.Clipboard.copy(a.modified),e.popToRoot?(0,n.popToRoot)():(0,n.closeMainWindow)()}}),A=a=>u?(0,c.jsx)(n.Action,{title:`Paste in ${u.name}`,icon:{fileIcon:u.path},onAction:()=>{a.pinned||f([a.case,...h.filter(l=>l!==a.case)].slice(0,4)),(0,n.showHUD)(`Pasted in ${u.name}`),n.Clipboard.paste(a.modified),e.popToRoot?(0,n.popToRoot)():(0,n.closeMainWindow)()}}):null,w=a=>{let l=encodeURIComponent(`{"case":"${a.case}"}`),S=`raycast://extensions/erics118/${n.environment.extensionName}/${n.environment.commandName}?context=${l}`;return(0,c.jsx)(n.List.Item,{id:a.case,title:a.case,accessories:[{text:a.modified}],detail:(0,c.jsx)(n.List.Item.Detail,{markdown:a.detail}),actions:(0,c.jsxs)(n.ActionPanel,{children:[(0,c.jsxs)(n.ActionPanel.Section,{children:[o==="paste"&&(0,c.jsx)(A,{...a}),(0,c.jsx)(F,{...a}),o==="copy"&&(0,c.jsx)(A,{...a})]}),(0,c.jsxs)(n.ActionPanel.Section,{children:[a.pinned?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.Action,{title:"Remove Pinned Case",icon:n.Icon.PinDisabled,shortcut:n.Keyboard.Shortcut.Common.Remove,onAction:()=>{m(p.filter(x=>x!==a.case))}}),(0,c.jsx)(n.Action,{title:"Clear Pinned Cases",icon:{source:n.Icon.XMarkCircle,tintColor:n.Color.Red},shortcut:n.Keyboard.Shortcut.Common.RemoveAll,onAction:()=>{m([])}})]}):(0,c.jsx)(n.Action,{title:"Pin Case",icon:n.Icon.Pin,shortcut:n.Keyboard.Shortcut.Common.Pin,onAction:()=>{m([a.case,...p]),a.recent&&f(h.filter(x=>x!==a.case))}}),a.recent&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.Action,{title:"Remove Recent Case",icon:n.Icon.XMarkCircle,shortcut:n.Keyboard.Shortcut.Common.Remove,onAction:()=>{f(h.filter(x=>x!==a.case))}}),(0,c.jsx)(n.Action,{title:"Clear Recent Cases",icon:{source:n.Icon.XMarkCircle,tintColor:n.Color.Red},shortcut:n.Keyboard.Shortcut.Common.RemoveAll,onAction:()=>{f([])}})]}),(0,c.jsx)(n.Action.CreateQuicklink,{title:`Create Quicklink to Convert to ${a.case}`,quicklink:{name:`Convert to ${a.case}`,link:S}})]}),(0,c.jsx)(n.ActionPanel.Section,{children:(0,c.jsx)(n.Action,{title:"Refresh Content",icon:n.Icon.RotateAntiClockwise,shortcut:n.Keyboard.Shortcut.Common.Refresh,onAction:P})})]})})};return(0,c.jsxs)(n.List,{isShowingDetail:!0,children:[(0,c.jsx)(n.List.Section,{title:"Pinned",children:p?.map(a=>{let l=j(i,y[a]);return(0,c.jsx)(w,{case:a,modified:l.rawText,detail:l.markdown,pinned:!0},a)})}),(0,c.jsx)(n.List.Section,{title:"Recent",children:h.map(a=>{let l=j(i,y[a]);return(0,c.jsx)(w,{case:a,modified:l.rawText,detail:l.markdown,recent:!0},a)})}),(0,c.jsx)(n.List.Section,{title:"All Cases",children:Object.entries(y).filter(([a])=>e[a.replace(/ +/g,"")]&&!h.includes(a)&&!p.includes(a)).map(([a,l])=>{let S=j(i,l);return(0,c.jsx)(w,{case:a,modified:S.rawText,detail:S.markdown},a)})})]})}
