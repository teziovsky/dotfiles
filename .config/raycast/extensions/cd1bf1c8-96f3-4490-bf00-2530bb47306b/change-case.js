"use strict";var E=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var Y=Object.getOwnPropertyNames;var Z=Object.prototype.hasOwnProperty;var ee=(t,e)=>{for(var n in e)E(t,n,{get:e[n],enumerable:!0})},te=(t,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of Y(e))!Z.call(t,c)&&c!==n&&E(t,c,{get:()=>e[c],enumerable:!(a=z(e,c))||a.enumerable});return t};var ne=t=>te(E({},"__esModule",{value:!0}),t);var we={};ee(we,{default:()=>V});module.exports=ne(we);var r=require("@raycast/api"),m=require("react");var ae=/([\p{Ll}\d])(\p{Lu})/gu,re=/(\p{Lu})([\p{Lu}][\p{Ll}])/gu,se=/(\d)(\p{Ll})/gu,ce=/(\p{L})(\d)/gu,oe=/[^\p{L}\d]+/giu,w="$1\0$2",ie="";function f(t,e={}){let{separateNumbers:n}=e,a=t.trim();a=a.replace(ae,w).replace(re,w),n&&(a=a.replace(se,w).replace(ce,w)),a=a.replace(oe,"\0");let c=0,l=a.length;for(;a.charAt(c)==="\0";)c++;if(c===l)return[];for(;a.charAt(l-1)==="\0";)l--;return a.slice(c,l).split(/\0/g)}function I(t,e){return p(t,e?.prefixCharacters)+f(t,e).map(u(e?.locale)).join(" ")}function N(t,e){let n=p(t,e?.prefixCharacters),a=u(e?.locale),c=L(e?.locale),l=H(a,c);return n+f(t,e).map((i,d)=>d===0?a(i):l(i,d)).join("")}function O(t,e){let n=p(t,e?.prefixCharacters),a=u(e?.locale),c=L(e?.locale);return n+f(t,e).map(H(a,c)).join("")}function $(t,e){let n=p(t,e?.prefixCharacters),a=u(e?.locale),c=L(e?.locale);return n+f(t,e).map(T(a,c)).join("_")}function M(t,e){let n=p(t,e?.prefixCharacters),a=u(e?.locale),c=L(e?.locale);return n+f(t,e).map(T(a,c)).join(" ")}function _(t,e){let n=p(t,e?.prefixCharacters),a=L(e?.locale);return n+f(t,e).map(a).join("_")}function D(t,e){let n=p(t,e?.prefixCharacters),a=u(e?.locale);return n+f(t,e).map(a).join(".")}function k(t,e){let n=p(t,e?.prefixCharacters),a=u(e?.locale);return n+f(t,e).map(a).join("-")}function X(t,e){let n=p(t,e?.prefixCharacters),a=u(e?.locale);return n+f(t,e).map(a).join("/")}function J(t,e){let n=p(t,e?.prefixCharacters),a=u(e?.locale),c=L(e?.locale),l=T(a,c);return n+f(t,e).map((i,d)=>d===0?l(i):a(i)).join(" ")}function W(t,e){let n=p(t,e?.prefixCharacters),a=u(e?.locale);return n+f(t,e).map(a).join("_")}function U(t,e){let n=p(t,e?.prefixCharacters),a=u(e?.locale),c=L(e?.locale);return n+f(t,e).map(T(a,c)).join("-")}function u(t){return t===!1?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t)}function L(t){return t===!1?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t)}function T(t,e){return n=>`${e(n[0])}${t(n.slice(1))}`}function H(t,e){return(n,a)=>{let c=n[0];return(a>0&&c>="0"&&c<="9"?"_"+c:e(c))+t(n.slice(1))}}function p(t,e=ie){let n="";for(let a=0;a<t.length;a++){let c=t.charAt(a);if(e.includes(c))n+=c;else break}return n}function F(t,e){let n="";for(let a of t)n+=Math.random()>.5?a.toLocaleUpperCase(e):a.toLocaleLowerCase(e);return n}function B(t,e){let n="";for(let a of t){let c=a.toLocaleLowerCase(e);n+=a===c?a.toLocaleUpperCase(e):c}return n}var Ce=/\S+|./g,fe=/\p{Ll}(?=[\p{Lu}])|\.\p{L}/u,pe=/[\p{L}\d]+/gu,ue=new Set(["\u2014","\u2013","-","\u2015","/"]),de=new Set(["a","an","and","as","at","because","but","by","en","for","if","in","neither","nor","of","on","only","or","over","per","so","some","than","that","the","to","up","upon","v","versus","via","vs","when","with","without","yet"]);function K(t,e={}){let n="",a,{smallWords:c=de,locale:l}=typeof e=="string"||Array.isArray(e)?{locale:e}:e;for(;(a=Ce.exec(t))!==null;){let{0:i,index:d}=a;fe.test(i)?n+=i:n+=i.replace(pe,(C,x)=>d>0&&d+i.length<t.length&&c.has(C)||x>1&&!ue.has(t.charAt(d+x-1))?C:C.charAt(0).toLocaleUpperCase(l)+C.slice(1))}return n}var me=t=>t.toLowerCase(),he=t=>t.length<=1?t.toLowerCase():t[0].toLowerCase()+t.slice(1),ge=t=>t.toUpperCase(),xe=t=>t.length<=1?t.toUpperCase():t[0].toUpperCase()+t.slice(1),S={"Camel Case":N,"Capital Case":M,"Constant Case":_,"Dot Case":D,"Header Case":U,"Kebab Case":k,"Lower Case":me,"Lower First":he,"Macro Case":_,"No Case":I,"Param Case":k,"Pascal Case":O,"Pascal Snake Case":$,"Path Case":X,"Random Case":F,"Sentence Case":J,"Snake Case":W,"Swap Case":B,"Title Case":K,"Upper Case":ge,"Upper First":xe,"Sponge Case":F,"Train Case":U},Fe=Object.keys(S);var o=require("react/jsx-runtime"),P=class extends Error{constructor(){super("No text"),Object.setPrototypeOf(this,P.prototype)}};async function Le(){try{return await(0,r.getSelectedText)()}catch{return""}}async function Q(t){let e=await r.Clipboard.readText(),n=await Le();if(t==="clipboard"){if(e)return e;if(n)return n}else{if(n)return n;if(e)return e}throw new P}function j(t,e){let n=[],a=t.split(`
`);for(let c of a)n.push(e(c));return n.join(`
`)}var R=new r.Cache,ye=()=>{let t=R.get("pinned");return t?JSON.parse(t):[]},Se=()=>{let t=R.get("recent");return t?JSON.parse(t):[]},Pe=t=>{R.set("pinned",JSON.stringify(t))},Ae=t=>{R.set("recent",JSON.stringify(t))};function V(t){let e=(0,r.getPreferenceValues)(),n=e.source,a=t.launchContext?.case;if(a){(async()=>{let s=await Q(n),h=S[a](s);r.Clipboard.copy(h),(0,r.showHUD)(`Converted to ${a}`),(0,r.popToRoot)()})();return}let[c,l]=(0,m.useState)(""),[i,d]=(0,m.useState)(),[C,x]=(0,m.useState)([]),[g,y]=(0,m.useState)([]);(0,m.useEffect)(()=>{x(ye()),y(Se()),(0,r.getFrontmostApplication)().then(d)},[]),(0,m.useEffect)(()=>{Pe(C)},[C]),(0,m.useEffect)(()=>{Ae(g)},[g]),(0,m.useEffect)(()=>{Q(n).then(s=>l(s)).catch(s=>{s instanceof P&&(0,r.showToast)({style:r.Toast.Style.Failure,title:"Nothing to convert",message:"Please ensure that text is either selected or copied"})})},[n]);let q=s=>(0,o.jsx)(r.Action,{title:"Copy to Clipboard",icon:r.Icon.Clipboard,onAction:()=>{s.pinned||y([s.case,...g.filter(h=>h!==s.case)].slice(0,4)),(0,r.showHUD)("Copied to Clipboard"),r.Clipboard.copy(s.modified),(0,r.closeMainWindow)()}}),v=s=>i?(0,o.jsx)(r.Action,{title:`Paste in ${i.name}`,icon:{fileIcon:i.path},onAction:()=>{s.pinned||y([s.case,...g.filter(h=>h!==s.case)].slice(0,4)),(0,r.showHUD)(`Pasted in ${i.name}`),r.Clipboard.paste(s.modified),(0,r.closeMainWindow)()}}):null,b=s=>{let h=encodeURIComponent(`{"case":"${s.case}"}`),G=`raycast://extensions/erics118/${r.environment.extensionName}/${r.environment.commandName}?context=${h}`;return(0,o.jsx)(r.List.Item,{id:s.case,title:s.case,accessories:[{text:s.modified}],detail:(0,o.jsx)(r.List.Item.Detail,{markdown:s.modified}),actions:(0,o.jsxs)(r.ActionPanel,{children:[(0,o.jsxs)(r.ActionPanel.Section,{children:[e.action==="paste"&&(0,o.jsx)(v,{...s}),(0,o.jsx)(q,{...s}),e.action==="copy"&&(0,o.jsx)(v,{...s})]}),(0,o.jsxs)(r.ActionPanel.Section,{children:[s.pinned?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.Action,{title:"Remove Pinned Case",icon:r.Icon.PinDisabled,shortcut:{key:"r",modifiers:["cmd"]},onAction:()=>{x(C.filter(A=>A!==s.case))}}),(0,o.jsx)(r.Action,{title:"Clear Pinned Cases",icon:{source:r.Icon.XMarkCircle,tintColor:r.Color.Red},shortcut:{key:"r",modifiers:["cmd","shift"]},onAction:()=>{x([])}})]}):(0,o.jsx)(r.Action,{title:"Pin Case",icon:r.Icon.Pin,shortcut:{key:"p",modifiers:["cmd","shift"]},onAction:()=>{x([s.case,...C]),s.recent&&y(g.filter(A=>A!==s.case))}}),s.recent&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.Action,{title:"Remove Recent Case",icon:r.Icon.XMarkCircle,shortcut:{key:"r",modifiers:["cmd"]},onAction:()=>{y(g.filter(A=>A!==s.case))}}),(0,o.jsx)(r.Action,{title:"Clear Recent Cases",icon:{source:r.Icon.XMarkCircle,tintColor:r.Color.Red},shortcut:{key:"r",modifiers:["cmd","shift"]},onAction:()=>{y([])}})]}),(0,o.jsx)(r.Action.CreateQuicklink,{title:`Create Quicklink to Convert to ${s.case}`,quicklink:{name:`Convert to ${s.case}`,link:G}})]})]})})};return(0,o.jsxs)(r.List,{isShowingDetail:!0,children:[(0,o.jsx)(r.List.Section,{title:"Pinned",children:C?.map(s=>(0,o.jsx)(b,{case:s,modified:j(c,S[s]),pinned:!0},s))}),(0,o.jsx)(r.List.Section,{title:"Recent",children:g.map(s=>(0,o.jsx)(b,{case:s,modified:j(c,S[s]),recent:!0},s))}),(0,o.jsx)(r.List.Section,{title:"All Cases",children:Object.entries(S).filter(([s])=>e[s.replace(/ +/g,"")]&&!g.includes(s)&&!C.includes(s)).map(([s,h])=>(0,o.jsx)(b,{case:s,modified:j(c,h)},s))})]})}
