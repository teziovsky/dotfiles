"use strict";var x=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var z=Object.getOwnPropertyNames;var Y=Object.prototype.hasOwnProperty;var Z=(t,e)=>{for(var n in e)x(t,n,{get:e[n],enumerable:!0})},ee=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of z(e))!Y.call(t,c)&&c!==n&&x(t,c,{get:()=>e[c],enumerable:!(o=G(e,c))||o.enumerable});return t};var te=t=>ee(x({},"__esModule",{value:!0}),t);var Pe={};Z(Pe,{default:()=>Q});module.exports=te(Pe);var a=require("@raycast/api"),d=require("react");function v(t,e){return C(t,e).map(p(e?.locale)).join(" ")}var ne=/([\p{Ll}\d])(\p{Lu})/gu,ae=/(\p{Lu})([\p{Lu}][\p{Ll}])/gu,se=/(\d)(\p{Ll})/gu,oe=/(\p{L})(\d)/gu,ce=/[^\p{L}\d]+/giu,A="$1\0$2";function C(t,e={}){let n=t.replace(ne,A).replace(ae,A);e.separateNumbers&&(n=n.replace(se,A).replace(oe,A)),n=n.replace(ce,"\0");let o=0,c=n.length;for(;n.charAt(o)==="\0";)o++;if(o===c)return[];for(;n.charAt(c-1)==="\0";)c--;return n.slice(o,c).split(/\0/g)}function I(t,e){let n=p(e?.locale),o=g(e?.locale),c=X(n,o);return C(t,e).map((u,i)=>i===0?n(u):c(u,i)).join("")}function N(t,e){let n=p(e?.locale),o=g(e?.locale);return C(t,e).map(X(n,o)).join("")}function O(t,e){let n=p(e?.locale),o=g(e?.locale);return C(t,e).map(T(n,o)).join("_")}function $(t,e){let n=p(e?.locale),o=g(e?.locale);return C(t,e).map(T(n,o)).join(" ")}function E(t,e){let n=g(e?.locale);return C(t,e).map(n).join("_")}function M(t,e){let n=p(e?.locale);return C(t,e).map(n).join(".")}function _(t,e){let n=p(e?.locale);return C(t,e).map(n).join("-")}function D(t,e){let n=p(e?.locale);return C(t,e).map(n).join("/")}function J(t,e){let n=p(e?.locale),o=g(e?.locale),c=T(n,o);return C(t,e).map((u,i)=>i===0?c(u):n(u)).join(" ")}function W(t,e){let n=p(e?.locale);return C(t,e).map(n).join("_")}function k(t,e){let n=p(e?.locale),o=g(e?.locale);return C(t,e).map(T(n,o)).join("-")}function p(t){return t===!1?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t)}function g(t){return t===!1?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t)}function T(t,e){return n=>`${e(n[0])}${t(n.slice(1))}`}function X(t,e){return(n,o)=>{let c=n[0];return(o>0&&c>="0"&&c<="9"?"_"+c:e(c))+t(n.slice(1))}}function U(t,e){let n="";for(let o of t)n+=Math.random()>.5?o.toLocaleUpperCase(e):o.toLocaleLowerCase(e);return n}function H(t,e){let n="";for(let o of t){let c=o.toLocaleLowerCase(e);n+=o===c?o.toLocaleUpperCase(e):c}return n}var ie=/\S+|./g,le=/\p{Ll}(?=[\p{Lu}])|\.\p{L}/u,Ce=/[\p{L}\d]+/gu,pe=new Set(["\u2014","\u2013","-","\u2015","/"]),ue=new Set(["an","and","as","at","because","but","by","en","for","if","in","neither","nor","of","on","or","only","over","per","so","some","that","than","the","to","up","upon","v","vs","versus","via","when","with","without","yet"]);function B(t,e={}){let n="",o,{smallWords:c=ue,locale:u}=typeof e=="string"||Array.isArray(e)?{locale:e}:e;for(;(o=ie.exec(t))!==null;){let{0:i,index:w}=o;le.test(i)?n+=i:n+=i.replace(Ce,(l,h)=>w>0&&w+i.length<t.length&&c.has(l)||h>1&&!pe.has(t.charAt(w+h-1))?l:l.charAt(0).toLocaleUpperCase(u)+l.slice(1))}return n}var fe=t=>t.toLowerCase(),de=t=>t.length<=1?t.toLowerCase():t[0].toLowerCase()+t.slice(1),me=t=>t.toUpperCase(),he=t=>t.length<=1?t.toUpperCase():t[0].toUpperCase()+t.slice(1),L={"Camel Case":I,"Capital Case":$,"Constant Case":E,"Dot Case":M,"Header Case":k,"Kebab Case":_,"Lower Case":fe,"Lower First":de,"Macro Case":E,"No Case":v,"Param Case":_,"Pascal Case":N,"Pascal Snake Case":O,"Path Case":D,"Random Case":U,"Sentence Case":J,"Snake Case":W,"Swap Case":H,"Title Case":B,"Upper Case":me,"Upper First":he,"Sponge Case":U,"Train Case":k},ke=Object.keys(L);var r=require("react/jsx-runtime"),S=class extends Error{constructor(){super("No text"),Object.setPrototypeOf(this,S.prototype)}};async function ge(){try{return await(0,a.getSelectedText)()}catch{return""}}async function K(t){let e=await a.Clipboard.readText(),n=await ge();if(t==="clipboard"){if(e)return e;if(n)return n}else{if(n)return n;if(e)return e}throw new S}function F(t,e){let n=[],o=t.split(`
`);for(let c of o)n.push(e(c));return n.join(`
`)}var R=new a.Cache,ye=()=>{let t=R.get("pinned");return t?JSON.parse(t):[]},Le=()=>{let t=R.get("recent");return t?JSON.parse(t):[]},Se=t=>{R.set("pinned",JSON.stringify(t))},we=t=>{R.set("recent",JSON.stringify(t))};function Q(t){let e=(0,a.getPreferenceValues)(),n=e.source,o=t.launchContext?.case;if(o){(async()=>{let s=await K(n),f=L[o](s);a.Clipboard.copy(f),(0,a.showHUD)(`Converted to ${o}`),(0,a.popToRoot)()})();return}let[c,u]=(0,d.useState)(""),[i,w]=(0,d.useState)(),[l,h]=(0,d.useState)([]),[m,y]=(0,d.useState)([]);(0,d.useEffect)(()=>{h(ye()),y(Le()),(0,a.getFrontmostApplication)().then(w)},[]),(0,d.useEffect)(()=>{Se(l)},[l]),(0,d.useEffect)(()=>{we(m)},[m]),(0,d.useEffect)(()=>{K(n).then(s=>u(s)).catch(s=>{s instanceof S&&(0,a.showToast)({style:a.Toast.Style.Failure,title:"Nothing to convert",message:"Please ensure that text is either selected or copied"})})},[n]);let V=s=>(0,r.jsx)(a.Action,{title:"Copy to Clipboard",icon:a.Icon.Clipboard,onAction:()=>{s.pinned||y([s.case,...m.filter(f=>f!==s.case)].slice(0,4)),(0,a.showHUD)("Copied to Clipboard"),a.Clipboard.copy(s.modified),(0,a.closeMainWindow)()}}),j=s=>i?(0,r.jsx)(a.Action,{title:`Paste in ${i.name}`,icon:{fileIcon:i.path},onAction:()=>{s.pinned||y([s.case,...m.filter(f=>f!==s.case)].slice(0,4)),(0,a.showHUD)(`Pasted in ${i.name}`),a.Clipboard.paste(s.modified),(0,a.closeMainWindow)()}}):null,b=s=>{let f=encodeURIComponent(`{"case":"${s.case}"}`),q=`raycast://extensions/erics118/${a.environment.extensionName}/${a.environment.commandName}?context=${f}`;return(0,r.jsx)(a.List.Item,{id:s.case,title:s.case,accessories:[{text:s.modified}],detail:(0,r.jsx)(a.List.Item.Detail,{markdown:s.modified}),actions:(0,r.jsxs)(a.ActionPanel,{children:[(0,r.jsxs)(a.ActionPanel.Section,{children:[e.action==="paste"&&(0,r.jsx)(j,{...s}),(0,r.jsx)(V,{...s}),e.action==="copy"&&(0,r.jsx)(j,{...s})]}),(0,r.jsxs)(a.ActionPanel.Section,{children:[s.pinned?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Action,{title:"Remove Pinned Case",icon:a.Icon.PinDisabled,shortcut:{key:"r",modifiers:["cmd"]},onAction:()=>{h(l.filter(P=>P!==s.case))}}),(0,r.jsx)(a.Action,{title:"Clear Pinned Cases",icon:{source:a.Icon.XMarkCircle,tintColor:a.Color.Red},shortcut:{key:"r",modifiers:["cmd","shift"]},onAction:()=>{h([])}})]}):(0,r.jsx)(a.Action,{title:"Pin Case",icon:a.Icon.Pin,shortcut:{key:"p",modifiers:["cmd","shift"]},onAction:()=>{h([s.case,...l]),s.recent&&y(m.filter(P=>P!==s.case))}}),s.recent&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Action,{title:"Remove Recent Case",icon:a.Icon.XMarkCircle,shortcut:{key:"r",modifiers:["cmd"]},onAction:()=>{y(m.filter(P=>P!==s.case))}}),(0,r.jsx)(a.Action,{title:"Clear Recent Cases",icon:{source:a.Icon.XMarkCircle,tintColor:a.Color.Red},shortcut:{key:"r",modifiers:["cmd","shift"]},onAction:()=>{y([])}})]}),(0,r.jsx)(a.Action.CreateQuicklink,{title:`Create Quicklink to Convert to ${s.case}`,quicklink:{name:`Convert to ${s.case}`,link:q}})]})]})})};return(0,r.jsxs)(a.List,{isShowingDetail:!0,children:[(0,r.jsx)(a.List.Section,{title:"Pinned",children:l?.map(s=>(0,r.jsx)(b,{case:s,modified:F(c,L[s]),pinned:!0},s))}),(0,r.jsx)(a.List.Section,{title:"Recent",children:m.map(s=>(0,r.jsx)(b,{case:s,modified:F(c,L[s]),recent:!0},s))}),(0,r.jsx)(a.List.Section,{title:"All Cases",children:Object.entries(L).filter(([s,f])=>e[s.replace(/ +/g,"")]&&!m.includes(s)&&!l.includes(s)).map(([s,f])=>(0,r.jsx)(b,{case:s,modified:F(c,f)},s))})]})}
