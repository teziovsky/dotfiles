var Na=Object.create;var Sr=Object.defineProperty;var Ya=Object.getOwnPropertyDescriptor;var Va=Object.getOwnPropertyNames;var Qa=Object.getPrototypeOf,Ga=Object.prototype.hasOwnProperty;var Oo=o=>Sr(o,"__esModule",{value:!0});var $t=(o,r)=>()=>(o&&(r=o(o=0)),r);var ht=(o,r)=>()=>(r||o((r={exports:{}}).exports,r),r.exports),Wo=(o,r)=>{for(var i in r)Sr(o,i,{get:r[i],enumerable:!0})},$o=(o,r,i,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of Va(r))!Ga.call(o,u)&&(i||u!=="default")&&Sr(o,u,{get:()=>r[u],enumerable:!(s=Ya(r,u))||s.enumerable});return o},Se=(o,r)=>$o(Oo(Sr(o!=null?Na(Qa(o)):{},"default",!r&&o&&o.__esModule?{get:()=>o.default,enumerable:!0}:{value:o,enumerable:!0})),o),Za=(o=>(r,i)=>o&&o.get(r)||(i=$o(Oo({}),r,1),o&&o.set(r,i),i))(typeof WeakMap!="undefined"?new WeakMap:0);var Lo=ht((on,an)=>{(function(o,r){typeof on=="object"&&typeof an<"u"?an.exports=r():typeof define=="function"&&define.amd?define(r):(o=typeof globalThis<"u"?globalThis:o||self).dayjs=r()})(on,function(){"use strict";var o=1e3,r=6e4,i=36e5,s="millisecond",u="second",f="minute",h="hour",y="day",g="week",m="month",B="quarter",E="year",R="date",p="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,I=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},L=function(P,w,_){var v=String(P);return!v||v.length>=w?P:""+Array(w+1-v.length).join(_)+P},z={s:L,z:function(P){var w=-P.utcOffset(),_=Math.abs(w),v=Math.floor(_/60),S=_%60;return(w<=0?"+":"-")+L(v,2,"0")+":"+L(S,2,"0")},m:function P(w,_){if(w.date()<_.date())return-P(_,w);var v=12*(_.year()-w.year())+(_.month()-w.month()),S=w.clone().add(v,m),k=_-S<0,D=w.clone().add(v+(k?-1:1),m);return+(-(v+(_-S)/(k?S-D:D-S))||0)},a:function(P){return P<0?Math.ceil(P)||0:Math.floor(P)},p:function(P){return{M:m,y:E,w:g,d:y,D:R,h,m:f,s:u,ms:s,Q:B}[P]||String(P||"").toLowerCase().replace(/s$/,"")},u:function(P){return P===void 0}},H="en",A={};A[H]=$;var N=function(P){return P instanceof ze},M=function P(w,_,v){var S;if(!w)return H;if(typeof w=="string"){var k=w.toLowerCase();A[k]&&(S=k),_&&(A[k]=_,S=k);var D=w.split("-");if(!S&&D.length>1)return P(D[0])}else{var x=w.name;A[x]=w,S=x}return!v&&S&&(H=S),S||!v&&H},Y=function(P,w){if(N(P))return P.clone();var _=typeof w=="object"?w:{};return _.date=P,_.args=arguments,new ze(_)},O=z;O.l=M,O.i=N,O.w=function(P,w){return Y(P,{locale:w.$L,utc:w.$u,x:w.$x,$offset:w.$offset})};var ze=function(){function P(_){this.$L=M(_.locale,null,!0),this.parse(_)}var w=P.prototype;return w.parse=function(_){this.$d=function(v){var S=v.date,k=v.utc;if(S===null)return new Date(NaN);if(O.u(S))return new Date;if(S instanceof Date)return new Date(S);if(typeof S=="string"&&!/Z$/i.test(S)){var D=S.match(b);if(D){var x=D[2]-1||0,K=(D[7]||"0").substring(0,3);return k?new Date(Date.UTC(D[1],x,D[3]||1,D[4]||0,D[5]||0,D[6]||0,K)):new Date(D[1],x,D[3]||1,D[4]||0,D[5]||0,D[6]||0,K)}}return new Date(S)}(_),this.$x=_.x||{},this.init()},w.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},w.$utils=function(){return O},w.isValid=function(){return this.$d.toString()!==p},w.isSame=function(_,v){var S=Y(_);return this.startOf(v)<=S&&S<=this.endOf(v)},w.isAfter=function(_,v){return Y(_)<this.startOf(v)},w.isBefore=function(_,v){return this.endOf(v)<Y(_)},w.$g=function(_,v,S){return O.u(_)?this[v]:this.set(S,_)},w.unix=function(){return Math.floor(this.valueOf()/1e3)},w.valueOf=function(){return this.$d.getTime()},w.startOf=function(_,v){var S=this,k=!!O.u(v)||v,D=O.p(_),x=function(re,V){var Re=O.w(S.$u?Date.UTC(S.$y,V,re):new Date(S.$y,V,re),S);return k?Re:Re.endOf(y)},K=function(re,V){return O.w(S.toDate()[re].apply(S.toDate("s"),(k?[0,0,0,0]:[23,59,59,999]).slice(V)),S)},Z=this.$W,X=this.$M,he=this.$D,me="set"+(this.$u?"UTC":"");switch(D){case E:return k?x(1,0):x(31,11);case m:return k?x(1,X):x(0,X+1);case g:var je=this.$locale().weekStart||0,Ue=(Z<je?Z+7:Z)-je;return x(k?he-Ue:he+(6-Ue),X);case y:case R:return K(me+"Hours",0);case h:return K(me+"Minutes",1);case f:return K(me+"Seconds",2);case u:return K(me+"Milliseconds",3);default:return this.clone()}},w.endOf=function(_){return this.startOf(_,!1)},w.$set=function(_,v){var S,k=O.p(_),D="set"+(this.$u?"UTC":""),x=(S={},S[y]=D+"Date",S[R]=D+"Date",S[m]=D+"Month",S[E]=D+"FullYear",S[h]=D+"Hours",S[f]=D+"Minutes",S[u]=D+"Seconds",S[s]=D+"Milliseconds",S)[k],K=k===y?this.$D+(v-this.$W):v;if(k===m||k===E){var Z=this.clone().set(R,1);Z.$d[x](K),Z.init(),this.$d=Z.set(R,Math.min(this.$D,Z.daysInMonth())).$d}else x&&this.$d[x](K);return this.init(),this},w.set=function(_,v){return this.clone().$set(_,v)},w.get=function(_){return this[O.p(_)]()},w.add=function(_,v){var S,k=this;_=Number(_);var D=O.p(v),x=function(X){var he=Y(k);return O.w(he.date(he.date()+Math.round(X*_)),k)};if(D===m)return this.set(m,this.$M+_);if(D===E)return this.set(E,this.$y+_);if(D===y)return x(1);if(D===g)return x(7);var K=(S={},S[f]=r,S[h]=i,S[u]=o,S)[D]||1,Z=this.$d.getTime()+_*K;return O.w(Z,this)},w.subtract=function(_,v){return this.add(-1*_,v)},w.format=function(_){var v=this,S=this.$locale();if(!this.isValid())return S.invalidDate||p;var k=_||"YYYY-MM-DDTHH:mm:ssZ",D=O.z(this),x=this.$H,K=this.$m,Z=this.$M,X=S.weekdays,he=S.months,me=function(V,Re,tt,ie){return V&&(V[Re]||V(v,k))||tt[Re].slice(0,ie)},je=function(V){return O.s(x%12||12,V,"0")},Ue=S.meridiem||function(V,Re,tt){var ie=V<12?"AM":"PM";return tt?ie.toLowerCase():ie},re={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Z+1,MM:O.s(Z+1,2,"0"),MMM:me(S.monthsShort,Z,he,3),MMMM:me(he,Z),D:this.$D,DD:O.s(this.$D,2,"0"),d:String(this.$W),dd:me(S.weekdaysMin,this.$W,X,2),ddd:me(S.weekdaysShort,this.$W,X,3),dddd:X[this.$W],H:String(x),HH:O.s(x,2,"0"),h:je(1),hh:je(2),a:Ue(x,K,!0),A:Ue(x,K,!1),m:String(K),mm:O.s(K,2,"0"),s:String(this.$s),ss:O.s(this.$s,2,"0"),SSS:O.s(this.$ms,3,"0"),Z:D};return k.replace(I,function(V,Re){return Re||re[V]||D.replace(":","")})},w.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},w.diff=function(_,v,S){var k,D=O.p(v),x=Y(_),K=(x.utcOffset()-this.utcOffset())*r,Z=this-x,X=O.m(this,x);return X=(k={},k[E]=X/12,k[m]=X,k[B]=X/3,k[g]=(Z-K)/6048e5,k[y]=(Z-K)/864e5,k[h]=Z/i,k[f]=Z/r,k[u]=Z/o,k)[D]||Z,S?X:O.a(X)},w.daysInMonth=function(){return this.endOf(m).$D},w.$locale=function(){return A[this.$L]},w.locale=function(_,v){if(!_)return this.$L;var S=this.clone(),k=M(_,v,!0);return k&&(S.$L=k),S},w.clone=function(){return O.w(this.$d,this)},w.toDate=function(){return new Date(this.valueOf())},w.toJSON=function(){return this.isValid()?this.toISOString():null},w.toISOString=function(){return this.$d.toISOString()},w.toString=function(){return this.$d.toUTCString()},P}(),et=ze.prototype;return Y.prototype=et,[["$ms",s],["$s",u],["$m",f],["$H",h],["$W",y],["$M",m],["$y",E],["$D",R]].forEach(function(P){et[P[1]]=function(w){return this.$g(w,P[0],P[1])}}),Y.extend=function(P,w){return P.$i||(P(w,ze,Y),P.$i=!0),Y},Y.locale=M,Y.isDayjs=N,Y.unix=function(P){return Y(1e3*P)},Y.en=A[H],Y.Ls=A,Y.p={},Y})});var Mo=ht((sn,un)=>{(function(o,r){typeof sn=="object"&&typeof un<"u"?un.exports=r():typeof define=="function"&&define.amd?define(r):(o=typeof globalThis<"u"?globalThis:o||self).dayjs_plugin_relativeTime=r()})(sn,function(){"use strict";return function(o,r,i){o=o||{};var s=r.prototype,u={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function f(y,g,m,B){return s.fromToBase(y,g,m,B)}i.en.relativeTime=u,s.fromToBase=function(y,g,m,B,E){for(var R,p,b,I=m.$locale().relativeTime||u,$=o.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],L=$.length,z=0;z<L;z+=1){var H=$[z];H.d&&(R=B?i(y).diff(m,H.d,!0):m.diff(y,H.d,!0));var A=(o.rounding||Math.round)(Math.abs(R));if(b=R>0,A<=H.r||!H.r){A<=1&&z>0&&(H=$[z-1]);var N=I[H.l];E&&(A=E(""+A)),p=typeof N=="string"?N.replace("%d",A):N(A,g,H.l,b);break}}if(g)return p;var M=b?I.future:I.past;return typeof M=="function"?M(p):M.replace("%s",p)},s.to=function(y,g){return f(y,g,this,!0)},s.from=function(y,g){return f(y,g,this)};var h=function(y){return y.$u?i.utc():i()};s.toNow=function(y){return this.to(h(this),y)},s.fromNow=function(y){return this.from(h(this),y)}}})});var Fo=ht((ln,fn)=>{(function(o,r){typeof ln=="object"&&typeof fn<"u"?fn.exports=r():typeof define=="function"&&define.amd?define(r):(o=typeof globalThis<"u"?globalThis:o||self).dayjs_plugin_localizedFormat=r()})(ln,function(){"use strict";var o={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var u=i.prototype,f=u.format;s.en.formats=o,u.format=function(h){h===void 0&&(h="YYYY-MM-DDTHH:mm:ssZ");var y=this.$locale().formats,g=function(m,B){return m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(E,R,p){var b=p&&p.toUpperCase();return R||B[p]||o[p]||B[b].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(I,$,L){return $||L.slice(1)})})}(h,y===void 0?{}:y);return f.call(this,g)}}})});var zo=ht((wr,Io)=>{(function(o,r){typeof wr=="object"&&typeof Io<"u"?r(wr):typeof define=="function"&&define.amd?define(["exports"],r):(o=typeof globalThis<"u"?globalThis:o||self,r(o.WebStreamsPolyfill={}))})(wr,function(o){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function i(){}function s(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let u=s();function f(e){return typeof e=="object"&&e!==null||typeof e=="function"}let h=i,y=Promise,g=Promise.prototype.then,m=Promise.resolve.bind(y),B=Promise.reject.bind(y);function E(e){return new y(e)}function R(e){return m(e)}function p(e){return B(e)}function b(e,t,n){return g.call(e,t,n)}function I(e,t,n){b(b(e,t,n),void 0,h)}function $(e,t){I(e,t)}function L(e,t){I(e,void 0,t)}function z(e,t,n){return b(e,t,n)}function H(e){b(e,void 0,h)}let A=(()=>{let e=u&&u.queueMicrotask;if(typeof e=="function")return e;let t=R(void 0);return n=>b(t,n)})();function N(e,t,n){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,n)}function M(e,t,n){try{return R(N(e,t,n))}catch(a){return p(a)}}let Y=16384;class O{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let n=this._back,a=n;n._elements.length===Y-1&&(a={_elements:[],_next:void 0}),n._elements.push(t),a!==n&&(this._back=a,n._next=a),++this._size}shift(){let t=this._front,n=t,a=this._cursor,l=a+1,d=t._elements,c=d[a];return l===Y&&(n=t._next,l=0),--this._size,this._cursor=l,t!==n&&(this._front=n),d[a]=void 0,c}forEach(t){let n=this._cursor,a=this._front,l=a._elements;for(;(n!==l.length||a._next!==void 0)&&!(n===l.length&&(a=a._next,l=a._elements,n=0,l.length===0));)t(l[n]),++n}peek(){let t=this._front,n=this._cursor;return t._elements[n]}}function ze(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?_(e):t._state==="closed"?S(e):v(e,t._storedError)}function et(e,t){let n=e._ownerReadableStream;return ge(n,t)}function P(e){e._ownerReadableStream._state==="readable"?k(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):D(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function w(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function _(e){e._closedPromise=E((t,n)=>{e._closedPromise_resolve=t,e._closedPromise_reject=n})}function v(e,t){_(e),k(e,t)}function S(e){_(e),x(e)}function k(e,t){e._closedPromise_reject!==void 0&&(H(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function D(e,t){v(e,t)}function x(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let K=r("[[AbortSteps]]"),Z=r("[[ErrorSteps]]"),X=r("[[CancelSteps]]"),he=r("[[PullSteps]]"),me=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},je=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Ue(e){return typeof e=="object"||typeof e=="function"}function re(e,t){if(e!==void 0&&!Ue(e))throw new TypeError(`${t} is not an object.`)}function V(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function Re(e){return typeof e=="object"&&e!==null||typeof e=="function"}function tt(e,t){if(!Re(e))throw new TypeError(`${t} is not an object.`)}function ie(e,t,n){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${n}'.`)}function Dr(e,t,n){if(e===void 0)throw new TypeError(`${t} is required in '${n}'.`)}function Or(e){return Number(e)}function Tn(e){return e===0?0:e}function Ei(e){return Tn(je(e))}function Cn(e,t){let a=Number.MAX_SAFE_INTEGER,l=Number(e);if(l=Tn(l),!me(l))throw new TypeError(`${t} is not a finite number`);if(l=Ei(l),l<0||l>a)throw new TypeError(`${t} is outside the accepted range of ${0} to ${a}, inclusive`);return!me(l)||l===0?0:l}function Wr(e,t){if(!$e(e))throw new TypeError(`${t} is not a ReadableStream.`)}function rt(e){return new _t(e)}function En(e,t){e._reader._readRequests.push(t)}function $r(e,t,n){let l=e._reader._readRequests.shift();n?l._closeSteps():l._chunkSteps(t)}function Ut(e){return e._reader._readRequests.length}function Pn(e){let t=e._reader;return!(t===void 0||!Be(t))}class _t{constructor(t){if(ie(t,1,"ReadableStreamDefaultReader"),Wr(t,"First parameter"),Le(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ze(this,t),this._readRequests=new O}get closed(){return Be(this)?this._closedPromise:p(xt("closed"))}cancel(t=void 0){return Be(this)?this._ownerReadableStream===void 0?p(w("cancel")):et(this,t):p(xt("cancel"))}read(){if(!Be(this))return p(xt("read"));if(this._ownerReadableStream===void 0)return p(w("read from"));let t,n,a=E((d,c)=>{t=d,n=c});return St(this,{_chunkSteps:d=>t({value:d,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:d=>n(d)}),a}releaseLock(){if(!Be(this))throw xt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");P(this)}}}Object.defineProperties(_t.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(_t.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Be(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof _t}function St(e,t){let n=e._ownerReadableStream;n._disturbed=!0,n._state==="closed"?t._closeSteps():n._state==="errored"?t._errorSteps(n._storedError):n._readableStreamController[he](t)}function xt(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let An=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class vn{constructor(t,n){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=n}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?z(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let n=()=>this._returnSteps(t);return this._ongoingPromise?z(this._ongoingPromise,n,n):n()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return p(w("iterate"));let n,a,l=E((c,T)=>{n=c,a=T});return St(t,{_chunkSteps:c=>{this._ongoingPromise=void 0,A(()=>n({value:c,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,P(t),n({value:void 0,done:!0})},_errorSteps:c=>{this._ongoingPromise=void 0,this._isFinished=!0,P(t),a(c)}}),l}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let n=this._reader;if(n._ownerReadableStream===void 0)return p(w("finish iterating"));if(!this._preventCancel){let a=et(n,t);return P(n),z(a,()=>({value:t,done:!0}))}return P(n),R({value:t,done:!0})}}let kn={next(){return Bn(this)?this._asyncIteratorImpl.next():p(Dn("next"))},return(e){return Bn(this)?this._asyncIteratorImpl.return(e):p(Dn("return"))}};An!==void 0&&Object.setPrototypeOf(kn,An);function Pi(e,t){let n=rt(e),a=new vn(n,t),l=Object.create(kn);return l._asyncIteratorImpl=a,l}function Bn(e){if(!f(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof vn}catch{return!1}}function Dn(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let On=Number.isNaN||function(e){return e!==e};function wt(e){return e.slice()}function Wn(e,t,n,a,l){new Uint8Array(e).set(new Uint8Array(n,a,l),t)}function Ss(e){return e}function Ht(e){return!1}function $n(e,t,n){if(e.slice)return e.slice(t,n);let a=n-t,l=new ArrayBuffer(a);return Wn(l,0,e,t,a),l}function Ai(e){return!(typeof e!="number"||On(e)||e<0)}function Ln(e){let t=$n(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function Lr(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Mr(e,t,n){if(!Ai(n)||n===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:n}),e._queueTotalSize+=n}function vi(e){return e._queue.peek().value}function De(e){e._queue=new O,e._queueTotalSize=0}class Rt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Fr(this))throw jr("view");return this._view}respond(t){if(!Fr(this))throw jr("respond");if(ie(t,1,"respond"),t=Cn(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Ht(this._view.buffer),Gt(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!Fr(this))throw jr("respondWithNewView");if(ie(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Ht(t.buffer),Zt(this._associatedReadableByteStreamController,t)}}Object.defineProperties(Rt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Rt.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class nt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!xe(this))throw Ct("byobRequest");return zr(this)}get desiredSize(){if(!xe(this))throw Ct("desiredSize");return xn(this)}close(){if(!xe(this))throw Ct("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);Tt(this)}enqueue(t){if(!xe(this))throw Ct("enqueue");if(ie(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let n=this._controlledReadableByteStream._state;if(n!=="readable")throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be enqueued to`);Qt(this,t)}error(t=void 0){if(!xe(this))throw Ct("error");ye(this,t)}[X](t){Mn(this),De(this);let n=this._cancelAlgorithm(t);return Vt(this),n}[he](t){let n=this._controlledReadableByteStream;if(this._queueTotalSize>0){let l=this._queue.shift();this._queueTotalSize-=l.byteLength,zn(this);let d=new Uint8Array(l.buffer,l.byteOffset,l.byteLength);t._chunkSteps(d);return}let a=this._autoAllocateChunkSize;if(a!==void 0){let l;try{l=new ArrayBuffer(a)}catch(c){t._errorSteps(c);return}let d={buffer:l,bufferByteLength:a,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(d)}En(n,t),He(this)}}Object.defineProperties(nt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(nt.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function xe(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof nt}function Fr(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof Rt}function He(e){if(!Oi(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let n=e._pullAlgorithm();I(n,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,He(e))},a=>{ye(e,a)})}function Mn(e){Ir(e),e._pendingPullIntos=new O}function qr(e,t){let n=!1;e._state==="closed"&&(n=!0);let a=Fn(t);t.readerType==="default"?$r(e,a,n):Li(e,a,n)}function Fn(e){let t=e.bytesFilled,n=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/n)}function Nt(e,t,n,a){e._queue.push({buffer:t,byteOffset:n,byteLength:a}),e._queueTotalSize+=a}function qn(e,t){let n=t.elementSize,a=t.bytesFilled-t.bytesFilled%n,l=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),d=t.bytesFilled+l,c=d-d%n,T=l,W=!1;c>a&&(T=c-t.bytesFilled,W=!0);let q=e._queue;for(;T>0;){let j=q.peek(),U=Math.min(T,j.byteLength),ee=t.byteOffset+t.bytesFilled;Wn(t.buffer,ee,j.buffer,j.byteOffset,U),j.byteLength===U?q.shift():(j.byteOffset+=U,j.byteLength-=U),e._queueTotalSize-=U,In(e,U,t),T-=U}return W}function In(e,t,n){n.bytesFilled+=t}function zn(e){e._queueTotalSize===0&&e._closeRequested?(Vt(e),Ot(e._controlledReadableByteStream)):He(e)}function Ir(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function jn(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();qn(e,t)&&(Yt(e),qr(e._controlledReadableByteStream,t))}}function ki(e,t,n){let a=e._controlledReadableByteStream,l=1;t.constructor!==DataView&&(l=t.constructor.BYTES_PER_ELEMENT);let d=t.constructor,c=t.buffer,T={buffer:c,bufferByteLength:c.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:l,viewConstructor:d,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(T),Yn(a,n);return}if(a._state==="closed"){let W=new d(T.buffer,T.byteOffset,0);n._closeSteps(W);return}if(e._queueTotalSize>0){if(qn(e,T)){let W=Fn(T);zn(e),n._chunkSteps(W);return}if(e._closeRequested){let W=new TypeError("Insufficient bytes to fill elements in the given buffer");ye(e,W),n._errorSteps(W);return}}e._pendingPullIntos.push(T),Yn(a,n),He(e)}function Bi(e,t){let n=e._controlledReadableByteStream;if(Ur(n))for(;Vn(n)>0;){let a=Yt(e);qr(n,a)}}function Di(e,t,n){if(In(e,t,n),n.bytesFilled<n.elementSize)return;Yt(e);let a=n.bytesFilled%n.elementSize;if(a>0){let l=n.byteOffset+n.bytesFilled,d=$n(n.buffer,l-a,l);Nt(e,d,0,d.byteLength)}n.bytesFilled-=a,qr(e._controlledReadableByteStream,n),jn(e)}function Un(e,t){let n=e._pendingPullIntos.peek();Ir(e),e._controlledReadableByteStream._state==="closed"?Bi(e):Di(e,t,n),He(e)}function Yt(e){return e._pendingPullIntos.shift()}function Oi(e){let t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(Pn(t)&&Ut(t)>0||Ur(t)&&Vn(t)>0||xn(e)>0)}function Vt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Tt(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let a=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ye(e,a),a}Vt(e),Ot(t)}}function Qt(e,t){let n=e._controlledReadableByteStream;if(e._closeRequested||n._state!=="readable")return;let a=t.buffer,l=t.byteOffset,d=t.byteLength,c=a;if(e._pendingPullIntos.length>0){let T=e._pendingPullIntos.peek();Ht(T.buffer),T.buffer=T.buffer}if(Ir(e),Pn(n))if(Ut(n)===0)Nt(e,c,l,d);else{e._pendingPullIntos.length>0&&Yt(e);let T=new Uint8Array(c,l,d);$r(n,T,!1)}else Ur(n)?(Nt(e,c,l,d),jn(e)):Nt(e,c,l,d);He(e)}function ye(e,t){let n=e._controlledReadableByteStream;n._state==="readable"&&(Mn(e),De(e),Vt(e),go(n,t))}function zr(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),n=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),a=Object.create(Rt.prototype);$i(a,e,n),e._byobRequest=a}return e._byobRequest}function xn(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Gt(e,t){let n=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(n.bytesFilled+t>n.byteLength)throw new RangeError("bytesWritten out of range")}n.buffer=n.buffer,Un(e,t)}function Zt(e,t){let n=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(n.byteOffset+n.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(n.bytesFilled+t.byteLength>n.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let l=t.byteLength;n.buffer=t.buffer,Un(e,l)}function Hn(e,t,n,a,l,d,c){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,De(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=d,t._pullAlgorithm=a,t._cancelAlgorithm=l,t._autoAllocateChunkSize=c,t._pendingPullIntos=new O,e._readableStreamController=t;let T=n();I(R(T),()=>{t._started=!0,He(t)},W=>{ye(t,W)})}function Wi(e,t,n){let a=Object.create(nt.prototype),l=()=>{},d=()=>R(void 0),c=()=>R(void 0);t.start!==void 0&&(l=()=>t.start(a)),t.pull!==void 0&&(d=()=>t.pull(a)),t.cancel!==void 0&&(c=W=>t.cancel(W));let T=t.autoAllocateChunkSize;if(T===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Hn(e,a,l,d,c,n,T)}function $i(e,t,n){e._associatedReadableByteStreamController=t,e._view=n}function jr(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Ct(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Nn(e){return new Et(e)}function Yn(e,t){e._reader._readIntoRequests.push(t)}function Li(e,t,n){let l=e._reader._readIntoRequests.shift();n?l._closeSteps(t):l._chunkSteps(t)}function Vn(e){return e._reader._readIntoRequests.length}function Ur(e){let t=e._reader;return!(t===void 0||!Ne(t))}class Et{constructor(t){if(ie(t,1,"ReadableStreamBYOBReader"),Wr(t,"First parameter"),Le(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!xe(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");ze(this,t),this._readIntoRequests=new O}get closed(){return Ne(this)?this._closedPromise:p(Jt("closed"))}cancel(t=void 0){return Ne(this)?this._ownerReadableStream===void 0?p(w("cancel")):et(this,t):p(Jt("cancel"))}read(t){if(!Ne(this))return p(Jt("read"));if(!ArrayBuffer.isView(t))return p(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return p(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return p(new TypeError("view's buffer must have non-zero byteLength"));if(Ht(t.buffer),this._ownerReadableStream===void 0)return p(w("read from"));let n,a,l=E((c,T)=>{n=c,a=T});return Qn(this,t,{_chunkSteps:c=>n({value:c,done:!1}),_closeSteps:c=>n({value:c,done:!0}),_errorSteps:c=>a(c)}),l}releaseLock(){if(!Ne(this))throw Jt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");P(this)}}}Object.defineProperties(Et.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Ne(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof Et}function Qn(e,t,n){let a=e._ownerReadableStream;a._disturbed=!0,a._state==="errored"?n._errorSteps(a._storedError):ki(a._readableStreamController,t,n)}function Jt(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Pt(e,t){let{highWaterMark:n}=e;if(n===void 0)return t;if(On(n)||n<0)throw new RangeError("Invalid highWaterMark");return n}function Kt(e){let{size:t}=e;return t||(()=>1)}function Xt(e,t){re(e,t);let n=e==null?void 0:e.highWaterMark,a=e==null?void 0:e.size;return{highWaterMark:n===void 0?void 0:Or(n),size:a===void 0?void 0:Mi(a,`${t} has member 'size' that`)}}function Mi(e,t){return V(e,t),n=>Or(e(n))}function Fi(e,t){re(e,t);let n=e==null?void 0:e.abort,a=e==null?void 0:e.close,l=e==null?void 0:e.start,d=e==null?void 0:e.type,c=e==null?void 0:e.write;return{abort:n===void 0?void 0:qi(n,e,`${t} has member 'abort' that`),close:a===void 0?void 0:Ii(a,e,`${t} has member 'close' that`),start:l===void 0?void 0:zi(l,e,`${t} has member 'start' that`),write:c===void 0?void 0:ji(c,e,`${t} has member 'write' that`),type:d}}function qi(e,t,n){return V(e,n),a=>M(e,t,[a])}function Ii(e,t,n){return V(e,n),()=>M(e,t,[])}function zi(e,t,n){return V(e,n),a=>N(e,t,[a])}function ji(e,t,n){return V(e,n),(a,l)=>M(e,t,[a,l])}function Gn(e,t){if(!ot(e))throw new TypeError(`${t} is not a WritableStream.`)}function Ui(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let xi=typeof AbortController=="function";function Hi(){if(xi)return new AbortController}class At{constructor(t={},n={}){t===void 0?t=null:tt(t,"First parameter");let a=Xt(n,"Second parameter"),l=Fi(t,"First parameter");if(Jn(this),l.type!==void 0)throw new RangeError("Invalid type is specified");let c=Kt(a),T=Pt(a,1);oa(this,l,T,c)}get locked(){if(!ot(this))throw or("locked");return it(this)}abort(t=void 0){return ot(this)?it(this)?p(new TypeError("Cannot abort a stream that already has a writer")):er(this,t):p(or("abort"))}close(){return ot(this)?it(this)?p(new TypeError("Cannot close a stream that already has a writer")):Te(this)?p(new TypeError("Cannot close an already-closing stream")):Kn(this):p(or("close"))}getWriter(){if(!ot(this))throw or("getWriter");return Zn(this)}}Object.defineProperties(At.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(At.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function Zn(e){return new vt(e)}function Ni(e,t,n,a,l=1,d=()=>1){let c=Object.create(At.prototype);Jn(c);let T=Object.create(at.prototype);return oo(c,T,e,t,n,a,l,d),c}function Jn(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new O,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ot(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof At}function it(e){return e._writer!==void 0}function er(e,t){var n;if(e._state==="closed"||e._state==="errored")return R(void 0);e._writableStreamController._abortReason=t,(n=e._writableStreamController._abortController)===null||n===void 0||n.abort();let a=e._state;if(a==="closed"||a==="errored")return R(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let l=!1;a==="erroring"&&(l=!0,t=void 0);let d=E((c,T)=>{e._pendingAbortRequest={_promise:void 0,_resolve:c,_reject:T,_reason:t,_wasAlreadyErroring:l}});return e._pendingAbortRequest._promise=d,l||Hr(e,t),d}function Kn(e){let t=e._state;if(t==="closed"||t==="errored")return p(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let n=E((l,d)=>{let c={_resolve:l,_reject:d};e._closeRequest=c}),a=e._writer;return a!==void 0&&e._backpressure&&t==="writable"&&Xr(a),ia(e._writableStreamController),n}function Yi(e){return E((n,a)=>{let l={_resolve:n,_reject:a};e._writeRequests.push(l)})}function xr(e,t){if(e._state==="writable"){Hr(e,t);return}Nr(e)}function Hr(e,t){let n=e._writableStreamController;e._state="erroring",e._storedError=t;let a=e._writer;a!==void 0&&eo(a,t),!Ji(e)&&n._started&&Nr(e)}function Nr(e){e._state="errored",e._writableStreamController[Z]();let t=e._storedError;if(e._writeRequests.forEach(l=>{l._reject(t)}),e._writeRequests=new O,e._pendingAbortRequest===void 0){tr(e);return}let n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,n._wasAlreadyErroring){n._reject(t),tr(e);return}let a=e._writableStreamController[K](n._reason);I(a,()=>{n._resolve(),tr(e)},l=>{n._reject(l),tr(e)})}function Vi(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function Qi(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,xr(e,t)}function Gi(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let n=e._writer;n!==void 0&&uo(n)}function Zi(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),xr(e,t)}function Te(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Ji(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function Ki(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Xi(e){e._inFlightWriteRequest=e._writeRequests.shift()}function tr(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&Jr(t,e._storedError)}function Yr(e,t){let n=e._writer;n!==void 0&&t!==e._backpressure&&(t?ca(n):Xr(n)),e._backpressure=t}class vt{constructor(t){if(ie(t,1,"WritableStreamDefaultWriter"),Gn(t,"First parameter"),it(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let n=t._state;if(n==="writable")!Te(t)&&t._backpressure?ar(this):lo(this),ir(this);else if(n==="erroring")Kr(this,t._storedError),ir(this);else if(n==="closed")lo(this),fa(this);else{let a=t._storedError;Kr(this,a),so(this,a)}}get closed(){return Ye(this)?this._closedPromise:p(Ve("closed"))}get desiredSize(){if(!Ye(this))throw Ve("desiredSize");if(this._ownerWritableStream===void 0)throw kt("desiredSize");return na(this)}get ready(){return Ye(this)?this._readyPromise:p(Ve("ready"))}abort(t=void 0){return Ye(this)?this._ownerWritableStream===void 0?p(kt("abort")):ea(this,t):p(Ve("abort"))}close(){if(!Ye(this))return p(Ve("close"));let t=this._ownerWritableStream;return t===void 0?p(kt("close")):Te(t)?p(new TypeError("Cannot close an already-closing stream")):Xn(this)}releaseLock(){if(!Ye(this))throw Ve("releaseLock");this._ownerWritableStream!==void 0&&to(this)}write(t=void 0){return Ye(this)?this._ownerWritableStream===void 0?p(kt("write to")):ro(this,t):p(Ve("write"))}}Object.defineProperties(vt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(vt.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Ye(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof vt}function ea(e,t){let n=e._ownerWritableStream;return er(n,t)}function Xn(e){let t=e._ownerWritableStream;return Kn(t)}function ta(e){let t=e._ownerWritableStream,n=t._state;return Te(t)||n==="closed"?R(void 0):n==="errored"?p(t._storedError):Xn(e)}function ra(e,t){e._closedPromiseState==="pending"?Jr(e,t):da(e,t)}function eo(e,t){e._readyPromiseState==="pending"?fo(e,t):ha(e,t)}function na(e){let t=e._ownerWritableStream,n=t._state;return n==="errored"||n==="erroring"?null:n==="closed"?0:io(t._writableStreamController)}function to(e){let t=e._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");eo(e,n),ra(e,n),t._writer=void 0,e._ownerWritableStream=void 0}function ro(e,t){let n=e._ownerWritableStream,a=n._writableStreamController,l=aa(a,t);if(n!==e._ownerWritableStream)return p(kt("write to"));let d=n._state;if(d==="errored")return p(n._storedError);if(Te(n)||d==="closed")return p(new TypeError("The stream is closing or closed and cannot be written to"));if(d==="erroring")return p(n._storedError);let c=Yi(n);return sa(a,t,l),c}let no={};class at{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Vr(this))throw Zr("abortReason");return this._abortReason}get signal(){if(!Vr(this))throw Zr("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!Vr(this))throw Zr("error");this._controlledWritableStream._state==="writable"&&ao(this,t)}[K](t){let n=this._abortAlgorithm(t);return rr(this),n}[Z](){De(this)}}Object.defineProperties(at.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(at.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Vr(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof at}function oo(e,t,n,a,l,d,c,T){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,De(t),t._abortReason=void 0,t._abortController=Hi(),t._started=!1,t._strategySizeAlgorithm=T,t._strategyHWM=c,t._writeAlgorithm=a,t._closeAlgorithm=l,t._abortAlgorithm=d;let W=Gr(t);Yr(e,W);let q=n(),j=R(q);I(j,()=>{t._started=!0,nr(t)},U=>{t._started=!0,xr(e,U)})}function oa(e,t,n,a){let l=Object.create(at.prototype),d=()=>{},c=()=>R(void 0),T=()=>R(void 0),W=()=>R(void 0);t.start!==void 0&&(d=()=>t.start(l)),t.write!==void 0&&(c=q=>t.write(q,l)),t.close!==void 0&&(T=()=>t.close()),t.abort!==void 0&&(W=q=>t.abort(q)),oo(e,l,d,c,T,W,n,a)}function rr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ia(e){Mr(e,no,0),nr(e)}function aa(e,t){try{return e._strategySizeAlgorithm(t)}catch(n){return Qr(e,n),1}}function io(e){return e._strategyHWM-e._queueTotalSize}function sa(e,t,n){try{Mr(e,t,n)}catch(l){Qr(e,l);return}let a=e._controlledWritableStream;if(!Te(a)&&a._state==="writable"){let l=Gr(e);Yr(a,l)}nr(e)}function nr(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){Nr(t);return}if(e._queue.length===0)return;let a=vi(e);a===no?ua(e):la(e,a)}function Qr(e,t){e._controlledWritableStream._state==="writable"&&ao(e,t)}function ua(e){let t=e._controlledWritableStream;Ki(t),Lr(e);let n=e._closeAlgorithm();rr(e),I(n,()=>{Gi(t)},a=>{Zi(t,a)})}function la(e,t){let n=e._controlledWritableStream;Xi(n);let a=e._writeAlgorithm(t);I(a,()=>{Vi(n);let l=n._state;if(Lr(e),!Te(n)&&l==="writable"){let d=Gr(e);Yr(n,d)}nr(e)},l=>{n._state==="writable"&&rr(e),Qi(n,l)})}function Gr(e){return io(e)<=0}function ao(e,t){let n=e._controlledWritableStream;rr(e),Hr(n,t)}function or(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Zr(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Ve(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function kt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function ir(e){e._closedPromise=E((t,n)=>{e._closedPromise_resolve=t,e._closedPromise_reject=n,e._closedPromiseState="pending"})}function so(e,t){ir(e),Jr(e,t)}function fa(e){ir(e),uo(e)}function Jr(e,t){e._closedPromise_reject!==void 0&&(H(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function da(e,t){so(e,t)}function uo(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function ar(e){e._readyPromise=E((t,n)=>{e._readyPromise_resolve=t,e._readyPromise_reject=n}),e._readyPromiseState="pending"}function Kr(e,t){ar(e),fo(e,t)}function lo(e){ar(e),Xr(e)}function fo(e,t){e._readyPromise_reject!==void 0&&(H(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function ca(e){ar(e)}function ha(e,t){Kr(e,t)}function Xr(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let co=typeof DOMException<"u"?DOMException:void 0;function ma(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function pa(){let e=function(n,a){this.message=n||"",this.name=a||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let ba=ma(co)?co:pa();function ho(e,t,n,a,l,d){let c=rt(e),T=Zn(t);e._disturbed=!0;let W=!1,q=R(void 0);return E((j,U)=>{let ee;if(d!==void 0){if(ee=()=>{let C=new ba("Aborted","AbortError"),F=[];a||F.push(()=>t._state==="writable"?er(t,C):R(void 0)),l||F.push(()=>e._state==="readable"?ge(e,C):R(void 0)),ae(()=>Promise.all(F.map(Q=>Q())),!0,C)},d.aborted){ee();return}d.addEventListener("abort",ee)}function _e(){return E((C,F)=>{function Q(ue){ue?C():b(lt(),Q,F)}Q(!1)})}function lt(){return W?R(!0):b(T._readyPromise,()=>E((C,F)=>{St(c,{_chunkSteps:Q=>{q=b(ro(T,Q),void 0,i),C(!1)},_closeSteps:()=>C(!0),_errorSteps:F})}))}if(Ee(e,c._closedPromise,C=>{a?pe(!0,C):ae(()=>er(t,C),!0,C)}),Ee(t,T._closedPromise,C=>{l?pe(!0,C):ae(()=>ge(e,C),!0,C)}),ne(e,c._closedPromise,()=>{n?pe():ae(()=>ta(T))}),Te(t)||t._state==="closed"){let C=new TypeError("the destination writable stream closed before all data could be piped to it");l?pe(!0,C):ae(()=>ge(e,C),!0,C)}H(_e());function Me(){let C=q;return b(q,()=>C!==q?Me():void 0)}function Ee(C,F,Q){C._state==="errored"?Q(C._storedError):L(F,Q)}function ne(C,F,Q){C._state==="closed"?Q():$(F,Q)}function ae(C,F,Q){if(W)return;W=!0,t._state==="writable"&&!Te(t)?$(Me(),ue):ue();function ue(){I(C(),()=>Pe(F,Q),ft=>Pe(!0,ft))}}function pe(C,F){W||(W=!0,t._state==="writable"&&!Te(t)?$(Me(),()=>Pe(C,F)):Pe(C,F))}function Pe(C,F){to(T),P(c),d!==void 0&&d.removeEventListener("abort",ee),C?U(F):j(void 0)}})}class st{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!sr(this))throw fr("desiredSize");return en(this)}close(){if(!sr(this))throw fr("close");if(!ut(this))throw new TypeError("The stream is not in a state that permits close");Dt(this)}enqueue(t=void 0){if(!sr(this))throw fr("enqueue");if(!ut(this))throw new TypeError("The stream is not in a state that permits enqueue");return lr(this,t)}error(t=void 0){if(!sr(this))throw fr("error");Oe(this,t)}[X](t){De(this);let n=this._cancelAlgorithm(t);return ur(this),n}[he](t){let n=this._controlledReadableStream;if(this._queue.length>0){let a=Lr(this);this._closeRequested&&this._queue.length===0?(ur(this),Ot(n)):Bt(this),t._chunkSteps(a)}else En(n,t),Bt(this)}}Object.defineProperties(st.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(st.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function sr(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof st}function Bt(e){if(!mo(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let n=e._pullAlgorithm();I(n,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Bt(e))},a=>{Oe(e,a)})}function mo(e){let t=e._controlledReadableStream;return!ut(e)||!e._started?!1:!!(Le(t)&&Ut(t)>0||en(e)>0)}function ur(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Dt(e){if(!ut(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(ur(e),Ot(t))}function lr(e,t){if(!ut(e))return;let n=e._controlledReadableStream;if(Le(n)&&Ut(n)>0)$r(n,t,!1);else{let a;try{a=e._strategySizeAlgorithm(t)}catch(l){throw Oe(e,l),l}try{Mr(e,t,a)}catch(l){throw Oe(e,l),l}}Bt(e)}function Oe(e,t){let n=e._controlledReadableStream;n._state==="readable"&&(De(e),ur(e),go(n,t))}function en(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function ya(e){return!mo(e)}function ut(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function po(e,t,n,a,l,d,c){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,De(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=c,t._strategyHWM=d,t._pullAlgorithm=a,t._cancelAlgorithm=l,e._readableStreamController=t;let T=n();I(R(T),()=>{t._started=!0,Bt(t)},W=>{Oe(t,W)})}function ga(e,t,n,a){let l=Object.create(st.prototype),d=()=>{},c=()=>R(void 0),T=()=>R(void 0);t.start!==void 0&&(d=()=>t.start(l)),t.pull!==void 0&&(c=()=>t.pull(l)),t.cancel!==void 0&&(T=W=>t.cancel(W)),po(e,l,d,c,T,n,a)}function fr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function _a(e,t){return xe(e._readableStreamController)?wa(e):Sa(e)}function Sa(e,t){let n=rt(e),a=!1,l=!1,d=!1,c=!1,T,W,q,j,U,ee=E(ne=>{U=ne});function _e(){return a?(l=!0,R(void 0)):(a=!0,St(n,{_chunkSteps:ae=>{A(()=>{l=!1;let pe=ae,Pe=ae;d||lr(q._readableStreamController,pe),c||lr(j._readableStreamController,Pe),a=!1,l&&_e()})},_closeSteps:()=>{a=!1,d||Dt(q._readableStreamController),c||Dt(j._readableStreamController),(!d||!c)&&U(void 0)},_errorSteps:()=>{a=!1}}),R(void 0))}function lt(ne){if(d=!0,T=ne,c){let ae=wt([T,W]),pe=ge(e,ae);U(pe)}return ee}function Me(ne){if(c=!0,W=ne,d){let ae=wt([T,W]),pe=ge(e,ae);U(pe)}return ee}function Ee(){}return q=tn(Ee,_e,lt),j=tn(Ee,_e,Me),L(n._closedPromise,ne=>{Oe(q._readableStreamController,ne),Oe(j._readableStreamController,ne),(!d||!c)&&U(void 0)}),[q,j]}function wa(e){let t=rt(e),n=!1,a=!1,l=!1,d=!1,c=!1,T,W,q,j,U,ee=E(C=>{U=C});function _e(C){L(C._closedPromise,F=>{C===t&&(ye(q._readableStreamController,F),ye(j._readableStreamController,F),(!d||!c)&&U(void 0))})}function lt(){Ne(t)&&(P(t),t=rt(e),_e(t)),St(t,{_chunkSteps:F=>{A(()=>{a=!1,l=!1;let Q=F,ue=F;if(!d&&!c)try{ue=Ln(F)}catch(ft){ye(q._readableStreamController,ft),ye(j._readableStreamController,ft),U(ge(e,ft));return}d||Qt(q._readableStreamController,Q),c||Qt(j._readableStreamController,ue),n=!1,a?Ee():l&&ne()})},_closeSteps:()=>{n=!1,d||Tt(q._readableStreamController),c||Tt(j._readableStreamController),q._readableStreamController._pendingPullIntos.length>0&&Gt(q._readableStreamController,0),j._readableStreamController._pendingPullIntos.length>0&&Gt(j._readableStreamController,0),(!d||!c)&&U(void 0)},_errorSteps:()=>{n=!1}})}function Me(C,F){Be(t)&&(P(t),t=Nn(e),_e(t));let Q=F?j:q,ue=F?q:j;Qn(t,C,{_chunkSteps:dt=>{A(()=>{a=!1,l=!1;let ct=F?c:d;if(F?d:c)ct||Zt(Q._readableStreamController,dt);else{let Do;try{Do=Ln(dt)}catch(nn){ye(Q._readableStreamController,nn),ye(ue._readableStreamController,nn),U(ge(e,nn));return}ct||Zt(Q._readableStreamController,dt),Qt(ue._readableStreamController,Do)}n=!1,a?Ee():l&&ne()})},_closeSteps:dt=>{n=!1;let ct=F?c:d,_r=F?d:c;ct||Tt(Q._readableStreamController),_r||Tt(ue._readableStreamController),dt!==void 0&&(ct||Zt(Q._readableStreamController,dt),!_r&&ue._readableStreamController._pendingPullIntos.length>0&&Gt(ue._readableStreamController,0)),(!ct||!_r)&&U(void 0)},_errorSteps:()=>{n=!1}})}function Ee(){if(n)return a=!0,R(void 0);n=!0;let C=zr(q._readableStreamController);return C===null?lt():Me(C._view,!1),R(void 0)}function ne(){if(n)return l=!0,R(void 0);n=!0;let C=zr(j._readableStreamController);return C===null?lt():Me(C._view,!0),R(void 0)}function ae(C){if(d=!0,T=C,c){let F=wt([T,W]),Q=ge(e,F);U(Q)}return ee}function pe(C){if(c=!0,W=C,d){let F=wt([T,W]),Q=ge(e,F);U(Q)}return ee}function Pe(){}return q=yo(Pe,Ee,ae),j=yo(Pe,ne,pe),_e(t),[q,j]}function Ra(e,t){re(e,t);let n=e,a=n==null?void 0:n.autoAllocateChunkSize,l=n==null?void 0:n.cancel,d=n==null?void 0:n.pull,c=n==null?void 0:n.start,T=n==null?void 0:n.type;return{autoAllocateChunkSize:a===void 0?void 0:Cn(a,`${t} has member 'autoAllocateChunkSize' that`),cancel:l===void 0?void 0:Ta(l,n,`${t} has member 'cancel' that`),pull:d===void 0?void 0:Ca(d,n,`${t} has member 'pull' that`),start:c===void 0?void 0:Ea(c,n,`${t} has member 'start' that`),type:T===void 0?void 0:Pa(T,`${t} has member 'type' that`)}}function Ta(e,t,n){return V(e,n),a=>M(e,t,[a])}function Ca(e,t,n){return V(e,n),a=>M(e,t,[a])}function Ea(e,t,n){return V(e,n),a=>N(e,t,[a])}function Pa(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function Aa(e,t){re(e,t);let n=e==null?void 0:e.mode;return{mode:n===void 0?void 0:va(n,`${t} has member 'mode' that`)}}function va(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function ka(e,t){re(e,t);let n=e==null?void 0:e.preventCancel;return{preventCancel:Boolean(n)}}function bo(e,t){re(e,t);let n=e==null?void 0:e.preventAbort,a=e==null?void 0:e.preventCancel,l=e==null?void 0:e.preventClose,d=e==null?void 0:e.signal;return d!==void 0&&Ba(d,`${t} has member 'signal' that`),{preventAbort:Boolean(n),preventCancel:Boolean(a),preventClose:Boolean(l),signal:d}}function Ba(e,t){if(!Ui(e))throw new TypeError(`${t} is not an AbortSignal.`)}function Da(e,t){re(e,t);let n=e==null?void 0:e.readable;Dr(n,"readable","ReadableWritablePair"),Wr(n,`${t} has member 'readable' that`);let a=e==null?void 0:e.writable;return Dr(a,"writable","ReadableWritablePair"),Gn(a,`${t} has member 'writable' that`),{readable:n,writable:a}}class We{constructor(t={},n={}){t===void 0?t=null:tt(t,"First parameter");let a=Xt(n,"Second parameter"),l=Ra(t,"First parameter");if(rn(this),l.type==="bytes"){if(a.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let d=Pt(a,0);Wi(this,l,d)}else{let d=Kt(a),c=Pt(a,1);ga(this,l,c,d)}}get locked(){if(!$e(this))throw Qe("locked");return Le(this)}cancel(t=void 0){return $e(this)?Le(this)?p(new TypeError("Cannot cancel a stream that already has a reader")):ge(this,t):p(Qe("cancel"))}getReader(t=void 0){if(!$e(this))throw Qe("getReader");return Aa(t,"First parameter").mode===void 0?rt(this):Nn(this)}pipeThrough(t,n={}){if(!$e(this))throw Qe("pipeThrough");ie(t,1,"pipeThrough");let a=Da(t,"First parameter"),l=bo(n,"Second parameter");if(Le(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(it(a.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let d=ho(this,a.writable,l.preventClose,l.preventAbort,l.preventCancel,l.signal);return H(d),a.readable}pipeTo(t,n={}){if(!$e(this))return p(Qe("pipeTo"));if(t===void 0)return p("Parameter 1 is required in 'pipeTo'.");if(!ot(t))return p(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let a;try{a=bo(n,"Second parameter")}catch(l){return p(l)}return Le(this)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):it(t)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ho(this,t,a.preventClose,a.preventAbort,a.preventCancel,a.signal)}tee(){if(!$e(this))throw Qe("tee");let t=_a(this);return wt(t)}values(t=void 0){if(!$e(this))throw Qe("values");let n=ka(t,"First parameter");return Pi(this,n.preventCancel)}}Object.defineProperties(We.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(We.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(We.prototype,r.asyncIterator,{value:We.prototype.values,writable:!0,configurable:!0});function tn(e,t,n,a=1,l=()=>1){let d=Object.create(We.prototype);rn(d);let c=Object.create(st.prototype);return po(d,c,e,t,n,a,l),d}function yo(e,t,n){let a=Object.create(We.prototype);rn(a);let l=Object.create(nt.prototype);return Hn(a,l,e,t,n,0,void 0),a}function rn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function $e(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof We}function Le(e){return e._reader!==void 0}function ge(e,t){if(e._disturbed=!0,e._state==="closed")return R(void 0);if(e._state==="errored")return p(e._storedError);Ot(e);let n=e._reader;n!==void 0&&Ne(n)&&(n._readIntoRequests.forEach(l=>{l._closeSteps(void 0)}),n._readIntoRequests=new O);let a=e._readableStreamController[X](t);return z(a,i)}function Ot(e){e._state="closed";let t=e._reader;t!==void 0&&(x(t),Be(t)&&(t._readRequests.forEach(n=>{n._closeSteps()}),t._readRequests=new O))}function go(e,t){e._state="errored",e._storedError=t;let n=e._reader;n!==void 0&&(k(n,t),Be(n)?(n._readRequests.forEach(a=>{a._errorSteps(t)}),n._readRequests=new O):(n._readIntoRequests.forEach(a=>{a._errorSteps(t)}),n._readIntoRequests=new O))}function Qe(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function _o(e,t){re(e,t);let n=e==null?void 0:e.highWaterMark;return Dr(n,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Or(n)}}let So=e=>e.byteLength;try{Object.defineProperty(So,"name",{value:"size",configurable:!0})}catch{}class dr{constructor(t){ie(t,1,"ByteLengthQueuingStrategy"),t=_o(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Ro(this))throw wo("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Ro(this))throw wo("size");return So}}Object.defineProperties(dr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(dr.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function wo(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Ro(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof dr}let To=()=>1;try{Object.defineProperty(To,"name",{value:"size",configurable:!0})}catch{}class cr{constructor(t){ie(t,1,"CountQueuingStrategy"),t=_o(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Eo(this))throw Co("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Eo(this))throw Co("size");return To}}Object.defineProperties(cr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(cr.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Co(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Eo(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof cr}function Oa(e,t){re(e,t);let n=e==null?void 0:e.flush,a=e==null?void 0:e.readableType,l=e==null?void 0:e.start,d=e==null?void 0:e.transform,c=e==null?void 0:e.writableType;return{flush:n===void 0?void 0:Wa(n,e,`${t} has member 'flush' that`),readableType:a,start:l===void 0?void 0:$a(l,e,`${t} has member 'start' that`),transform:d===void 0?void 0:La(d,e,`${t} has member 'transform' that`),writableType:c}}function Wa(e,t,n){return V(e,n),a=>M(e,t,[a])}function $a(e,t,n){return V(e,n),a=>N(e,t,[a])}function La(e,t,n){return V(e,n),(a,l)=>M(e,t,[a,l])}class hr{constructor(t={},n={},a={}){t===void 0&&(t=null);let l=Xt(n,"Second parameter"),d=Xt(a,"Third parameter"),c=Oa(t,"First parameter");if(c.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(c.writableType!==void 0)throw new RangeError("Invalid writableType specified");let T=Pt(d,0),W=Kt(d),q=Pt(l,1),j=Kt(l),U,ee=E(_e=>{U=_e});Ma(this,ee,q,j,T,W),qa(this,c),c.start!==void 0?U(c.start(this._transformStreamController)):U(void 0)}get readable(){if(!Po(this))throw Bo("readable");return this._readable}get writable(){if(!Po(this))throw Bo("writable");return this._writable}}Object.defineProperties(hr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(hr.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function Ma(e,t,n,a,l,d){function c(){return t}function T(ee){return ja(e,ee)}function W(ee){return Ua(e,ee)}function q(){return xa(e)}e._writable=Ni(c,T,q,W,n,a);function j(){return Ha(e)}function U(ee){return pr(e,ee),R(void 0)}e._readable=tn(c,j,U,l,d),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,br(e,!0),e._transformStreamController=void 0}function Po(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof hr}function mr(e,t){Oe(e._readable._readableStreamController,t),pr(e,t)}function pr(e,t){Ao(e._transformStreamController),Qr(e._writable._writableStreamController,t),e._backpressure&&br(e,!1)}function br(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=E(n=>{e._backpressureChangePromise_resolve=n}),e._backpressure=t}class Wt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!yr(this))throw gr("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return en(t)}enqueue(t=void 0){if(!yr(this))throw gr("enqueue");vo(this,t)}error(t=void 0){if(!yr(this))throw gr("error");Ia(this,t)}terminate(){if(!yr(this))throw gr("terminate");za(this)}}Object.defineProperties(Wt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Wt.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function yr(e){return!f(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Wt}function Fa(e,t,n,a){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=n,t._flushAlgorithm=a}function qa(e,t){let n=Object.create(Wt.prototype),a=d=>{try{return vo(n,d),R(void 0)}catch(c){return p(c)}},l=()=>R(void 0);t.transform!==void 0&&(a=d=>t.transform(d,n)),t.flush!==void 0&&(l=()=>t.flush(n)),Fa(e,n,a,l)}function Ao(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function vo(e,t){let n=e._controlledTransformStream,a=n._readable._readableStreamController;if(!ut(a))throw new TypeError("Readable side is not in a state that permits enqueue");try{lr(a,t)}catch(d){throw pr(n,d),n._readable._storedError}ya(a)!==n._backpressure&&br(n,!0)}function Ia(e,t){mr(e._controlledTransformStream,t)}function ko(e,t){let n=e._transformAlgorithm(t);return z(n,void 0,a=>{throw mr(e._controlledTransformStream,a),a})}function za(e){let t=e._controlledTransformStream,n=t._readable._readableStreamController;Dt(n);let a=new TypeError("TransformStream terminated");pr(t,a)}function ja(e,t){let n=e._transformStreamController;if(e._backpressure){let a=e._backpressureChangePromise;return z(a,()=>{let l=e._writable;if(l._state==="erroring")throw l._storedError;return ko(n,t)})}return ko(n,t)}function Ua(e,t){return mr(e,t),R(void 0)}function xa(e){let t=e._readable,n=e._transformStreamController,a=n._flushAlgorithm();return Ao(n),z(a,()=>{if(t._state==="errored")throw t._storedError;Dt(t._readableStreamController)},l=>{throw mr(e,l),t._storedError})}function Ha(e){return br(e,!1),e._backpressureChangePromise}function gr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Bo(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}o.ByteLengthQueuingStrategy=dr,o.CountQueuingStrategy=cr,o.ReadableByteStreamController=nt,o.ReadableStream=We,o.ReadableStreamBYOBReader=Et,o.ReadableStreamBYOBRequest=Rt,o.ReadableStreamDefaultController=st,o.ReadableStreamDefaultReader=_t,o.TransformStream=hr,o.TransformStreamDefaultController=Wt,o.WritableStream=At,o.WritableStreamDefaultController=at,o.WritableStreamDefaultWriter=vt,Object.defineProperty(o,"__esModule",{value:!0})})});var jo=ht(()=>{if(!globalThis.ReadableStream)try{let o=require("node:process"),{emitWarning:r}=o;try{o.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),o.emitWarning=r}catch(i){throw o.emitWarning=r,i}}catch{Object.assign(globalThis,zo())}try{let{Blob:o}=require("buffer");o&&!o.prototype.stream&&(o.prototype.stream=function(i){let s=0,u=this;return new ReadableStream({type:"bytes",async pull(f){let y=await u.slice(s,Math.min(u.size,s+65536)).arrayBuffer();s+=y.byteLength,f.enqueue(new Uint8Array(y)),s===u.size&&f.close()}})})}catch{}});async function*dn(o,r=!0){for(let i of o)if("stream"in i)yield*i.stream();else if(ArrayBuffer.isView(i))if(r){let s=i.byteOffset,u=i.byteOffset+i.byteLength;for(;s!==u;){let f=Math.min(u-s,Uo),h=i.buffer.slice(s,s+f);s+=h.byteLength,yield new Uint8Array(h)}}else yield i;else{let s=0,u=i;for(;s!==u.size;){let h=await u.slice(s,Math.min(u.size,s+Uo)).arrayBuffer();s+=h.byteLength,yield new Uint8Array(h)}}}var Es,Uo,xo,Ka,Ae,Lt=$t(()=>{Es=Se(jo(),1);Uo=65536;xo=class cn{#e=[];#t="";#r=0;#n="transparent";constructor(r=[],i={}){if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof i!="object"&&typeof i!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");i===null&&(i={});let s=new TextEncoder;for(let f of r){let h;ArrayBuffer.isView(f)?h=new Uint8Array(f.buffer.slice(f.byteOffset,f.byteOffset+f.byteLength)):f instanceof ArrayBuffer?h=new Uint8Array(f.slice(0)):f instanceof cn?h=f:h=s.encode(`${f}`),this.#r+=ArrayBuffer.isView(h)?h.byteLength:h.size,this.#e.push(h)}this.#n=`${i.endings===void 0?"transparent":i.endings}`;let u=i.type===void 0?"":String(i.type);this.#t=/^[\x20-\x7E]*$/.test(u)?u:""}get size(){return this.#r}get type(){return this.#t}async text(){let r=new TextDecoder,i="";for await(let s of dn(this.#e,!1))i+=r.decode(s,{stream:!0});return i+=r.decode(),i}async arrayBuffer(){let r=new Uint8Array(this.size),i=0;for await(let s of dn(this.#e,!1))r.set(s,i),i+=s.length;return r.buffer}stream(){let r=dn(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(i){let s=await r.next();s.done?i.close():i.enqueue(s.value)},async cancel(){await r.return()}})}slice(r=0,i=this.size,s=""){let{size:u}=this,f=r<0?Math.max(u+r,0):Math.min(r,u),h=i<0?Math.max(u+i,0):Math.min(i,u),y=Math.max(h-f,0),g=this.#e,m=[],B=0;for(let R of g){if(B>=y)break;let p=ArrayBuffer.isView(R)?R.byteLength:R.size;if(f&&p<=f)f-=p,h-=p;else{let b;ArrayBuffer.isView(R)?(b=R.subarray(f,Math.min(p,h)),B+=b.byteLength):(b=R.slice(f,Math.min(p,h)),B+=b.size),h-=p,m.push(b),f=0}}let E=new cn([],{type:String(s).toLowerCase()});return E.#r=y,E.#e=m,E}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}};Object.defineProperties(xo.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Ka=xo,Ae=Ka});var Xa,es,mt,hn=$t(()=>{Lt();Xa=class extends Ae{#e=0;#t="";constructor(r,i,s={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,s);s===null&&(s={});let u=s.lastModified===void 0?Date.now():Number(s.lastModified);Number.isNaN(u)||(this.#e=u),this.#t=String(i)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof Ae&&/^(File)$/.test(r[Symbol.toStringTag])}},es=Xa,mt=es});function Yo(o,r=Ae){var i=`${Ho()}${Ho()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),s=[],u=`--${i}\r
Content-Disposition: form-data; name="`;return o.forEach((f,h)=>typeof f=="string"?s.push(u+mn(h)+`"\r
\r
${f.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):s.push(u+mn(h)+`"; filename="${mn(f.name,1)}"\r
Content-Type: ${f.type||"application/octet-stream"}\r
\r
`,f,`\r
`)),s.push(`--${i}--`),new r(s,{type:"multipart/form-data; boundary="+i})}var Mt,ts,rs,Ho,ns,No,mn,Ge,Ze,Rr=$t(()=>{Lt();hn();({toStringTag:Mt,iterator:ts,hasInstance:rs}=Symbol),Ho=Math.random,ns="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),No=(o,r,i)=>(o+="",/^(Blob|File)$/.test(r&&r[Mt])?[(i=i!==void 0?i+"":r[Mt]=="File"?r.name:"blob",o),r.name!==i||r[Mt]=="blob"?new mt([r],i,r):r]:[o,r+""]),mn=(o,r)=>(r?o:o.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),Ge=(o,r,i)=>{if(r.length<i)throw new TypeError(`Failed to execute '${o}' on 'FormData': ${i} arguments required, but only ${r.length} present.`)},Ze=class{#e=[];constructor(...r){if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Mt](){return"FormData"}[ts](){return this.entries()}static[rs](r){return r&&typeof r=="object"&&r[Mt]==="FormData"&&!ns.some(i=>typeof r[i]!="function")}append(...r){Ge("append",arguments,2),this.#e.push(No(...r))}delete(r){Ge("delete",arguments,1),r+="",this.#e=this.#e.filter(([i])=>i!==r)}get(r){Ge("get",arguments,1),r+="";for(var i=this.#e,s=i.length,u=0;u<s;u++)if(i[u][0]===r)return i[u][1];return null}getAll(r,i){return Ge("getAll",arguments,1),i=[],r+="",this.#e.forEach(s=>s[0]===r&&i.push(s[1])),i}has(r){return Ge("has",arguments,1),r+="",this.#e.some(i=>i[0]===r)}forEach(r,i){Ge("forEach",arguments,1);for(var[s,u]of this)r.call(i,u,s,this)}set(...r){Ge("set",arguments,2);var i=[],s=!0;r=No(...r),this.#e.forEach(u=>{u[0]===r[0]?s&&(s=!i.push(r)):i.push(u)}),s&&i.push(r),this.#e=i}*entries(){yield*this.#e}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}}});var Zo=ht((qs,Go)=>{if(!globalThis.DOMException)try{let{MessageChannel:o}=require("worker_threads"),r=new o().port1,i=new ArrayBuffer;r.postMessage(i,[i,i])}catch(o){o.constructor.name==="DOMException"&&(globalThis.DOMException=o.constructor)}Go.exports=globalThis.DOMException});var qt,Jo,os,bn,yn=$t(()=>{qt=require("node:fs"),Jo=Se(Zo(),1);hn();Lt();({stat:os}=qt.promises),bn=class{#e;#t;constructor(r){this.#e=r.path,this.#t=r.start,this.size=r.size,this.lastModified=r.lastModified}slice(r,i){return new bn({path:this.#e,lastModified:this.lastModified,size:i-r,start:this.#t+r})}async*stream(){let{mtimeMs:r}=await os(this.#e);if(r>this.lastModified)throw new Jo.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,qt.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var ei={};Wo(ei,{toFormData:()=>ds});function fs(o){let r=o.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let i=r[2]||r[3]||"",s=i.slice(i.lastIndexOf("\\")+1);return s=s.replace(/%22/g,'"'),s=s.replace(/&#(\d{4});/g,(u,f)=>String.fromCharCode(f)),s}async function ds(o,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let i=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!i)throw new TypeError("no or bad content-type header, no multipart boundary");let s=new Xo(i[1]||i[2]),u,f,h,y,g,m,B=[],E=new Ze,R=L=>{h+=$.decode(L,{stream:!0})},p=L=>{B.push(L)},b=()=>{let L=new mt(B,m,{type:g});E.append(y,L)},I=()=>{E.append(y,h)},$=new TextDecoder("utf-8");$.decode(),s.onPartBegin=function(){s.onPartData=R,s.onPartEnd=I,u="",f="",h="",y="",g="",m=null,B.length=0},s.onHeaderField=function(L){u+=$.decode(L,{stream:!0})},s.onHeaderValue=function(L){f+=$.decode(L,{stream:!0})},s.onHeaderEnd=function(){if(f+=$.decode(),u=u.toLowerCase(),u==="content-disposition"){let L=f.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);L&&(y=L[2]||L[3]||""),m=fs(f),m&&(s.onPartData=p,s.onPartEnd=b)}else u==="content-type"&&(g=f);f="",u=""};for await(let L of o)s.write(L);return s.end(),E}var Ce,G,Ko,qe,Cr,Er,is,It,as,ss,us,ls,Je,Xo,ti=$t(()=>{yn();Rr();Ce=0,G={START_BOUNDARY:Ce++,HEADER_FIELD_START:Ce++,HEADER_FIELD:Ce++,HEADER_VALUE_START:Ce++,HEADER_VALUE:Ce++,HEADER_VALUE_ALMOST_DONE:Ce++,HEADERS_ALMOST_DONE:Ce++,PART_DATA_START:Ce++,PART_DATA:Ce++,END:Ce++},Ko=1,qe={PART_BOUNDARY:Ko,LAST_BOUNDARY:Ko*=2},Cr=10,Er=13,is=32,It=45,as=58,ss=97,us=122,ls=o=>o|32,Je=()=>{},Xo=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=Je,this.onHeaderField=Je,this.onHeadersEnd=Je,this.onHeaderValue=Je,this.onPartBegin=Je,this.onPartData=Je,this.onPartEnd=Je,this.boundaryChars={},r=`\r
--`+r;let i=new Uint8Array(r.length);for(let s=0;s<r.length;s++)i[s]=r.charCodeAt(s),this.boundaryChars[i[s]]=!0;this.boundary=i,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=G.START_BOUNDARY}write(r){let i=0,s=r.length,u=this.index,{lookbehind:f,boundary:h,boundaryChars:y,index:g,state:m,flags:B}=this,E=this.boundary.length,R=E-1,p=r.length,b,I,$=A=>{this[A+"Mark"]=i},L=A=>{delete this[A+"Mark"]},z=(A,N,M,Y)=>{(N===void 0||N!==M)&&this[A](Y&&Y.subarray(N,M))},H=(A,N)=>{let M=A+"Mark";M in this&&(N?(z(A,this[M],i,r),delete this[M]):(z(A,this[M],r.length,r),this[M]=0))};for(i=0;i<s;i++)switch(b=r[i],m){case G.START_BOUNDARY:if(g===h.length-2){if(b===It)B|=qe.LAST_BOUNDARY;else if(b!==Er)return;g++;break}else if(g-1===h.length-2){if(B&qe.LAST_BOUNDARY&&b===It)m=G.END,B=0;else if(!(B&qe.LAST_BOUNDARY)&&b===Cr)g=0,z("onPartBegin"),m=G.HEADER_FIELD_START;else return;break}b!==h[g+2]&&(g=-2),b===h[g+2]&&g++;break;case G.HEADER_FIELD_START:m=G.HEADER_FIELD,$("onHeaderField"),g=0;case G.HEADER_FIELD:if(b===Er){L("onHeaderField"),m=G.HEADERS_ALMOST_DONE;break}if(g++,b===It)break;if(b===as){if(g===1)return;H("onHeaderField",!0),m=G.HEADER_VALUE_START;break}if(I=ls(b),I<ss||I>us)return;break;case G.HEADER_VALUE_START:if(b===is)break;$("onHeaderValue"),m=G.HEADER_VALUE;case G.HEADER_VALUE:b===Er&&(H("onHeaderValue",!0),z("onHeaderEnd"),m=G.HEADER_VALUE_ALMOST_DONE);break;case G.HEADER_VALUE_ALMOST_DONE:if(b!==Cr)return;m=G.HEADER_FIELD_START;break;case G.HEADERS_ALMOST_DONE:if(b!==Cr)return;z("onHeadersEnd"),m=G.PART_DATA_START;break;case G.PART_DATA_START:m=G.PART_DATA,$("onPartData");case G.PART_DATA:if(u=g,g===0){for(i+=R;i<p&&!(r[i]in y);)i+=E;i-=R,b=r[i]}if(g<h.length)h[g]===b?(g===0&&H("onPartData",!0),g++):g=0;else if(g===h.length)g++,b===Er?B|=qe.PART_BOUNDARY:b===It?B|=qe.LAST_BOUNDARY:g=0;else if(g-1===h.length)if(B&qe.PART_BOUNDARY){if(g=0,b===Cr){B&=~qe.PART_BOUNDARY,z("onPartEnd"),z("onPartBegin"),m=G.HEADER_FIELD_START;break}}else B&qe.LAST_BOUNDARY&&b===It?(z("onPartEnd"),m=G.END,B=0):g=0;if(g>0)f[g-1]=b;else if(u>0){let A=new Uint8Array(f.buffer,f.byteOffset,f.byteLength);z("onPartData",0,u,A),u=0,$("onPartData"),i--}break;case G.END:break;default:throw new Error(`Unexpected state entered: ${m}`)}H("onHeaderField"),H("onHeaderValue"),H("onPartData"),this.index=g,this.state=m,this.flags=B}end(){if(this.state===G.HEADER_FIELD_START&&this.index===0||this.state===G.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==G.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var _s={};Wo(_s,{default:()=>Ci});var gt=require("@raycast/api"),Ti=require("react");var J=require("@raycast/api"),Xe=Se(Lo()),wi=Se(Mo()),Ri=Se(Fo());var gi=require("@raycast/api"),yt=require("react");var bi=Se(require("node:http"),1),yi=Se(require("node:https"),1),Ke=Se(require("node:zlib"),1),ce=Se(require("node:stream"),1),jt=require("node:buffer");function Ja(o){if(!/^data:/i.test(o))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');o=o.replace(/\r?\n/g,"");let r=o.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let i=o.substring(5,r).split(";"),s="",u=!1,f=i[0]||"text/plain",h=f;for(let B=1;B<i.length;B++)i[B]==="base64"?u=!0:(h+=`;${i[B]}`,i[B].indexOf("charset=")===0&&(s=i[B].substring(8)));!i[0]&&!s.length&&(h+=";charset=US-ASCII",s="US-ASCII");let y=u?"base64":"ascii",g=unescape(o.substring(r+1)),m=Buffer.from(g,y);return m.type=f,m.typeFull=h,m.charset=s,m}var qo=Ja;var be=Se(require("node:stream"),1),ke=require("node:util"),fe=require("node:buffer");Lt();Rr();var Fe=class extends Error{constructor(r,i){super(r);Error.captureStackTrace(this,this.constructor),this.type=i}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var le=class extends Fe{constructor(r,i,s){super(r,i);s&&(this.code=this.errno=s.code,this.erroredSysCall=s.syscall)}};var Tr=Symbol.toStringTag,pn=o=>typeof o=="object"&&typeof o.append=="function"&&typeof o.delete=="function"&&typeof o.get=="function"&&typeof o.getAll=="function"&&typeof o.has=="function"&&typeof o.set=="function"&&typeof o.sort=="function"&&o[Tr]==="URLSearchParams",Ft=o=>o&&typeof o=="object"&&typeof o.arrayBuffer=="function"&&typeof o.type=="string"&&typeof o.stream=="function"&&typeof o.constructor=="function"&&/^(Blob|File)$/.test(o[Tr]),Vo=o=>typeof o=="object"&&(o[Tr]==="AbortSignal"||o[Tr]==="EventTarget"),Qo=(o,r)=>{let i=new URL(r).hostname,s=new URL(o).hostname;return i===s||i.endsWith(`.${s}`)};var cs=(0,ke.promisify)(be.default.pipeline),se=Symbol("Body internals"),ve=class{constructor(r,{size:i=0}={}){let s=null;r===null?r=null:pn(r)?r=fe.Buffer.from(r.toString()):Ft(r)||fe.Buffer.isBuffer(r)||(ke.types.isAnyArrayBuffer(r)?r=fe.Buffer.from(r):ArrayBuffer.isView(r)?r=fe.Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof be.default||(r instanceof Ze?(r=Yo(r),s=r.type.split("=")[1]):r=fe.Buffer.from(String(r))));let u=r;fe.Buffer.isBuffer(r)?u=be.default.Readable.from(r):Ft(r)&&(u=be.default.Readable.from(r.stream())),this[se]={body:r,stream:u,boundary:s,disturbed:!1,error:null},this.size=i,r instanceof be.default&&r.on("error",f=>{let h=f instanceof Fe?f:new le(`Invalid response body while trying to fetch ${this.url}: ${f.message}`,"system",f);this[se].error=h})}get body(){return this[se].stream}get bodyUsed(){return this[se].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:i,byteLength:s}=await gn(this);return r.slice(i,i+s)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let s=new Ze,u=new URLSearchParams(await this.text());for(let[f,h]of u)s.append(f,h);return s}let{toFormData:i}=await Promise.resolve().then(()=>(ti(),ei));return i(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[se].body&&this[se].body.type||"",i=await this.arrayBuffer();return new Ae([i],{type:r})}async json(){let r=await this.text();return JSON.parse(r)}async text(){let r=await gn(this);return new TextDecoder().decode(r)}buffer(){return gn(this)}};ve.prototype.buffer=(0,ke.deprecate)(ve.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(ve.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,ke.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function gn(o){if(o[se].disturbed)throw new TypeError(`body used already for: ${o.url}`);if(o[se].disturbed=!0,o[se].error)throw o[se].error;let{body:r}=o;if(r===null)return fe.Buffer.alloc(0);if(!(r instanceof be.default))return fe.Buffer.alloc(0);let i=[],s=0;try{for await(let u of r){if(o.size>0&&s+u.length>o.size){let f=new le(`content size at ${o.url} over limit: ${o.size}`,"max-size");throw r.destroy(f),f}s+=u.length,i.push(u)}}catch(u){throw u instanceof Fe?u:new le(`Invalid response body while trying to fetch ${o.url}: ${u.message}`,"system",u)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return i.every(u=>typeof u=="string")?fe.Buffer.from(i.join("")):fe.Buffer.concat(i,s)}catch(u){throw new le(`Could not create Buffer from response body for ${o.url}: ${u.message}`,"system",u)}else throw new le(`Premature close of server response while trying to fetch ${o.url}`)}var pt=(o,r)=>{let i,s,{body:u}=o[se];if(o.bodyUsed)throw new Error("cannot clone body after it is used");return u instanceof be.default&&typeof u.getBoundary!="function"&&(i=new be.PassThrough({highWaterMark:r}),s=new be.PassThrough({highWaterMark:r}),u.pipe(i),u.pipe(s),o[se].stream=i,u=s),u},hs=(0,ke.deprecate)(o=>o.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Pr=(o,r)=>o===null?null:typeof o=="string"?"text/plain;charset=UTF-8":pn(o)?"application/x-www-form-urlencoded;charset=UTF-8":Ft(o)?o.type||null:fe.Buffer.isBuffer(o)||ke.types.isAnyArrayBuffer(o)||ArrayBuffer.isView(o)?null:o instanceof Ze?`multipart/form-data; boundary=${r[se].boundary}`:o&&typeof o.getBoundary=="function"?`multipart/form-data;boundary=${hs(o)}`:o instanceof be.default?null:"text/plain;charset=UTF-8",ri=o=>{let{body:r}=o[se];return r===null?0:Ft(r)?r.size:fe.Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},ni=async(o,{body:r})=>{r===null?o.end():await cs(r,o)};var _n=require("node:util"),zt=Se(require("node:http"),1),Ar=typeof zt.default.validateHeaderName=="function"?zt.default.validateHeaderName:o=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(o)){let r=new TypeError(`Header name must be a valid HTTP token [${o}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},Sn=typeof zt.default.validateHeaderValue=="function"?zt.default.validateHeaderValue:(o,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let i=new TypeError(`Invalid character in header content ["${o}"]`);throw Object.defineProperty(i,"code",{value:"ERR_INVALID_CHAR"}),i}},de=class extends URLSearchParams{constructor(r){let i=[];if(r instanceof de){let s=r.raw();for(let[u,f]of Object.entries(s))i.push(...f.map(h=>[u,h]))}else if(r!=null)if(typeof r=="object"&&!_n.types.isBoxedPrimitive(r)){let s=r[Symbol.iterator];if(s==null)i.push(...Object.entries(r));else{if(typeof s!="function")throw new TypeError("Header pairs must be iterable");i=[...r].map(u=>{if(typeof u!="object"||_n.types.isBoxedPrimitive(u))throw new TypeError("Each header pair must be an iterable object");return[...u]}).map(u=>{if(u.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...u]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");i=i.length>0?i.map(([s,u])=>(Ar(s),Sn(s,String(u)),[String(s).toLowerCase(),String(u)])):void 0;super(i);return new Proxy(this,{get(s,u,f){switch(u){case"append":case"set":return(h,y)=>(Ar(h),Sn(h,String(y)),URLSearchParams.prototype[u].call(s,String(h).toLowerCase(),String(y)));case"delete":case"has":case"getAll":return h=>(Ar(h),URLSearchParams.prototype[u].call(s,String(h).toLowerCase()));case"keys":return()=>(s.sort(),new Set(URLSearchParams.prototype.keys.call(s)).keys());default:return Reflect.get(s,u,f)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let i=this.getAll(r);if(i.length===0)return null;let s=i.join(", ");return/^content-encoding$/i.test(r)&&(s=s.toLowerCase()),s}forEach(r,i=void 0){for(let s of this.keys())Reflect.apply(r,i,[this.get(s),s,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,i)=>(r[i]=this.getAll(i),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,i)=>{let s=this.getAll(i);return i==="host"?r[i]=s[0]:r[i]=s.length>1?s:s[0],r},{})}};Object.defineProperties(de.prototype,["get","entries","forEach","values"].reduce((o,r)=>(o[r]={enumerable:!0},o),{}));function oi(o=[]){return new de(o.reduce((r,i,s,u)=>(s%2===0&&r.push(u.slice(s,s+2)),r),[]).filter(([r,i])=>{try{return Ar(r),Sn(r,String(i)),!0}catch{return!1}}))}var ms=new Set([301,302,303,307,308]),vr=o=>ms.has(o);var we=Symbol("Response internals"),oe=class extends ve{constructor(r=null,i={}){super(r,i);let s=i.status!=null?i.status:200,u=new de(i.headers);if(r!==null&&!u.has("Content-Type")){let f=Pr(r,this);f&&u.append("Content-Type",f)}this[we]={type:"default",url:i.url,status:s,statusText:i.statusText||"",headers:u,counter:i.counter,highWaterMark:i.highWaterMark}}get type(){return this[we].type}get url(){return this[we].url||""}get status(){return this[we].status}get ok(){return this[we].status>=200&&this[we].status<300}get redirected(){return this[we].counter>0}get statusText(){return this[we].statusText}get headers(){return this[we].headers}get highWaterMark(){return this[we].highWaterMark}clone(){return new oe(pt(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,i=302){if(!vr(i))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new oe(null,{headers:{location:new URL(r).toString()},status:i})}static error(){let r=new oe(null,{status:0,statusText:""});return r[we].type="error",r}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(oe.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var hi=require("node:url"),mi=require("node:util");var ii=o=>{if(o.search)return o.search;let r=o.href.length-1,i=o.hash||(o.href[r]==="#"?"#":"");return o.href[r-i.length]==="?"?"?":""};var si=require("node:net");function ai(o,r=!1){return o==null||(o=new URL(o),/^(about|blob|data):$/.test(o.protocol))?"no-referrer":(o.username="",o.password="",o.hash="",r&&(o.pathname="",o.search=""),o)}var ui=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),li="strict-origin-when-cross-origin";function fi(o){if(!ui.has(o))throw new TypeError(`Invalid referrerPolicy: ${o}`);return o}function ps(o){if(/^(http|ws)s:$/.test(o.protocol))return!0;let r=o.host.replace(/(^\[)|(]$)/g,""),i=(0,si.isIP)(r);return i===4&&/^127\./.test(r)||i===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:/^(.+\.)*localhost$/.test(o.host)?!1:o.protocol==="file:"}function bt(o){return/^about:(blank|srcdoc)$/.test(o)||o.protocol==="data:"||/^(blob|filesystem):$/.test(o.protocol)?!0:ps(o)}function di(o,{referrerURLCallback:r,referrerOriginCallback:i}={}){if(o.referrer==="no-referrer"||o.referrerPolicy==="")return null;let s=o.referrerPolicy;if(o.referrer==="about:client")return"no-referrer";let u=o.referrer,f=ai(u),h=ai(u,!0);f.toString().length>4096&&(f=h),r&&(f=r(f)),i&&(h=i(h));let y=new URL(o.url);switch(s){case"no-referrer":return"no-referrer";case"origin":return h;case"unsafe-url":return f;case"strict-origin":return bt(f)&&!bt(y)?"no-referrer":h.toString();case"strict-origin-when-cross-origin":return f.origin===y.origin?f:bt(f)&&!bt(y)?"no-referrer":h;case"same-origin":return f.origin===y.origin?f:"no-referrer";case"origin-when-cross-origin":return f.origin===y.origin?f:h;case"no-referrer-when-downgrade":return bt(f)&&!bt(y)?"no-referrer":f;default:throw new TypeError(`Invalid referrerPolicy: ${s}`)}}function ci(o){let r=(o.get("referrer-policy")||"").split(/[,\s]+/),i="";for(let s of r)s&&ui.has(s)&&(i=s);return i}var te=Symbol("Request internals"),kr=o=>typeof o=="object"&&typeof o[te]=="object",bs=(0,mi.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),Ie=class extends ve{constructor(r,i={}){let s;if(kr(r)?s=new URL(r.url):(s=new URL(r),r={}),s.username!==""||s.password!=="")throw new TypeError(`${s} is an url with embedded credentials.`);let u=i.method||r.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(u)&&(u=u.toUpperCase()),"data"in i&&bs(),(i.body!=null||kr(r)&&r.body!==null)&&(u==="GET"||u==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let f=i.body?i.body:kr(r)&&r.body!==null?pt(r):null;super(f,{size:i.size||r.size||0});let h=new de(i.headers||r.headers||{});if(f!==null&&!h.has("Content-Type")){let m=Pr(f,this);m&&h.set("Content-Type",m)}let y=kr(r)?r.signal:null;if("signal"in i&&(y=i.signal),y!=null&&!Vo(y))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let g=i.referrer==null?r.referrer:i.referrer;if(g==="")g="no-referrer";else if(g){let m=new URL(g);g=/^about:(\/\/)?client$/.test(m)?"client":m}else g=void 0;this[te]={method:u,redirect:i.redirect||r.redirect||"follow",headers:h,parsedURL:s,signal:y,referrer:g},this.follow=i.follow===void 0?r.follow===void 0?20:r.follow:i.follow,this.compress=i.compress===void 0?r.compress===void 0?!0:r.compress:i.compress,this.counter=i.counter||r.counter||0,this.agent=i.agent||r.agent,this.highWaterMark=i.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=i.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=i.referrerPolicy||r.referrerPolicy||""}get method(){return this[te].method}get url(){return(0,hi.format)(this[te].parsedURL)}get headers(){return this[te].headers}get redirect(){return this[te].redirect}get signal(){return this[te].signal}get referrer(){if(this[te].referrer==="no-referrer")return"";if(this[te].referrer==="client")return"about:client";if(this[te].referrer)return this[te].referrer.toString()}get referrerPolicy(){return this[te].referrerPolicy}set referrerPolicy(r){this[te].referrerPolicy=fi(r)}clone(){return new Ie(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(Ie.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var pi=o=>{let{parsedURL:r}=o[te],i=new de(o[te].headers);i.has("Accept")||i.set("Accept","*/*");let s=null;if(o.body===null&&/^(post|put)$/i.test(o.method)&&(s="0"),o.body!==null){let y=ri(o);typeof y=="number"&&!Number.isNaN(y)&&(s=String(y))}s&&i.set("Content-Length",s),o.referrerPolicy===""&&(o.referrerPolicy=li),o.referrer&&o.referrer!=="no-referrer"?o[te].referrer=di(o):o[te].referrer="no-referrer",o[te].referrer instanceof URL&&i.set("Referer",o.referrer),i.has("User-Agent")||i.set("User-Agent","node-fetch"),o.compress&&!i.has("Accept-Encoding")&&i.set("Accept-Encoding","gzip, deflate, br");let{agent:u}=o;typeof u=="function"&&(u=u(r)),!i.has("Connection")&&!u&&i.set("Connection","close");let f=ii(r),h={path:r.pathname+f,method:o.method,headers:i[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:o.insecureHTTPParser,agent:u};return{parsedURL:r,options:h}};var wn=class extends Fe{constructor(r,i="aborted"){super(r,i)}};Rr();yn();var ys=new Set(["data:","http:","https:"]);async function Br(o,r){return new Promise((i,s)=>{let u=new Ie(o,r),{parsedURL:f,options:h}=pi(u);if(!ys.has(f.protocol))throw new TypeError(`node-fetch cannot load ${o}. URL scheme "${f.protocol.replace(/:$/,"")}" is not supported.`);if(f.protocol==="data:"){let b=qo(u.url),I=new oe(b,{headers:{"Content-Type":b.typeFull}});i(I);return}let y=(f.protocol==="https:"?yi.default:bi.default).request,{signal:g}=u,m=null,B=()=>{let b=new wn("The operation was aborted.");s(b),u.body&&u.body instanceof ce.default.Readable&&u.body.destroy(b),!(!m||!m.body)&&m.body.emit("error",b)};if(g&&g.aborted){B();return}let E=()=>{B(),p()},R=y(f.toString(),h);g&&g.addEventListener("abort",E);let p=()=>{R.abort(),g&&g.removeEventListener("abort",E)};R.on("error",b=>{s(new le(`request to ${u.url} failed, reason: ${b.message}`,"system",b)),p()}),gs(R,b=>{m&&m.body&&m.body.destroy(b)}),process.version<"v14"&&R.on("socket",b=>{let I;b.prependListener("end",()=>{I=b._eventsCount}),b.prependListener("close",$=>{if(m&&I<b._eventsCount&&!$){let L=new Error("Premature close");L.code="ERR_STREAM_PREMATURE_CLOSE",m.body.emit("error",L)}})}),R.on("response",b=>{R.setTimeout(0);let I=oi(b.rawHeaders);if(vr(b.statusCode)){let A=I.get("Location"),N=null;try{N=A===null?null:new URL(A,u.url)}catch{if(u.redirect!=="manual"){s(new le(`uri requested responds with an invalid redirect URL: ${A}`,"invalid-redirect")),p();return}}switch(u.redirect){case"error":s(new le(`uri requested responds with a redirect, redirect mode is set to error: ${u.url}`,"no-redirect")),p();return;case"manual":break;case"follow":{if(N===null)break;if(u.counter>=u.follow){s(new le(`maximum redirect reached at: ${u.url}`,"max-redirect")),p();return}let M={headers:new de(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:pt(u),signal:u.signal,size:u.size,referrer:u.referrer,referrerPolicy:u.referrerPolicy};if(!Qo(u.url,N))for(let O of["authorization","www-authenticate","cookie","cookie2"])M.headers.delete(O);if(b.statusCode!==303&&u.body&&r.body instanceof ce.default.Readable){s(new le("Cannot follow redirect with body being a readable stream","unsupported-redirect")),p();return}(b.statusCode===303||(b.statusCode===301||b.statusCode===302)&&u.method==="POST")&&(M.method="GET",M.body=void 0,M.headers.delete("content-length"));let Y=ci(I);Y&&(M.referrerPolicy=Y),i(Br(new Ie(N,M))),p();return}default:return s(new TypeError(`Redirect option '${u.redirect}' is not a valid value of RequestRedirect`))}}g&&b.once("end",()=>{g.removeEventListener("abort",E)});let $=(0,ce.pipeline)(b,new ce.PassThrough,A=>{A&&s(A)});process.version<"v12.10"&&b.on("aborted",E);let L={url:u.url,status:b.statusCode,statusText:b.statusMessage,headers:I,size:u.size,counter:u.counter,highWaterMark:u.highWaterMark},z=I.get("Content-Encoding");if(!u.compress||u.method==="HEAD"||z===null||b.statusCode===204||b.statusCode===304){m=new oe($,L),i(m);return}let H={flush:Ke.default.Z_SYNC_FLUSH,finishFlush:Ke.default.Z_SYNC_FLUSH};if(z==="gzip"||z==="x-gzip"){$=(0,ce.pipeline)($,Ke.default.createGunzip(H),A=>{A&&s(A)}),m=new oe($,L),i(m);return}if(z==="deflate"||z==="x-deflate"){let A=(0,ce.pipeline)(b,new ce.PassThrough,N=>{N&&s(N)});A.once("data",N=>{(N[0]&15)===8?$=(0,ce.pipeline)($,Ke.default.createInflate(),M=>{M&&s(M)}):$=(0,ce.pipeline)($,Ke.default.createInflateRaw(),M=>{M&&s(M)}),m=new oe($,L),i(m)}),A.once("end",()=>{m||(m=new oe($,L),i(m))});return}if(z==="br"){$=(0,ce.pipeline)($,Ke.default.createBrotliDecompress(),A=>{A&&s(A)}),m=new oe($,L),i(m);return}m=new oe($,L),i(m)}),ni(R,u).catch(s)})}function gs(o,r){let i=jt.Buffer.from(`0\r
\r
`),s=!1,u=!1,f;o.on("response",h=>{let{headers:y}=h;s=y["transfer-encoding"]==="chunked"&&!y["content-length"]}),o.on("socket",h=>{let y=()=>{if(s&&!u){let m=new Error("Premature close");m.code="ERR_STREAM_PREMATURE_CLOSE",r(m)}},g=m=>{u=jt.Buffer.compare(m.slice(-5),i)===0,!u&&f&&(u=jt.Buffer.compare(f.slice(-3),i.slice(0,3))===0&&jt.Buffer.compare(m.slice(-2),i.slice(3))===0),f=m};h.prependListener("close",y),h.on("data",g),o.on("close",()=>{h.removeListener("close",y),h.removeListener("data",g)})})}function _i(o,r){let i=new URL(r).hostname;return`https://www.google.com/s2/favicons?sz=${o}&domain=${i}`}function Si(o){let[r,i]=(0,yt.useState)(),[s,u]=(0,yt.useState)(),[f,h]=(0,yt.useState)(!0),y=!1;return(0,yt.useEffect)(()=>{async function g(){if(!y){if(!o){h(!1),i(void 0);return}h(!0),u(void 0);try{let m=(0,gi.getPreferenceValues)(),B=`https://api.raindrop.io/rest/v1/raindrops/0?sort=-create&search=${encodeURIComponent(o)??""}`,E=await Br(B,{method:"GET",headers:{Authorization:`Bearer ${m.token}`}});if(!E.ok){u(E.statusText);return}let R=await E.json();y||i(R)}catch(m){y||u(String(m))}finally{y||h(!1)}}}return g(),()=>{y=!0}},[o]),{response:r,error:s,isLoading:f}}Xe.default.extend(wi.default);Xe.default.extend(Ri.default);function Rn(o){let r=o.bookmark,i=()=>{let s=`# ${r.title}
`;return r.cover&&(s+=`![](${r.cover})
---
`),s+=`> ${r.excerpt}

`,r.note&&(s+=`## Description
${r.note}

`),r.highlights.length&&(s+=`## Highlights
`,r.highlights.map(u=>{s+=`> ${u.text}${u.note?` (Note: ${u.note})`:""}`}),s+=`

`),s};return _jsx(J.List.Item,{id:String(r._id),icon:{source:_i(64,r.link),fallback:"raindrop-icon.png"},key:r._id,title:r.title,subtitle:r.tags.map(s=>`#${s}`).join(" "),accessoryTitle:(0,Xe.default)().to((0,Xe.default)(r.lastUpdate)),actions:_jsx(J.ActionPanel,null,_jsx(J.Action.OpenInBrowser,{url:r.link}),_jsx(J.Action.Push,{title:"Show Details",icon:J.Icon.Sidebar,target:_jsx(J.Detail,{markdown:i(),navigationTitle:r.title,actions:_jsx(J.ActionPanel,null,_jsx(J.Action.OpenInBrowser,{url:r.link}),_jsx(J.Action.CopyToClipboard,{title:"Copy URL",content:r.link}),_jsx(J.Action.OpenInBrowser,{title:"Open Permanent Copy",url:`https://api.raindrop.io/v1/raindrop/${r._id}/cache`})),metadata:_jsx(J.Detail.Metadata,null,_jsx(J.Detail.Metadata.Label,{title:"Created",text:(0,Xe.default)(r.created).format("ll")}),_jsx(J.Detail.Metadata.Label,{title:"Last Updated",text:(0,Xe.default)(r.lastUpdate).format("ll")}),_jsx(J.Detail.Metadata.Label,{title:"Domain",text:r.domain}),r.tags&&_jsx(J.Detail.Metadata.TagList,{title:"Tags"},r.tags.map(s=>_jsx(J.Detail.Metadata.TagList.Item,{key:s,text:s,color:"#eed535"}))),_jsx(J.Detail.Metadata.Separator,null),r.broken&&_jsx(J.Detail.Metadata.Label,{title:"Link broken",text:"Yes"}),r.important&&_jsx(J.Detail.Metadata.Label,{title:"Favorite",text:"Yes"}))})}),_jsx(J.Action.CopyToClipboard,{title:"Copy URL",content:r.link}))})}function Ci(){let[o,r]=(0,Ti.useState)(),{response:i,error:s,isLoading:u}=Si(o);return s&&(0,gt.showToast)(gt.Toast.Style.Failure,"Cannot search bookmark",s),_jsx(gt.List,{searchBarPlaceholder:"Search bookmarks using Raindrop.io operators...",onSearchTextChange:r,isLoading:u,throttle:!0},i?.items?.map(f=>_jsx(Rn,{key:f._id,bookmark:f})))}module.exports=Za(_s);0&&(module.exports={});
/*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
